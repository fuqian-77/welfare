jQuery.fn.rotate=function(h,c){var g=this.get(0);if(!c){g.angle=((g.angle==undefined?0:g.angle)+h)%360;}else{g.angle=h;}if(g.angle>=0){var e=Math.PI*g.angle/180;}else{var e=Math.PI*(360+g.angle)/180;}var a=Math.round(Math.cos(e)*1000)/1000;var f=Math.round(Math.sin(e)*1000)/1000;if(document.all&&!window.opera){var b=document.createElement("img");b.src=g.src;b.height=g.height;b.width=g.width;b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+a+",M12="+(-f)+",M21="+f+",M22="+a+",SizingMethod='auto expand')";}else{var b=document.createElement("canvas");if(!g.oImage){b.oImage=new Image();b.oImage.src=g.src;}else{b.oImage=g.oImage;}b.style.width=b.width=Math.abs(a*b.oImage.width)+Math.abs(f*b.oImage.height);b.style.height=b.height=Math.abs(a*b.oImage.height)+Math.abs(f*b.oImage.width);var d=b.getContext("2d");d.save();if(e<=Math.PI/2){d.translate(f*b.oImage.height,0);}else{if(e<=Math.PI){d.translate(b.width,-a*b.oImage.height);}else{if(e<=1.5*Math.PI){d.translate(-a*b.oImage.width,b.height);}else{d.translate(0,-f*b.oImage.width);}}}d.rotate(e);d.drawImage(b.oImage,0,0,b.oImage.width,b.oImage.height);d.restore();}b.id=g.id;b.angle=g.angle;g.parentNode.replaceChild(b,g);};jQuery.fn.rotateRight=function(a){this.rotate(a==undefined?90:a);};jQuery.fn.rotateLeft=function(a){this.rotate(a==undefined?-90:-a);};