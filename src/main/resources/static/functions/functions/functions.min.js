rowHeight=rowheight=32;colWidth=8;sysdateformat="Y-n-j";sysfulldateformat="Y-m-d";syslabel={};systext={};sysbutton={};syslabel.fontname="宋体";syslabel.topmargin=4;syslabel.align="left";syslabel.fontsize=13;syslabel.fontbold=false;syslabel.rowspace="135%";systext.fontname="Times New roman";systext.height=28;systext.rowheight=36;sysbutton.height=24;sysbutton.width=65;sys={};sys.browser=myCheckBrowser();if(sys.browser=="firefox"){sys.dateformat="Y-m-d";}else{if(sys.browser=="ie"){sys.dateformat="Y/m/d";}}sys.windowcon="movie.png";sys.theme={theme:"default"};sys.panelcolor="background-color: #E0ECFF;";sys.fusionchartno=1;sys.tab=String.fromCharCode(9);sys.ftab="["+String.fromCharCode(9)+"]";sys.vtab="["+String.fromCharCode(9)+"]";sys.sqltab="@"+String.fromCharCode(9)+"@";sys.gridcellpix=6;sys.treemenuwidth=190;sys.urlpath="";sys.project="";sys.today=myLocalTime().date;sys.app="";url=window.location.pathname;arrUrl=url.split("/");if(arrUrl.length>1){sys.project=arrUrl[1];}path=window.document.location.pathname;sys.path=path.substring(0,path.substr(1).indexOf("/")+1);sys.userid="";sys.useraccount="admin",sys.username="admin";sys.userright="";sys.usertype="";sys.userpassword="";sys.userlogindate="";sys.action="";sys.notes="";sys.flag="";sys.fileuploadpath="/labbase/mybase/";sys.emailsender="melabcenter@163.com";sys.emailpassword="melabcenter0554";sys.period={};sys.sql={};sys.realpath="";sys.urlright="";sys.menuurl="";sys.buttonright="";sys.screenwidth=window.screen.width;sys.screenheight=window.screen.height;sys.windowheight=sysGetWinSize().h;sys.windowwidth=sysGetWinSize().w;sys.menubutton=["addflag","updateflag","deleteflag","reviewflag","uploadflag","downloadflag","printflag"];sys.chnnumber=["一","二","三","四","五","六","七","八","九","十"];sys.keyeventcmp=";text;combo;combobox;numberbox;datebox;textbox;password;";sys.maxfilenumber=100;sys.previewtype=";pdf;jpg;jpeg;png;gif;bmp;tif;tiff;doc;docx;ppt;pptx;swf;mp3;wav;";results=myRunSelectCases("xcode","");sysxcode={};for(var i=0;i<results.length;i++){str="sysxcode."+results[i].str+"="+results[i].xcode+";";str+="\n sysxcode.xcode_"+results[i].xcode+"='"+results[i].str+"';";eval(str);}syspy={};syspy.n=0;syspy.firstchr="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY";syspy.multichr={"19969":"DZ","19975":"WM","19988":"QJ","20048":"YL","20056":"SC","20060":"NM","20094":"QG","20127":"QJ","20167":"QC","20193":"YG","20250":"KH","20256":"ZC","20282":"SC","20285":"QJG","20291":"TD","20314":"YD","20340":"NE","20375":"TD","20389":"YJ","20391":"CZ","20415":"PB","20446":"YS","20447":"SQ","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20985":"AW","21032":"PB","21048":"XQ","21049":"SC","21089":"YS","21119":"JC","21242":"SB","21273":"SC","21305":"YP","21306":"QO","21330":"ZC","21333":"SDC","21345":"QK","21378":"CA","21397":"SC","21414":"XS","21442":"SC","21477":"JG","21480":"TD","21484":"ZS","21494":"YX","21505":"YX","21512":"HG","21523":"XH","21537":"PB","21542":"PF","21549":"KH","21571":"E","21574":"DA","21588":"TD","21589":"O","21618":"ZC","21621":"KHA","21632":"ZJ","21654":"KG","21679":"LKG","21683":"KH","21710":"A","21719":"YH","21734":"WOE","21769":"A","21780":"WN","21804":"XH","21834":"A","21899":"ZD","21903":"RN","21908":"WO","21939":"ZC","21956":"SA","21964":"YA","21970":"TD","22003":"A","22031":"JG","22040":"XS","22060":"ZC","22066":"ZC","22079":"MH","22129":"XJ","22179":"XA","22237":"NJ","22244":"TD","22280":"JQ","22300":"YH","22313":"XW","22331":"YQ","22343":"YJ","22351":"PH","22395":"DC","22412":"TD","22484":"PB","22500":"PB","22534":"ZD","22549":"DH","22561":"PB","22612":"TD","22771":"KQ","22831":"HB","22841":"JG","22855":"QJ","22865":"XQ","23013":"ML","23081":"WM","23487":"SX","23558":"QJ","23561":"YW","23586":"YW","23614":"YW","23615":"SN","23631":"PB","23646":"ZS","23663":"ZT","23673":"YG","23762":"TD","23769":"ZS","23780":"QJ","23884":"QK","24055":"XH","24113":"DC","24162":"ZC","24191":"GA","24273":"QJ","24324":"NL","24377":"TD","24378":"QJ","24439":"PF","24554":"ZS","24683":"TD","24694":"WE","24733":"LK","24925":"TN","25094":"ZG","25100":"XQ","25103":"XH","25153":"PB","25170":"PB","25179":"KG","25203":"PB","25240":"ZS","25282":"FB","25303":"NA","25324":"KG","25341":"ZY","25373":"WZ","25375":"XJ","25384":"A","25457":"A","25528":"SD","25530":"SC","25552":"TD","25774":"ZC","25874":"ZC","26044":"YW","26080":"WM","26292":"PB","26333":"PB","26355":"ZY","26366":"CZ","26397":"ZC","26399":"QJ","26415":"ZS","26451":"SB","26526":"ZC","26552":"JG","26561":"TD","26588":"JG","26597":"CZ","26629":"ZS","26638":"YL","26646":"XQ","26653":"KG","26657":"XJ","26727":"HG","26894":"ZC","26937":"ZS","26946":"ZC","26999":"KJ","27099":"KJ","27449":"YQ","27481":"XS","27542":"ZS","27663":"ZS","27748":"TS","27784":"SC","27788":"ZD","27795":"TD","27812":"O","27850":"PB","27852":"MB","27895":"SL","27898":"PL","27973":"QJ","27981":"KH","27986":"HX","27994":"XJ","28044":"YC","28065":"WG","28177":"SM","28267":"QJ","28291":"KH","28337":"ZQ","28463":"TL","28548":"DC","28601":"TD","28689":"PB","28805":"JG","28820":"QG","28846":"PB","28952":"TD","28975":"ZC","29100":"A","29325":"QJ","29575":"SL","29602":"FB","30010":"TD","30044":"CX","30058":"PF","30091":"YSP","30111":"YN","30229":"XJ","30427":"SC","30465":"SX","30631":"YQ","30655":"QJ","30684":"QJG","30707":"SD","30729":"XH","30796":"LG","30917":"PB","31074":"NM","31085":"JZ","31109":"SC","31181":"ZC","31192":"MLB","31293":"JQ","31400":"YX","31584":"YJ","31896":"ZN","31909":"ZY","31995":"XJ","32321":"PF","32327":"ZY","32418":"HG","32420":"XQ","32421":"HG","32438":"LG","32473":"GJ","32488":"TD","32521":"QJ","32527":"PB","32562":"ZSQ","32564":"JZ","32735":"ZD","32793":"PB","33071":"PF","33098":"XL","33100":"YA","33152":"PB","33261":"CX","33324":"BP","33333":"TD","33406":"YA","33426":"WM","33432":"PB","33445":"JG","33486":"ZN","33493":"TS","33507":"QJ","33540":"QJ","33544":"ZC","33564":"XQ","33617":"YT","33632":"QJ","33636":"XH","33637":"YX","33694":"WG","33705":"PF","33728":"YW","33882":"SR","34067":"WM","34074":"YW","34121":"QJ","34255":"ZC","34259":"XL","34425":"JH","34430":"XH","34485":"KH","34503":"YS","34532":"HG","34552":"XS","34558":"YE","34593":"ZL","34660":"YQ","34892":"XH","34928":"SC","34999":"QJ","35048":"PB","35059":"SC","35098":"ZC","35203":"TQ","35265":"JX","35299":"JX","35782":"SZ","35828":"YS","35830":"E","35843":"TD","35895":"YG","35977":"MH","36158":"JG","36228":"QJ","36426":"XQ","36466":"DC","36710":"JC","36711":"ZYG","36767":"PB","36866":"SK","36951":"YW","37034":"YX","37063":"XH","37218":"ZC","37325":"ZC","38063":"PB","38079":"TD","38085":"QY","38107":"DC","38116":"TD","38123":"YD","38224":"HG","38241":"XTC","38271":"ZC","38415":"YE","38426":"KH","38461":"YD","38463":"AE","38466":"PB","38477":"XJ","38518":"YT","38551":"WK","38585":"ZC","38704":"XS","38739":"LJ","38761":"GJ","38808":"SQ","39048":"JG","39049":"XJ","39052":"HG","39076":"CZ","39271":"XT","39534":"TD","39552":"TD","39584":"PB","39647":"SB","39730":"LG","39748":"TPB","40109":"ZQ","40479":"ND","40516":"HG","40536":"HG","40583":"QJ","40765":"YQ","40784":"QJ","40840":"YK","40863":"QJG"};syspath={};syspath.master="mybase//";syspath.teachers="mybase//photos//teachers//";syspath.students="mybase//photos//students//";syspath.labs="mybase//labs//";syspath.contacts="mybase//contacts//";syspath.employees="mybase//employees//";syspath.products="mybase//products//";syspath.activities="mybase//activities//";syspath.services="mybase//services//";syspath.customers="mybase//customers//";syspath.collections="mybase//collections//";syspath.orders="mybase//orders//";syspath.faqs="mybase//faqs//";syspath.troubles="mybase//troubles//";syspath.invoices="mybase//invoices//";syspath.resources="mybase//resources//";syspath.homework="mybase//homework//";sysfilenotfound="system//images//filenotfound.png";prowppx=26;pcolppx=7;pgridrowheight=21;pwinheight=600;pwinwidth=800;pitemsPerPage=20;maxReturnNumber=20;function myGetPyCode(str){var result="";if(syspy.n==0){var results=myRunSelectCases("pycode","");for(var i=0;i<results.length;i++){var s=results[i].str;eval(s);}syspy.n=results.length;}if(str!=""&&str!=undefined){for(var i=0;i<str.length;i++){var s=str.charAt(i).toString();var unicode=s.charCodeAt();var py="";if(s!=""){if(unicode>=19968&&unicode<=40869){py=eval("syspy.x"+unicode);}else{py=s;}result+=py;}}}return result;}function myGetMemoCode(g){var b="";if(g!=""&&g!=undefined){for(var d=0;d<g.length;d++){var e=g.charAt(d).toString();var a=e.charCodeAt();var c="";if(e!=""){if(a>=19968&&a<=40869){c=syspy.firstchr.charAt(a-19968);}else{c=e;}b+=c;}}}return b.toLowerCase();}function extend(c,a){for(var b in a){c[b]=a[b];}return c;}function getScrollWidth(){var c,a,b=document.createElement("DIV");b.style.cssText="position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;";c=document.body.appendChild(b).clientWidth;b.style.overflowY="scroll";a=b.clientWidth;document.body.removeChild(b);return c-a;}function myGetPeriod(a){s=myLoadData("period.xml","period",a);return s;}function myGetWidthOfText(d,c,e){var b=document.createElement("canvas");var a=b.getContext("2d");a.font=e+"px "+c;return(a.measureText(d).width);}function myGetBrowserScrollSize(){var c={"border":"none","height":"200px","margin":"0","padding":"0","width":"200px"};var a=$("<div>").css($.extend({},c));var b=$("<div>").css($.extend({"left":"-1000px","overflow":"scroll","position":"absolute","top":"-1000px"},c)).append(a).appendTo("body").scrollLeft(1000).scrollTop(1000);var d={"height":(b.offset().top-a.offset().top)||0,"width":(b.offset().left-a.offset().left)||0};b.remove();return d;}function myCheckBrowser(){var b=navigator.userAgent.toLowerCase();var a=navigator.userAgent;if(b.indexOf("msie")>=0&&b.indexOf("opera")<0){a="ie";}else{if(b.indexOf("firefox")>=0){a="firefox";}else{if(b.indexOf("opera")>=0){a="opera";}else{if(b.indexOf("chrome")>=0){a="chrome";}else{if(b.indexOf("safari")>=0){a="safari";}}}}}return(a);}function sysGetWinSize(){var a={};a.w=0;a.h=0;if(window.innerHeight){a.h=window.innerHeight;}else{if((document.body)&&(document.body.clientHeight)){a.h=document.body.clientHeight;}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){a.h=document.documentElement.clientHeight;}if(window.innerWidth){a.w=window.innerWidth;}else{if((document.body)&&(document.body.clientWidth)){a.w=document.body.clientWidth;}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){a.w=document.documentElement.clientWidth;}return(a);}function myBanBackSpace(d){var h=d||window.event;var c=h.target||h.srcElement;var l=c.type||c.getAttribute("type");var g=c.readOnly;var q=c.disabled;g=(g==undefined)?false:g;q=(q==undefined)?true:q;var b=h.keyCode==8&&(l=="password"||l=="text"||l=="textarea")&&(g==true||q==true);var a=h.keyCode==8&&l!="password"&&l!="text"&&l!="textarea";var m=(h.keyCode==33||h.keyCode==34)&&l=="textarea"&&sys.browser=="chrome";if(l=="keditor"){var j=(h.keyCode==8)&&(g==true||q==true);if(!j){j=(h.keyCode==33||h.keyCode==34)&&(sys.browser=="chrome");}if(!j){j=(h.keyCode==86&&h.ctrlKey);}}if(a||b||m||j){return false;}}function trim(a){if(a!=undefined){return a.replace(/(^\s*)|(\s*$)/g,"");}else{return"";}}String.prototype.replaceAll=function(str1,str2){var str=this;if(str==undefined){str="";}var result=str.replace(eval("/"+str1+"/gi"),str2);return result;};String.prototype.replaceAllString=function(c,b){var d=this;if(d==undefined){d="";}var a=d.replace(c,b);while(a.indexOf(c)>=0){var a=d.replace(c,b);}return a;};function replace92(d,c){var a="";if(d==undefined){d="";}for(var b=0;b<d.length;b++){if(d.substr(b,1)=="\\"){a+=c;}else{a+=d.substr(b,1);}}return a;}function myReplace(e,d,c){var a="";if(e==undefined){e="";}if(d=="\\"){for(var b=0;b<e.length;b++){if(e.substr(b,1)=="\\"){a+=c;}else{a+=e.substr(b,1);}}}else{if(d=="'"){for(var b=0;b<e.length;b++){if(e.substr(b,1)=="'"){a+="\\'";}else{a+=e.substr(b,1);}}}}return a;}function myIndexOfJson(c,d,e){var a=-1;for(var b=0;b<c.length;b++){if(c[b][d]==e){a=b;break;}}return a;}function myToSqlValue(a){if(a==undefined){a="";}else{a=a+"";}if(a!=""){a=a.replace(/\n/g,"<br>");a=a.replaceAll("'","''");a=a.replaceAll("	"," ");a=a.replaceAll('"','\\"');}return a;}function mySpace(c){var b="";for(var a=1;a<=c;a++){b+="&nbsp;";}return b;}function myToUnicode(d){var a="";if(d!=""){for(var b=0;b<d.length;b++){var c=parseInt(d[b].charCodeAt(0),10).toString(16);a+=c.substr(0,4);}}return a;}function xmyToChn(d){var a="";if(d!=""){for(var b=0;b<d.length;b++){var c=d.substr(b*4,4);c=c.replace("%","");a+=String.fromCharCode(parseInt(c,16).toString(10));}}return a;}function myServerTime(f){rs={};var url=sys.path+"/doFunctions";$.ajax({type:"post",url:url,dataType:"text",async:false,data:{action:"servertime"},success:function(data){eval("rs="+data);}});return rs;}function myLocalTime(c){if(c==undefined||c==""){var c=new Date();}else{c=new Date(c);}var t=c.getFullYear()+"";var e=c.getMonth()+1+"";var r=c.getDate()+"";var j=c.getHours()+"";var l=c.getMinutes()+"";var q=c.getSeconds()+"";var b=c.getMilliseconds()+"";var a=c.getTime()+"";if(e.length<2){e="0"+e;}if(r.length<2){r="0"+r;}if(j.length<2){j="0"+j;}if(l.length<2){l="0"+l;}if(q.length<2){q="0"+q;}var g={};g.date=t+"-"+e+"-"+r;g.datetime=t+"-"+e+"-"+r+" "+j+":"+l+":"+q;g.longdate="年"+e+"月"+r+"日";g.time=j+":"+l+":"+q+"."+b;g.fulldatetime=t+"-"+e+"-"+r+" "+j+":"+l+":"+q+"."+b;g.timestamp=t+""+e+""+r+""+a;g.dateid=t+""+e+""+r;g.timeid=a;g.ms=b;g.sec=q;return g;}function myDateDiff(q,l){var d={};l=new Date(l.replace(/-/g,"/"));q=new Date(q.replace(/-/g,"/"));var a=l.getTime()-q.getTime();var g=Math.floor(a/(24*3600*1000));var m=a%(24*3600*1000);var b=Math.floor(m/(3600*1000));var j=m%(3600*1000);var c=Math.floor(j/(60*1000));var h=j%(60*1000);var e=Math.round(h/1000);var r="";if(g!=0){r+=g+"天";}if(b!=0){r+=b+"小时";}if(c!=0){r+=c+"分";}if(e!=0){r+=e+"秒";}d.day=r;r="";if(g*24+b!=0){r+=(g*24+b)+"小时";}if(c!=0){r+=c+"分";}if(e!=0){r+=e+"秒";}d.hour=r;r="";if(g*24*60+b*60+c!=0){r+=(g*24*60+b*60+c)+"分";}if(e!=0){r+=e+"秒";}d.min=r;d.sec=(g*24*3600+b*3600+c*60+e);d.ms=a;return d;}function dateadd(c,j){c=c.replace(/-/g,"/");var g=new Date(c);g=g.valueOf();g=g+j*24*60*60*1000;g=new Date(g);var h=g.getFullYear();var a=g.getMonth()+1;var e=g.getDate();if(a<=9){a="0"+a;}if(e<=9){e="0"+e;}var b=h+"-"+a+"-"+e;return b;}function myDateboxValue(e,d){var a="";if(d==undefined||d==""){var d="long";}if($("#"+e).length>0){var c=$("#"+e).textbox("getValue");var b=c.split("-");if(b.length==3){if(b[1].length<2){b[1]="0"+b[1];}if(b[2].length<2){b[2]="0"+b[2];}if(d=="long"||d=="day"){a=b[0]+"年"+b[1]+"月"+b[2]+"日";}else{if(d=="month"){a=b[0]+"年"+b[1]+"月";}else{if(d=="year"){a=b[0]+"年";}}}}}return a;}function myMessageWin(id,msg,icon,top,left,height,width,style){if($("#"+id).length==0){var title="系统提示";var str='<div id="'+id+'" class="easyui-window" title="<div style=\'margin:0px 0px 0px 4px; \'>'+title+'" data-options="iconCls:\'\'" ';str+='style="overflow:hidden; position:relative; margin:0; padding:0;"></div>';$("#main").append($(str));}$("#"+id).window("close");if(width<=0){width=360;}if(height<=0){height=150;}if(style==undefined||style==""){style="close";}style=";"+style+";";var xstyle="({width:"+width+", height:"+height;if(style.indexOf(";resize;")>=0){xstyle+=" ,resizable: true";}else{xstyle+=" ,resizable: false";}if(style.indexOf(";drag;")>=0){xstyle+=" ,draggable: true";}else{xstyle+=" ,draggable: false";}if(style.indexOf(";close;")>=0){xstyle+=" ,closable:true";}else{xstyle+=" ,closable:false";}xstyle+=" ,modal:true, collapsible:false, maximizable:false, minimizable:false";xstyle+="})";if(top>0&&left>0){$("#"+id).window({left:left,top:top});}$("#"+id).window(eval(xstyle));$("#"+id).attr("xtype","window");var btntop=height-78;if(icon=="ok"){iconid="system/images/icon-info.gif";btnleft=(width-sysbutton.width)/2;myButton([id+"Ok",id,"确定",btntop,btnleft,sysbutton.height,sysbutton.width]);}else{if(icon=="warn"){iconid="system/images/icon-warning.gif";btnleft=(width-sysbutton.width)/2;myButton([id+"Ok",id,"确定",btntop,btnleft,sysbutton.height,sysbutton.width]);}else{if(icon=="error"){iconid="system/images/icon-error.gif";btnleft=(width-sysbutton.width)/2;myButton([id+"Ok",id,"确定",btntop,btnleft,sysbutton.height,sysbutton.width]);}else{if(icon=="yesno"||icon=="question"){iconid="system/images/icon-question.gif";btnleft=(width-8-2*sysbutton.width)/3;myButton([id+"Ok",id,"确定",btntop,btnleft,sysbutton.height,sysbutton.width]);myButton([id+"Cancel",id,"取消",btntop,2*btnleft+sysbutton.width,sysbutton.height,sysbutton.width]);$("#"+id+"Cancel").on("click",function(){$("#"+id).window("close");});}}}}p={};p.id=id+"icon";p.parent=id;p.label="";p.labelwidth=0;p.left=12;p.left=12;p.height=32;p.width=32;p.src=iconid;myImageField(p);var msgdim=msg.split("@n");if(style.indexOf(";@l;")<0){xmargin=54;}var str="";for(i=0;i<msgdim.length;i++){if(i==0||i==msgdim.length-1){str+='<div style="margin:12px 54px 0px 54px;">';}else{if(i<2){str+='<div style="margin:5px 54px 0px 54px;">';}else{str+='<div style="margin:5px 6px 0px 6px;">';}}if(msgdim[i]==""){msgdim[i]="&nbsp;";}str+=msgdim[i]+"</div>";}if(style.indexOf(";@l;")<0){str="<center>"+str+"</center>";}$("#"+id).append($(str));}function myMessage(msg,icon,width,callback){var title="系统提示";if(callback==undefined){callback="";}if(msg.constructor==window.Array){var str="";for(var i=0;i<msg.length;i++){if(i>0){str+="@n";}str+=msg[i];}str=str.replaceAll("<br>","@n");}else{var str=msg;}var tmp=str.split("@n");if(icon==undefined||icon==""){var icon="info";}else{if(icon=="warn"){icon="warning";}else{if(icon=="alert"){icon="info";}}}var k=0;str="";for(var i=0;i<tmp.length;i++){var s=tmp[i].replaceAll(" ","&nbsp;");if(tmp[i]==""){s='<div style="margin:5px 0px 0px 0px;"></div>';}else{if(tmp.length==1){s='<div style="margin:8px 12px 5px 0px;">'+s+"</div>";}else{if(k==0){s='<div style="margin:0px 18px 5px 0px;">'+s+"</div>";}else{if(k==1){s='<div style="margin:0px 12px 5px 0px;">'+s+"</div>";}else{s='<div style="margin:0px 0px 5px 30px;">'+s+"</div>";}}}}s="<center>"+s+"</center>";if(tmp[i]!=""){k++;}str+=s;}var cmd="";cmd+="$.messager.alert({\n";cmd+="title:'"+title+"',\n";cmd+="msg:'"+str+"<br>',\n";if(width!=undefined&&width>0){cmd+="width: "+width+",\n";}cmd+="icon:'"+icon+"'\n";if(callback!=""){cmd+=",fn:"+callback;}cmd+="});\n";eval(cmd);}function myConfirmMessage(g){var c=g.split("@n");var a=0;var e="";for(var b=0;b<c.length;b++){var d=c[b].replaceAll(" ","&nbsp;");e+='<center><div style="';if(b==0&&c.length==1){e+="margin:16px 4px 0px 4px;";}else{if(b==0){e+="margin:6px 4px 0px 4px;";}else{if(b<2){e+="margin:5px 4px 0px 4px;";}else{e+="margin:5px 4px 0px 42px;";}}}if(c[b]==""){e+="height:3px;";}e+='">'+c[b]+"</div></center>";}return(e);}function myMessageEvent(){}function myShowMessage(b,a){myMessageShow(b,a);}function myMessageShow(h,e){if(e==undefined||e==0){e=200;}var c=h.split("@n");var d="";var g="";var a=0;for(var b=0;b<c.length;b++){d=c[b].replaceAll(" ","&nbsp;");d='<div style="margin:8px 0px 0px 0px;">'+d+"</div>";d="<center>"+d+"</center>";if(c[b]!=""){a++;}g+=d;}if(a>=2){height=96+(a-1)*24;}else{height=88+8+9;}$.messager.show({title:"系统提示",width:e,height:height,msg:g,timeout:2000,showType:"slide"});}function myDefineLabelStyle(d,c,a,b){var e="";if(d!=undefined&&c!=undefined){e+='style=\\"';if(syslabel.fontbold){e+="font-weight:bold; ";}e+="font-size: "+syslabel.fontsize+"px; font-family: "+syslabel.fontname+"; TOP: "+d+"px; LEFT: "+c+"px; ";if(a!=undefined&&a>0){e+=" height: "+a+"px;";}if(b!=undefined&&b>0){e+=" width: "+b+"px;";}e+=" position: absolute";}return e;}function mySetAttribute(a){$("#"+a.id).attr("xid",a.id);$("#"+a.id).attr("xparent",a.parent);$("#"+a.id).attr("xlabel",a.label);$("#"+a.id).attr("xtop",a.top*1);$("#"+a.id).attr("xleft",a.left*1);$("#"+a.id).attr("xheight",a.height*1);$("#"+a.id).attr("xwidth",a.width*1);$("#"+a.id).attr("xdatatype",a.datatype);$("#"+a.id).attr("xtype",a.classtype);$("#"+a.id).attr("xstyle",a.style);$("#"+a.id).attr("xfield",a.field);$("#"+a.id).attr("xvalue",a.value);return a;}function myLabel(a){if(a instanceof Array){var b={};b.id=a[0];b.parent=a[1];b.label=a[2];b.top=a[3];b.left=a[4];b.width=a[5];if(a.length>5){b.style=a[6];}}else{var b=a;}b=mySetPosSize(b);b.height=syslabel.fontsize;if(b.parent==""){b.parent="document.body";}if(b.style==undefined){b.style="";}else{b.style=";"+b.style+";";}var c="";if(b.width==undefined||b.width==0){b.width=200;}c+="<div id='"+b.id+"' class='textdiv' align='left' style='overflow:hidden'>";if(b.style.indexOf(";b;")>=0){c+="<b>";}if(b.style.indexOf(";u;")>=0){c+="<u>";}if(b.style.indexOf(";i;")>=0){c+="<i>";}if(b.style.indexOf(";a;")>=0){c+="<a>";}c+=b.label;if(b.style.indexOf(";a;")>=0){c+="</a>";}if(b.style.indexOf(";i;")>=0){c+="</i>";}if(b.style.indexOf(";u;")>=0){c+="</u>";}if(b.style.indexOf(";b;")>=0){c+="</b>";}c+="</div>";$("#"+b.parent).append($(c));if(b.width>0){$("#"+b.id).css(myLabelCss(b.parent,b.top,b.left,0,b.width));}else{$("#"+b.id).css(myLabelCss(b.parent,b.top,b.left,0,0));}b.classtype="label";b.datatype="";mySetAttribute(b);}function myLabelCss(parent,top,left,height,width){var css="";if(sys.browser=="firefox"&&parent!=undefined&&$("#"+parent).length>0&&$("#"+parent).attr("xtype")=="fieldset"){top=top-16;}var str='var css={position: "absolute"';if(syslabel.fontbold){str+=", font-weight:bold";}str+=', "font-size":'+syslabel.fontsize+', "font-family":"'+syslabel.fontname+'"';if(top!=undefined&&left!=undefined){str+=', "top":'+top+', "left":'+left;if(width!=undefined&&width>0){str+=', "width": '+width;}else{str+=', "autosize":true';}if(height!=undefined&&height>0){str+=', "height": '+height;}str+=', "z-index":2};\n';}else{str+="};\n";}eval(str);return css;}function myTextCss(parent,top,left,height,width){var str="";var css="";if(top!=undefined&&left!=undefined){if(sys.browser=="firefox"&&parent!=undefined&&$("#"+parent).length>0&&$("#"+parent).attr("xtype")=="fieldset"){top=top-16;}str='var css={overflow:"hidden", "text-overflow":"ellipsis", padding:"0px 2px 0px 4px", position: "absolute", top:"'+top+'px", left:"'+left+'px"';if(width!=undefined&&width>0){str+=", width: "+width;}if(height!=undefined&&height>0){str+=", height: "+height;}str+=', "z-index":2};\n';}else{str+="\n";}eval(str);return css;}function myFieldStyle(h,g){if(g!=undefined&&g!=""){var d=(g+";").split(";");for(var c=0;c<d.length;c++){if(d[c]=="readonly"){$("#"+h).textbox({readonly:true});$("#"+h).attr("xreadonly",1);$("#"+h).attr("xsaveflag",0);}if(d[c]=="noreset"){$("#"+h).attr("xreset",0);}if(d[c]=="save"){$("#"+h).attr("xsaveflag",1);}if(d[c]=="email"){$("#"+h).textbox({validType:"email"});}if(d[c]=="url"){$("#"+h).textbox({validType:"url"});}if(d[c]=="password"){$("#"+h).textbox({type:"password"});}if(d[c].indexOf("icon:")>=0){var b=d[c].indexOf("icon:");var a=d[c].indexOf(";",b+1);if(b>=0&&a>0){var e=d[c].substring(b+5,a-1);}else{var e=d[c].substr(b+5,255);}$("#"+h).textbox({buttonIcon:e});}}}}function myFieldLabel(j,e,b,d,h,g,a,c){h=1*h;g=1*g;a=1*a;c=1*c;d=1*d;deltay=a/2-syslabel.fontsize/2-1;if(b!=undefined&&b!=""){if(b.substr(0,1)=="*"){b=b.substring(1);$("#"+e).append("<label id='xlabel"+j+"' align='"+syslabel.align+"'>*</label>");$("#xlabel"+j).css(myLabelCss(e,h+deltay,g+d+c+12,0,0));}$("#"+e).append("<label id='label"+j+"' align='"+syslabel.align+"'>"+b+"</label>");if(d>0){$("#label"+j).css(myLabelCss(e,h+deltay,g,0,d));}else{$("#label"+j).css(myLabelCss(e,h,1*g+2,0,b.length*syslabel.fontsize));h=h+syslabel.fontsize+syslabel.topmargin;}}else{d=0;}}function myHiddenFields(a){var e="";var d="main";var b=a.split(";");for(var c=0;c<b.length;c++){if(b[c]!=""&&$("#"+b[c]).length==0){e='<input hidden="true" type="hidden" id="'+b[c]+'" style="left:0px; top:0px; height:0px; width:0px; padding:0px 0;" />';$("#"+d).append($(e));$("#"+b[c]).attr("xid",b[c]);$("#"+b[c]).attr("xtype","hiddenfield");$("#"+b[c]).attr("xdatatype","c");$("#"+b[c]).attr("xsaveflag",1);$("#"+b[c]).attr("xfield",b[c]);$("#"+b[c]).attr("xfixedvalueflag",0);}}}function myGetSelectedComboIndex(field){var index=[];var xvalue=$("#"+field).combobox("getValues");var xdata=$("#"+field).combobox("getData");for(var i=0;i<xvalue.length;i++){for(var j=0;j<xdata.length;j++){if(xvalue[i]==eval("xdata["+j+"]."+field)){index.push(j);break;}}}return index;}function myJSONLength(c){var b=0,a;for(a in c){if(c.hasOwnProperty(a)){b++;}}return b;}function myImageIcon(b){var c="download64.jpg";if(b!=""){fileext=b.substring(b.lastIndexOf(".")+1,255).toLowerCase();var e=";avi;rmvb;mov;asf;wmv;3gp;flv;mkv;rm;mid;vob;webm;";var d=";mp3;wav;wma;";var a=";jpg;jpeg;gif;pcx;png;bmp;tif;tiff;";if(fileext==undefined){fileext="";}if(fileext=="doc"||fileext=="docx"){c="word64.png";}else{if(fileext=="xls"||fileext=="xlsx"){c="excel64.png";}else{if(fileext=="ppt"||fileext=="pptx"){c="ppt64.png";}else{if(fileext=="pdf"){c="pdf64.png";}else{if(fileext=="swf"){c="swf64.png";}else{if(fileext=="fla"){c="flash64.png";}else{if(fileext=="html"||fileext=="htm"){c="html64.png";}else{if(fileext=="rar"){c="rar64.png";}else{if(fileext=="zip"){c="zip64.png";}else{if(fileext=="swf"){c="swf64.png";}else{if(fileext=="exe"){c="fileexe64.png";}else{if(a.indexOf(fileext)>=0){c="image64.png";}else{if(d.indexOf(fileext)>=0){c="audio64.png";}else{if(e.indexOf(fileext)>=0){c="video64.png";}}}}}}}}}}}}}}}return c;}function myZoomObject(d,c){var c=1*c*$("#"+d).attr("xratio");if(c==0){c=1;}var b=$("#"+d).attr("xwidth")*c;if(b<32){b=32;c=b/$("#"+d).attr("xwidth");}var a=$("#"+d).attr("xheight")*c;$("#"+d).css("width",b+"px");$("#"+d).css("height",a+"px");$("#"+d).attr("xratio",c);}function myResizeImage(b,e,a,c){if(a>0||c>0){var d=new Image();d.src=e;aheight=d.height+0;awidth=d.width+0;d.onload=function(){var m=d.height+0;var l=d.width+0;if(l>0&&m>0){var g=1;var h=1;var j=1;if(c>0){var h=c/l;}if(a>0){var j=a/m;}g=(h<=j?h:j);if(g!=0){l=l*g;m=m*g;}if($("#"+b).length>0){$("#"+b).css({width:l,height:m});$("#"+b).attr("awidth",l);$("#"+b).attr("aheight",m);if($("#"+b).attr("xwidth")==undefined||$("#"+b).attr("xwidth")<=0){$("#"+b).attr("xwidth",l);}if($("#"+b).attr("xheight")==undefined||$("#"+b).attr("xheight")<=0){$("#"+b).attr("xheight",m);}}}};return({width:awidth,height:aheight});}}function myLine(a){if(a instanceof Array){var b={};b.id=a[0];b.parent=a[1];b.top=a[2];b.left=a[3];b.height=a[4];b.width=a[5];if(a.length>6){b.style=a[6];}if(a.length>7){b.color=a[7];}}else{var b=a;}b=mySetPosSize(b);if(b.color==undefined){b.color="#95B8E7";}if(b.style==undefined){b.style="";}b.style=";"+b.style+";";if(b.style.indexOf(";bevel;")>=0){if(b.height<=1){var c='<div id="'+b.id+'1"><table border="0" cellspacing="0" cellpadding="0" height='+b.height+' style="border-color:gray; border-left-style:solid; border-width:'+b.width+'px"><tr><td valign=top></table></div>';c+='<div id="'+b.id+'2"><table border="0" cellspacing="0" cellpadding="0" height='+b.height+' style="border-color:white; border-left-style:solid; border-width:'+b.width+'px"><tr><td valign=top></table></div>';$("#"+b.parent).append($(c));$("#"+b.id+"1").css(myTextCss(b.parent,b.top,b.left,b.height,b.width));$("#"+b.id+"2").css(myTextCss(b.parent,b.top+b.height,b.left,b.height,b.width));}else{if(b.width<=1){var c='<div id="'+b.id+'1"><table border="0" cellspacing="0" cellpadding="0" height='+b.height+' style="border-color:gray; border-left-style:solid; border-width:'+b.width+'px"><tr><td valign=top></table></div>';c+='<div id="'+b.id+'2"><table border="0" cellspacing="0" cellpadding="0" height='+b.height+' style="border-color:white; border-left-style:solid; border-width:'+b.width+'px"><tr><td valign=top></table></div>';$("#"+b.parent).append($(c));$("#"+b.id+"1").css(myTextCss(b.parent,b.top,b.left,b.height,b.width));$("#"+b.id+"2").css(myTextCss(b.parent,b.top,b.left+b.width,b.height,b.width));}}}else{var c='<div id="'+b.id+'">'+'<table border="0" cellspacing="0" cellpadding="0" height='+b.height+' style="border-color:'+b.color+"; border-left-style:solid; border-width:"+b.width+'px"><tr><td valign=top></table></div>';$("#"+b.parent).append($(c));$("#"+b.id).css(myTextCss(b.parent,b.top,b.left,b.height,b.width));}$("#"+b.id).attr("xtop",b.top*1);$("#"+b.id).attr("xleft",b.left*1);$("#"+b.id).attr("xheight",b.height*1);$("#"+b.id).attr("xwidth",b.width*1);}function myLink(a){if(a instanceof Array){var b={};b.id=a[0];b.parent=a[1];b.top=a[2];b.left=a[3];b.height=a[4];b.width=a[5];if(a.length>6){b.style=a[6];}if(a.length>7){b.color=a[7];}}else{var b=a;}b=mySetPosSize(b);str='<div id="'+b.id+'_div" style="position:absolute; top:'+b.top+"px; left:"+b.left+"px;";if(b.color!=undefined&&b.color!=""){str+=" color:"+b.color+";";}str+='"><a id="'+b.id+'"';if(b.href!=undefined){str+=' href="'+b.href+'">'+b.text+"</a></div>";}$("#"+b.parent).append($(str));b.classtype="link";b.datatype="";mySetAttribute(b);}function myClearFileField(b){var a=b.split(";");for(var d=0;d<a.length;d++){var e=a[d];var c=document.getElementById(e);if(c!=null){if(c.outerHTML){c.outerHTML=c.outerHTML;}else{c.value="";}btnid=e+"button";if($("#"+btnid).length>0){$("#"+btnid).linkbutton("disable");}}}}function myFileFieldChange(b){var a=b.split(";");for(var c=0;c<a.length;c++){var e=a[c];var d=e+"button";if($("#"+d).length>0){$("#"+e).bind("change",function(h){var g=$("#"+e).val();if(g==""){$("#"+d).linkbutton("disable");}else{$("#"+d).linkbutton("enable");}});}}}function myFileUploadAttachment(q,g){var m=$("#"+q);var t=m.attr("xfilesourcename");var a=m.attr("xfileosname");if(g==undefined){g="add";}var c=m.attr("xattachment");var l=m.attr("xattachmentdiv");if(g=="clear"||g=="delete"||g=="show"||g=="add"||g=="edit"){if($("#"+l).length>0){$("#"+l).remove();}if(a!=""&&a!=undefined){if(g=="add"){str='<div id="'+l+'" class="textdiv" style="margin:0;">';str+="<a href=\"javascript:myFileUploadAttachment('"+q+'\',\'delete\');"><img src="system/images/deletefile.png" height="16px" width="16px" /></a>&nbsp;';}else{str='<div id="'+l+'" class="textdiv" style="margin:5px 0px 0px 0px;">';}str+="<a href=\"javascript:myFileUploadAttachment('"+q+"','download');\">";str+=m.attr("xfilesourcename");if(m.attr("xfilesize")!=0&&m.attr("xfilesizedesc")!=""){str+="("+m.attr("xfilesizedesc")+")";}str+="</a></div>";$("#"+c).append($(str));if(g=="add"){var h=m.attr("xfileosname");var e=h.substring(0,h.lastIndexOf("."))+".pdf";if(("#_addedfiles").length==0){myHiddenFields("_addedfiles");mySetValue("_addedfiles","");}var r=myGetValue("_addedfiles");mySetValue("_addedfiles",r+"	"+h+"	"+e);}else{if(g=="delete"){var h=m.attr("xfileosname");var e=h.substring(0,h.lastIndexOf("."))+".pdf";if(("#_deletedfiles").length==0){myHiddenFields("_deletedfiles");mySetValue("_deletedfiles","");}var r=myGetValue("_deletedfiles");mySetValue("_deletedfiles",r+"	"+h+"	"+e);if($("#"+l).length>0){$("#"+l).remove();}m.attr("xfilesourcename","");m.attr("xfileosname","");m.attr("xtargetfile","");m.attr("xfilesize",0);m.attr("xfilesizedesc","");m.attr("xtargetpath","");m.attr("xfileext","");m.attr("xuploaddate","");m.attr("xuploadtime","");m.attr("xfileext","");}}}}else{if(g=="download"){if(a!=""){var b=a;var j=t;window.location.href="system//easyui_fileDownLoad.jsp?source="+b+"&target="+j;var d=m.attr("xdownloadtimes");m.attr("xdownloadtimes",d+1);}}}}function myAddAttachment(e,d){var c=myImageIcon($("#"+e).attr("xfilesourcename"));for(var j=1;j<=sys.maxfilenumber;j++){if($("#filediv"+j).length==0){break;}}$("#filediv"+(j)).remove();var g='<div id="filediv'+(j)+'" style="border:solid 1px navy; width:240px; display:block; float:left; padding:4px 1px 1px 4px; margin:4px 0px 0px 4px;"></div>';$("#"+d).append($(g));$("#filediv"+j).attr("xfilesizedesc",$("#"+e).attr("xfilesizedesc"));$("#filediv"+j).attr("xfilesourcename",$("#"+e).attr("xfilesourcename"));$("#filediv"+j).attr("xfileosname",$("#"+e).attr("xfileosname"));$("#filediv"+j).attr("xfilesize",$("#"+e).attr("xfilesize"));$("#filediv"+j).attr("xfileext",$("#"+e).attr("xfileext"));$("#filediv"+j).attr("xuploaddate",myLocalTime().datetime);$("#filediv"+j).attr("xdownloadtimes","0");$("#filediv"+j).attr("xparent",e);fileid="filediv"+(j);g='<div style="margin:0px 0px 4px 0px;"><a href="javascript:myDeleteAttachment('+j+');"><img src="system/images/deletefile.png" height="16px" width="16px" /></a>';g+="<center>";g+='<div style="margin:-18px 0px 2px 0px;">';g+="<a href=\"javascript:myDownLoadFile('"+fileid+'\');"><img src="system/images/'+c+'" height="64px" width="64px" /></a>';g+="<a href=\"javascript:myMailFile('"+fileid+'\');"><img src="system/images/mail48.png" height="24px" width="24px" /></a>';g+="</div>";g+="<a href=\"javascript:myDownLoadFile('"+fileid+"');\">";g+='<div style="text-align:center; width:232px; height:40px; margin:4px 0px 4px 0px;" >'+$("#"+e).attr("xfilesourcename")+"("+$("#"+e).attr("xfilesizedesc")+")</div>";g+="</a></center></div>";$("#filediv"+j).append($(g));var a=$("#"+e).attr("xfileosname");var h=a.substring(0,a.lastIndexOf("."))+".pdf";if(("#_addedfiles").length==0){myHiddenFields("_addedfiles");mySetValue("_addedfiles","");}var b=myGetValue("_addedfiles");mySetValue("_addedfiles",b+"	"+a+"	"+h);}function myAppendAttachment(l){var u=l.results;if(u==null){return;}var a=l.panel;var m=l.title;var r=l.tabpanel;var q=l.layout;var e=l.position;var t=l.height;if(t==undefined){t=200;}if(e==undefined||e==""){e="south";}if(m==undefined){m="";}for(var b=1;b<=sys.maxfilenumber;b++){$("#filediv"+b).remove();}b=u.length;if(b>0){xtitle=m+"附件列表("+b+"个附件)";}else{xtitle=m+"附件列表";}if(b>1){xtitle+="<a href=\"javascript:myDownLoadAll('"+a+'\');" src="">&nbsp;<u>[下载全部]</u></a>';}if($("#"+a).length==0){$("#"+q).layout("add",{id:a,region:e,title:xtitle,split:true,border:true,collapsible:true,height:t});}else{$("#"+a).panel({title:xtitle});}$("#"+a).panel("expand");if(u.length>0){var d="",c="";var g="压缩包_"+u[0].filesourcename;for(var b=1;b<=u.length;b++){if(b>1){d+="|";c+="|";}d+="/"+u[b-1].fileosname;c+=u[b-1].filesourcename;var j=myImageIcon(u[b-1].filesourcename);var h='<div id="filediv'+b+'" style="border:solid 1px navy; width:240px; height:\'100%\'; display:block; float:left; padding:4px 1px 1px 4px; margin:4px 0px 0px 4px;"></div>';$("#"+a).append($(h));$("#filediv"+b).attr("xfilesizedesc",u[b-1].filesizedesc);$("#filediv"+b).attr("xfilesourcename",u[b-1].filesourcename);$("#filediv"+b).attr("xfileosname",u[b-1].fileosname);$("#filediv"+b).attr("xfilesize",u[b-1].filesize);$("#filediv"+b).attr("xfileext",u[b-1].fileext);$("#filediv"+b).attr("xuploaddate",u[b-1].uploaddate);$("#filediv"+b).attr("xdownloadtimes",u[b-1].downloadtimes);$("#filediv"+b).attr("xparent",u[b-1].filetype);fileid="filediv"+(b);h='<div style="margin:0px 0px 4px 0px;"><a href="javascript:myDeleteAttachment('+b+');"><img src="system/images/deletefile.png" height="16px" width="16px" /></a>';h+="<center>";h+='<div style="margin:-18px 0px 2px 0px;">';h+="<a href=\"javascript:myDownLoadFile('"+fileid+'\');"><img src="system/images/'+j+'" height="64px" width="64px" /></a>';h+="<a href=\"javascript:myMailFile('"+fileid+'\');"><img src="system/images/mail48.png" height="24px" width="24px" /></a>';h+="</div>";h+="<a href=\"javascript:myDownLoadFile('"+fileid+"');\">";h+='<div style="text-align:center; width:232px; height:40px; margin:4px 0px 4px 0px; padding:0px 4px 0px 4px;" >'+u[b-1].filesourcename+"("+u[b-1].filesizedesc+")</div>";h+="</a></center></div>";$("#filediv"+b).append($(h));}$("#"+a).attr("targetname",g);$("#"+a).attr("filename",d);$("#"+a).attr("filetitle",c);$("#"+a).attr("filecount",u.length);}}function myRemoveLayoutPanel(b,a){$("#"+b).layout("remove",a);}function myDownLoadAttachment(h){var e=h.results;if(e==undefined||e==null){return;}var g=h.panel;var z=h.title;var a=h.tabpanel;var d=h.layout;var y=h.position;var j=h.height;if(j==undefined){j=200;}if(y==undefined||y==""){y="south";}if(z==undefined){z="";}for(var m=1;m<=sys.maxfilenumber;m++){$("#filediv"+m).remove();}if(e.length==0){$("#"+d).layout("remove",y);}else{if(j>120){var c=1;}else{var c=0;}m=e.length;if(m>0){xtitle=z+"附件列表("+m+"个附件)";}else{xtitle=z+"附件列表";}if(m>1){xtitle+="<a href=\"javascript:myDownLoadAll('"+g+'\');" src="">&nbsp;<u>[下载全部]</u></a>';}if($("#"+g).length==0){$("#"+d).layout("add",{id:g,region:y,title:xtitle,split:true,border:true,collapsible:true,height:j});}else{$("#"+g).panel({title:xtitle});}$("#"+g).panel("expand");var t="",l="";var u="压缩包_"+e[0].filesourcename;for(var m=1;m<=e.length;m++){if(m>1){t+="|";l+="|";}t+="/"+e[m-1].fileosname;l+=e[m-1].filesourcename;var x=myImageIcon(e[m-1].filesourcename);var b=e[m-1].fileext;var r="";var v="";var q="";if((";pdf;swf;doc;docx;ppt;pptx;jpg;jpeg;png;gif;tif;tiff;").indexOf(";"+b+";")>=0){r=e[m-1].fileosname.substring(0,e[m-1].fileosname.lastIndexOf(".")).toLowerCase()+".pdf";q+='<div id="filediv'+m+'" style="border:solid 1px navy; width:240px; display:block; float:left; padding:4px 1px 4px 1px; margin:4px 0px 0px 4px;"></div>';v="play4.png";}else{if((";mp3;wav;").indexOf(";"+b+";")>=0){r=e[m-1].fileosname;q+='<div id="filediv'+m+'" style="border:solid 1px navy; width:240px; display:block; float:left; padding:4px 1px 4px 1px; margin:4px 0px 0px 4px;"></div>';v="play1.png";}else{if((";jpg;jpeg;png;gif;tif;tiff;").indexOf(";"+b+";")>=0){q+='<img id="filediv'+m+'" src="'+e[m-1].fileosname+'" style="border:solid 1px navy; width:240px; display:block; float:left; padding:4px 1px 4px 1px; margin:4px 0px 0px 4px;">';v="play4.png";}else{q+='<div id="filediv'+m+'" style="border:solid 1px navy; width:240px; display:block; float:left; padding:4px 1px 4px 1px; margin:4px 0px 0px 4px;"></div>';}}}$("#"+g).append($(q));$("#filediv"+m).attr("xfilesizedesc",e[m-1].filesizedesc);$("#filediv"+m).attr("xfilesourcename",e[m-1].filesourcename);$("#filediv"+m).attr("xfileosname",e[m-1].fileosname);$("#filediv"+m).attr("xfilesize",e[m-1].filesize);$("#filediv"+m).attr("xfileext",e[m-1].fileext);$("#filediv"+m).attr("xuploaddate",e[m-1].uploaddate);$("#filediv"+m).attr("xdownloadtimes",e[m-1].downloadtimes);$("#filediv"+m).attr("xparent",e[m-1].filetype);fileid="filediv"+(m);if(c==1){q+='<div style="width:232px;">';q="<center>";if(r!=""){q+='<a href="javascript:myReadAttachment('+m+",'"+a+"');\">";q+='<img src="system/images/'+v+'" height="32px" width="32px" /></a>&nbsp;&nbsp;';}q+="<a href=\"javascript:myDownLoadFile('"+fileid+'\');"><img src="system/images/'+x+'" height="64px" width="64px" /></a>';q+="<a href=\"javascript:myMailFile('"+fileid+'\');"><img src="system/images/mail48.png" height="24px" width="24px" /></a>';q+="</div>";q+="<a href=\"javascript:myDownLoadFile('"+fileid+'\');"><div style="text-align:center; width:232px; height:30px; margin:4px 0px 4px 0px;" >'+e[m-1].filesourcename+"("+e[m-1].filesizedesc+")</div></a>";q+="</center></div>";}else{q='<table border="0" width="232px" height="44px" cellspacing="0px" cellpadding="2px"><tr width="100%">';q+="<center>";if(r!=""){q+='<td><a href="javascript:myReadAttachment('+m+",'"+a+"');\">";q+='<img src="system/images/'+v+'" height="24px" width="24px" style="margin:0px 0px 0px 0px;"/></a></td>';}q+="<td><a href=\"javascript:myDownLoadFile('"+fileid+'\');" style="margin:0px 0px 0px 4px;">';q+=e[m-1].filesourcename+"("+e[m-1].filesizedesc+")</a></td>";q+="<td><a href=\"javascript:myMailFile('"+fileid+"');\">";q+='<img src="system/images/mail48.png" height="24px" width="24px" /></a></td>';q+="</center></tr></table>";}$("#filediv"+m).append($(q));}$("#"+g).attr("filecount",e.length);$("#"+g).attr("targetname",u);$("#"+g).attr("filename",t);$("#"+g).attr("filetitle",l);}$("#"+d).layout("resize");}function myDownLoadFile(c){var a=$("#"+c).attr("xfileosname");var b=$("#"+c).attr("xfilesourcename");if(b==""){b="无命名"+a.substring(a.lastIndexOf("."));}window.location.href="system//easyui_fileDownLoad.jsp?source="+a+"&target="+b;myDownLoadEvent(c);}function myMailFile(g){var a=$("#"+g).attr("xfileosname");var c=$("#"+g).attr("xfilesourcename");var d="邮件来自melab.zstu.edu.cn";var b="zxywolf@126.com";var e=myGetValue("filesourcename"+n);mySendEmail(sys.emailsender,sys.emailpassword,b,c,d,a,e);}function myDownLoadAll(b){var h=$("#"+b).attr("filecount");if(h>1){var a=$("#"+b).attr("targetname");var g=$("#"+b).attr("filename");var e=$("#"+b).attr("filetitle");myDownLoadZipFiles(a,g,e);}else{var c=$("#filediv1").attr("xfileosname");var d=$("#filediv1").attr("xfilesourcename");if(c!=undefined){window.location.href="system//easyui_fileDownLoad.jsp?source="+c+"&target="+d;}}}function myReadAttachment(l,a){if($("#myimagebar").length==0){m='<div id="myimagebar" class="zoomimgvbar" style="padding: 15px 0px 0px 2px;">';m+='<img src="system/images/rotate_img.png" title="旋转" id="myimagerotate" width="48px" height="48px">';m+='<img src="system/images/zoom_inimg.png" title="放大" id="myimagezoomin" width="48px" height="48px">';m+='<img src="system/images/zoom_outimg.png" title="缩小" id="myimagezoomout" width="48px" height="48px">';m+="</div>";$("#"+a).append($(m));$("#myimagerotate").attr("xtabs",a);$("#myimagezoomin").attr("xtabs",a);$("#myimagezoomout").attr("xtabs",a);$("#myimagerotate").click(function(D){var h=$(this).attr("xtabs");var C=$("#"+h).tabs("getSelected");id=C.attr("xchild");myRotate(id,90);});$("#myimagezoomout").click(function(D){var h=$(this).attr("xtabs");var C=$("#"+h).tabs("getSelected");id=C.attr("xchild");myZoomObject(id,0.9);});$("#myimagezoomin").click(function(D){var h=$(this).attr("xtabs");var C=$("#"+h).tabs("getSelected");id=C.attr("xchild");myZoomObject(id,1.1);});}var z=$("#filediv"+l).attr("xfileosname");var B=$("#filediv"+l).attr("xfilesourcename");if(byteLength(B)>50){B=byteSubstr(B,0,50)+"…";}var d=-1;if(z!=""){var e="";var b=z.substr(z.lastIndexOf(".")+1,255).toLowerCase();if(b=="doc"||b=="docx"||b=="ppt"||b=="pptx"){pdffile=z.substr(0,z.lastIndexOf(".")).toLowerCase()+".pdf";if(myDoFiles("exist",z)==0){e=myOfficeToPdf(z,pdffile);if(e==""){b="pdf";z=pdffile;myMessageShow("PDF文件已经转换成功！");}else{b="";}}else{z=pdffile;b="pdf";}B=B.substring(0,B.lastIndexOf("."));}if((";pdf;swf;mp3;wav;mp4;jpg;jpeg;gif;tif;tiff;png;").indexOf(";"+b+";")>=0){var x=$("#"+a).tabs("tabs");var r=0;for(var t=1;t<x.length;t++){var A=$("#"+a).tabs("getTab",t);if(A.attr("xfilename")==z){if(A.attr("xfilename")==z){r=t;break;}}}$("#"+a).tabs({fit:true});if(r==0){d=x.length;$("#"+a).tabs("add",{title:B,closable:true,selected:true});var A=$("#"+a).tabs("getSelected");A.css({overflow:"hidden"});A.attr("xindex",l);A.attr("xfilename",z);A.attr("xfiletitle",B);}else{d=r;$("#"+a).tabs("select",r);}d++;if(b=="mp3"||b=="wav"){if(r==0){var m='<audio id="mydoc'+d+'" src="'+z+'" controls="controls" autoplay="autoplay" preload="auto"\n';m+='style="position:absolute; top:60px; left:40px; width:600px;">\n';m+="</audio>";A.append($(m));A.attr("xchild","mydoc"+d);A.attr("xchildtype","audio");}var q=document.getElementById("mydoc"+d);q.currentTime=0;var c=$("#"+a).attr("xposbegin");if(c!=undefined&&c>0){q.currentTime=c;}}else{if(b=="mp4"||b=="avi"){if(r==0){var m='<video id="mydoc'+d+'" src="'+z+'" controls="controls" autoplay="autoplay" preload="auto"\n';m+="type='video/"+b+'; codecs="avc1.42E01E, mp4a.40.2"\'\n';m+='style="position:absolute; top:60px; left:40px; height:100%; width:100%;">\n';m+="</video>";A.append($(m));A.attr("xchild","mydoc"+d);A.attr("xchildtype","video");}var v=document.getElementById("mydoc"+d);v.currentTime=0;var c=$("#"+a).attr("xposbegin");if(c!=undefined&&c>0){v.currentTime=c;}}else{if((";jpg;jpeg;gif;tif;tiff;png;").indexOf(";"+b+";")>=0){if(r==0){document.getElementById("myimagebar").style.display="";var u=A.height();var g=A.width()-60;var y=myResizeImage("mydoc"+d,z,0,g);var m="";var A=$("#"+a).tabs("getSelected");m='<div><object id="mydoc'+d+'" data="'+z+'" controls="controls" autoplay="autoplay" preload="auto" width="'+y.width+'" height="'+y.height+'"></object></div>';A.append($(m));A.css({overflow:"auto"});A.attr("xchild","mydoc"+d);A.attr("xchildtype","image");$("#mydoc"+d).attr("xtype","image");$("#mydoc"+d).attr("xrotate",0);$("#mydoc"+d).attr("xratio",1);$("#mydoc"+d).bind("mousewheel",function(C){deltay=C.originalEvent.deltaY;if(deltay<0){var h=1.1;}else{if(deltay>0){var h=0.9;}else{var h=1;}}myZoomObject("mydoc"+d,h);});}}else{if(b=="pdf"||b=="swf"){var c=$("#"+a).attr("xposbegin");var j=$("#"+a).attr("xposend");if(c==undefined){c=0;}if(j==undefined){j=0;}if(c>1||j>0){z=mySplitPdf(z,c,j);}c=1;if($("#mydoc"+d).length>0){$("#mydoc"+d).remove();}var m='<object id="mydoc'+d+'" quality="high" data="'+z+"#";if(c>0){m+="page="+c+"&";}m+='navpanes=0&scrollbar=0&toolbar=0&zoom=100" application/';if(b=="swf"){m+="x-shockwave-flash";}else{if(b=="pdf"){m+="pdf";}}m+=' width="100%" height="100%" ></object>\n';m='<iframe class="media" id="mydoc'+d+'" href="'+z+"#";if(c>0){m+="page="+c+"&";}m+='navpanes=1&scrollbar=1&toolbar=0&zoom=100" ';m+='style="position:absolute; overflow:auto;" ';m+="></iframe>";A.append($(m));var u=$("#"+a).get(0).offsetHeight;$("#mydoc"+d).media({width:"100%",height:u-32,autoplay:true});A.attr("xchild","mydoc"+d);A.attr("xchildtype","pdf");A.attr("xchildtype",b);}}}}}}}function myDeleteAttachment(d){var a=$("#filediv"+d).attr("xfileosname");var c=a.substring(0,a.lastIndexOf("."))+".pdf";if(("#_deletedfiles").length==0){myHiddenFields("_deletedfiles");mySetValue("_deletedfiles","");}var b=myGetValue("_deletedfiles");mySetValue("_deletedfiles",b+"	"+a+"	"+c);$("#filediv"+d).remove();$("#fileosname"+d).val("");}function mySplitPdf(filename,pagestart,pageend){var result="";$.ajax({url:"system//easyui_splitPdfFile.jsp",data:{inFile:myToXcode(filename),pageStart:pagestart,pageEnd:pageend},async:false,method:"post",success:function(data){eval("result="+data);console.log(result);}});return result.pdffile;}function myFileupLoad(e,v,b){if(q==undefined){var q="";}var m={};var j=e+"button";var l=e+"window";var c=e+"bar";var a=$("#"+e).val();var r=$("#"+e).attr("xuploadfiletag");var q=$("#"+e).attr("xuploadfiletype");var u=a.substring(a.lastIndexOf(".")+1,255).toLowerCase();if(q!=""&&(";"+q+";").indexOf(";"+u+";")<0){m={"error":"文件类型错误，上传失败！"};var g=q.replaceAll(";",",");myMessage("文件扩展名限于："+g+"@n文件类型错误，上传失败！","info");myClearFileField(e);myFileFieldChange(e);}else{$("#"+l).window("open");$("#"+c).progressbar("setValue",0);var h=document.getElementById(e).files[0];var d=new FormData();d.append("file",h);var t=new XMLHttpRequest();t.open("post","system//easyui_fileUpLoad.jsp?targetname="+b+"&targetpath="+v,true);t.onload=function(){if(t.status==200){m=JSON.parse(t.responseText);$("#"+e).attr("xerror",m.error);if(m.error==""){$("#"+e).attr("xfilesize",m.filesize);$("#"+e).attr("xfilesizedesc",m.filesizedesc);$("#"+e).attr("xfileosname",m.fileosname);$("#"+e).attr("xfilesourcename",m.filesourcename);$("#"+e).attr("xtargetfile",m.targetfile);$("#"+e).attr("xtargetpath",m.targetpath);$("#"+e).attr("xfileext",m.fileext);$("#"+e).attr("xuploaddate",myLocalTime().datetime);$("#"+e).attr("xuploadtime",myLocalTime().datetime);$("#"+e).attr("xuploadfiletag",r);$("#"+e).attr("xuploadfilepath",v);$("#"+e).attr("xuploadfiletype",q);xtarget=$("#"+e).attr("xtarget");if(xtarget!=undefined&&xtarget!=""){f=m.fileosname+"?timestemp="+new Date().getTime();$("#"+xtarget).attr("src",f);myResizeImage(xtarget,f,$("#"+xtarget).attr("xheight"),$("#"+xtarget).attr("xwidth"));}var y=m.fileosname;var x=y.substring(0,y.lastIndexOf("."))+".pdf";var z=y.substring(y.lastIndexOf(".")+1,255).toLowerCase();if(z=="doc"||z=="docx"||z=="ppt"||z=="pptx"){$("#"+l).window("setTitle","正在转换PDF文件...");s=myOfficeToPdf(y,x);}myMessageShow("文件已经上传成功！");$("#"+j).linkbutton("disable");}else{myMessage("文件上传失败！","error");}myClearFileField(e);myFileFieldChange(e);myFileEvents(e,"upload");}$("#"+l).window("close");};t.upload.onprogress=function(x){loaded=x.loaded;tot=x.total;per=Math.floor(100*loaded/tot);$("#"+e+"bar").progressbar("setValue",per);};t.send(d);}return m;}function myHref(a){myhref(a);}function myhref(a){if(a instanceof Array){var c={};c.id=a[0];c.parent=a[1];c.label=a[2];c.top=a[3];c.left=a[4];c.height=a[5];if(a.length>6){c.width=a[6];}if(a.length>7){c.url=a[7];}if(a.length>8){c.style=a[8];}}else{var c=a;}if(c.style!=undefined){c.style=";"+c.style+";";}else{c.style="";}var b="";if(c.url==""){c.url="#";}if(c.style.indexOf(";blank;")>=0){b="_blank";}var d='<div id="'+c.id+'_div" style="position:absolute">';if(c.style.indexOf(";[")>=0){d+="【";}d+='<a id="'+c.id+'" href="'+c.url+'" target="'+b+'" >'+c.label+"</a>";if(c.style.indexOf("];")>=0){d+="】";}d+="</div>";$("#"+c.parent).append($(d));$("#"+c.id+"_div").css(myTextCss(c.parent,c.top,c.left,c.height,c.width));$("#"+c.id+"_div").css({"font-size":syslabel.fontsize});}function myDBTree(pmyTree1){pmyTree1.keyfield="id";pmyTree1.checkbox="false";pmyTree1.line="true";pmyTree1.animate="false";pmyTree1.editable="false";pmyTree1.filter="false";pmyTree1.showstyle="";pmyTree1.selectednode=null;pmyTree1.selectonclick=false;pmyTree1.checkonselect=false;pmyTree1.style="";pmyTree1.width=0;pmyTree1.height=0;if(pmyTree1.xmlfile!=""){var url=sys.path+"/XMLNodeReader";$.ajax({type:"post",url:url,dataType:"text",async:false,data:{xmlfilename:pmyTree1.xmlfile,nodeid:pmyTree1.id},success:function(data){eval("source="+data);pmyTree1=extend(pmyTree1,source);}});}if(pmyTree1.filtersql==undefined){pmyTree1.filtersql="";}if(pmyTree1.root==undefined){pmyTree1.root="";}if(pmyTree1.title==undefined){pmyTree1.title="";}if(pmyTree1.menu==undefined){pmyTree1.menu="";}if(pmyTree1.treeclass==undefined){pmyTree1.treeclass="tree";}if(pmyTree1.iconcls==undefined){pmyTree1.iconcls="";}if(pmyTree1.top==undefined){pmyTree1.top=0;}if(pmyTree1.left==undefined){pmyTree1.left=0;}if(pmyTree1.style==undefined){pmyTree1.style="";}if(pmyTree1.masterfield==undefined){pmyTree1.masterfield="";}if(pmyTree1.keyfield==undefined){pmyTree1.keyfield="id";}pmyTree1.style=";"+pmyTree1.style+";";if(pmyTree1.style.indexOf(";editable;")>=0){pmyTree1.editable="true";}if(pmyTree1.style.indexOf(";filter;")>=0){pmyTree1.filter="true";}if(pmyTree1.style.indexOf(";full;")>=0){pmyTree1.showstyle="full";}if(pmyTree1.style.indexOf(";checkbox;")>=0){pmyTree1.checkbox="true";}if(pmyTree1.style.indexOf(";noline;")>=0){pmyTree1.line="false";}if(pmyTree1.style.indexOf(";animate;")>=0){pmyTree1.animate="true";}if(pmyTree1.style.indexOf(";selectonclick;")>=0){pmyTree1.selectonclick=true;}if(pmyTree1.style.indexOf(";checkonselect;")>=0){pmyTree1.checkonselect=true;}var str="";if(pmyTree1.parent==""){pmyTree1.parent="main";}str+='<div id="'+pmyTree1.id+'" style="overflow:auto; padding:'+pmyTree1.top+"px 0px "+pmyTree1.top+"px "+pmyTree1.left+'px;" class="easyui-tree" data-options="animate:'+pmyTree1.animate+", checkbox:"+pmyTree1.checkbox+", lines:"+pmyTree1.line;if(pmyTree1.editable=="true"){str+=",onClick: function(node){ $(this).tree('beginEdit',node.target);}";}str+='"></div>';$("#"+pmyTree1.parent).append($(str));var h=$("#"+pmyTree1.parent).height()*1;var w=$("#"+pmyTree1.parent).width()*1;$("#"+pmyTree1.id).css({height:"100%"});$("#"+pmyTree1.id).css({width:"100%"});$("#"+pmyTree1.id).attr("xnodeindex",pmyTree1.nodeindex);$("#"+pmyTree1.id).attr("xtype","tree");$("#"+pmyTree1.id).attr("xparent",pmyTree1.parent);$("#"+pmyTree1.id).attr("xtitle",pmyTree1.title);$("#"+pmyTree1.id).attr("xid",pmyTree1.id);$("#"+pmyTree1.id).tree();if(pmyTree1.title!=""){$("#"+pmyTree1.parent).panel({title:pmyTree1.title});}if(pmyTree1.width>0){xparents=$("#"+pmyTree1.parent).parents().parents("div");layoutflag=-1;for(i=0;i<xparents.length;i++){classname=xparents[i].className.toLowerCase();if(classname.indexOf("easyui-layout")>=0){layoutflag=1;break;}}if(layoutflag==1&&i<xparents.length-1){parentpanel=xparents[i+1].id;}else{parentpanel=pmyTree1.parent;}$("#"+parentpanel).panel("resize",{width:pmyTree1.width*1});$("#"+parentpanel).panel("doLayout");if(xparents.length>0){$("#"+xparents[xparents.length-1].id).layout("resize");}else{$("#main").layout("resize");}}if(pmyTree1.loaddataflag==undefined||pmyTree1.loaddataflag==1){}$("#"+pmyTree1.id).tree("collapseAll");$("#"+pmyTree1.id).tree({onDblClick:function(node){if($(this).tree("isLeaf",node.target)){if(pmyTree1.checkbox=="true"){if(node.checkState=="checked"){$(this).tree("uncheck",node.target);}else{$(this).tree("check",node.target);}}else{myTreeEvents(pmyTree1.id,"ondblclick",node);}}else{if(node.state=="closed"){$(this).tree("expand",node.target);}else{$(this).tree("collapse",node.target);}}},onSelect:function(node){pmyTree1.selectednode=node;if(pmyTree1.checkonselect&&pmyTree1.checkbox=="true"){$(this).tree("check",node.target);}myTreeEvents(pmyTree1.id,"onselect",node);},filter:function(q,node){var xtext=node.text.toLowerCase();var qtext=q.toLowerCase();var flag1=xtext.indexOf(qtext)>=0;var flag2=myGetMemoCode(xtext).indexOf(qtext)>=0;if(flag1+flag2&&pmyTree1.selectednode==null){pmyTree1.selectednode=node;}return flag1+flag2;}});var item=$("#"+pmyTree1.id).tree("getRoot");if(item!=null){if(item.children){$("#"+pmyTree1.id).tree("expand",item.target);}$("#"+pmyTree1.id).tree("select",item.target);}if(pmyTree1.menu!=undefined&&pmyTree1.menu!=""){$("#"+pmyTree1.id).tree({onContextMenu:function(e,node){e.preventDefault();if(pmyTree1.selectonclick){$("#"+pmyTree1.id).tree("select",node.target);}$("#"+pmyTree1.menu).menu("show",{left:e.pageX,top:e.pageY});}});}if(pmyTree1.filterpanel!=undefined&&pmyTree1.filterpanel!=""){if(pmyTree1.label!=undefined){label=pmyTree1.label;}else{label="";}myTextField([pmyTree1.filtertextfield,pmyTree1.filterpanel,"",0,3,0,0,150]);$("#"+pmyTree1.filtertextfield).attr("xfiltertree",pmyTree1.id);xparents=$("#"+pmyTree1.parent).parents().parents("div");layoutflag=-1;for(i=0;i<xparents.length;i++){classname=xparents[i].className.toLowerCase();if(classname.indexOf("easyui-layout")>=0){layoutflag=1;break;}}if(layoutflag==1&&i<xparents.length-1){panelparent=xparents[i+1].id;}else{panelparent="main";}$("#"+panelparent).attr("xresizewidth",i);$("#"+panelparent).panel({onResize:function(w,h){delta=$(this).attr("xresizewidth");$("#"+pmyTree1.filtertextfield+"_div").css({width:w-17+1*delta});}});$("#"+panelparent).panel("resize");$("#"+panelparent).panel("doLayout");$("#"+pmyTree1.filtertextfield).textbox({buttonIcon:"locateIcon",onChange:function(v1){treeid=$(this).attr("xfiltertree");console.log("treeid",treeid);if(treeid!=undefined){myFilterTree(treeid,v1);}},onClickButton:function(e){var id=$(this).context.id;var treeid=$(this).attr("xfiltertree");if(treeid!=undefined){myFilterTree(treeid,myGetValue(id));}}});}if(pmyTree1.showstyle!="full"){$("#"+pmyTree1.id).tree({onBeforeExpand:function(node){var pid=node.id;if(pid=="*"){pid="";}var child_node=$("#"+pmyTree1.id).tree("getChildren",node.target);if((child_node.length==1&&child_node[0].id=="_"+pid)||(child_node[0].id=="#")){filtersql="parentnodeid='"+pid+"'";params={"filtersql":filtersql};if(pmyTree1.params!=undefined){params=extend(pmyTree1.params,params);}var url=sys.path+"/TreeDataLoader";$.ajax({type:"post",url:url,dataType:"text",async:false,data:{xmlfilename:pmyTree1.xmlfile,nodeid:pmyTree1.id,paramvalues:JSON.stringify(params)},success:function(data){eval("source="+data);$("#"+pmyTree1.id).tree("remove",child_node[0].target);$("#"+pmyTree1.id).tree("append",{parent:node.target,data:source});}});}myTreeEvents(pmyTree1.id,"onBeforeExpand",node);}});}return pmyTree1;}function myLoadTreeData(b){var d=[];if(b.showstyle=="full"){if(b.params!=undefined){params=b.params;}else{params={};}d=myFetchTreeData(b.xmlfile,b.id,params);}else{params={"filtersql":"parentnodeid=''"};if(b.params!=undefined){params=extend(b.params,params);}d=myFetchTreeData(b.xmlfile,b.id,params);}var c=[{id:"*",text:b.root,parentnodeid:"",isparentflag:"1",level:"0",ancester:"",sysid:"0"}];if(b.treeclass!=undefined&&b.treeclass=="treegrid"){if(b.root!=undefined&&b.root!=""){var a=$("#"+b.id).treegrid("getRoot");if(a!=null){$("#"+b.id).treegrid("remove",a.target);}$("#"+b.id).treegrid("append",{parent:null,data:c});var a=$("#"+b.id).treegrid("getRoot");$("#"+b.id).treegrid("append",{parent:a.target,data:d});}else{$("#"+b.id).treegrid({data:d});}}else{if(b.root!=undefined&&b.root!=""){a=$("#"+b.id).tree("getRoot");if(a!=null){$("#"+b.id).tree("remove",a.target);}$("#"+b.id).tree("append",{parent:null,data:c});var a=$("#"+b.id).tree("getRoot");$("#"+b.id).tree("append",{parent:a.target,data:d});}else{$("#"+b.id).tree({data:d});}if(b.selectednode!=null){node=$("#"+b.id).tree("find",b.selectednode.id);if(node!=null){$("#"+b.id).tree("select",node.target);b.selectednode=node;}}return(b);}}function myFetchTreeData(xmlfile,id,params){var source=[];$.ajax({url:sys.path+"/TreeDataLoader",type:"post",dataType:"text",async:false,data:{xmlfilename:xmlfile,nodeid:id,paramvalues:JSON.stringify(params)},success:function(data){eval("source="+data);}});return(source);}function myFilterTree(c,b){var a=$("#"+c).tree("getSelected");$("#"+c).tree("doFilter",b);if(a!=null){cnode=$("#"+c).tree("find",a.id);$("#"+c).tree("select",cnode.target);}return a;}function myLoadComboTreeData(id,sql,filtersql,style){valuelist=myGetSqlParamValues(pmyTree1.params);if((";"+style+";").indexOf(";full;")<0){$("#"+id).combotree({onBeforeExpand:function(node){var pid=eval("node."+keyfield);var xcbtree=$("#"+id).combotree("tree");var child_node=xcbtree.tree("getChildren",node.target);if(child_node.length==1&&child_node[0].id=="_"+pid){xfiltersql="parentnodeid='"+pid+"'";$.ajax({url:"system/easyui_getChildNodes.jsp",data:{selectsql:pmyTree1.sql,filtersql:xfiltersql,style:pmyTree1.showstyle,valuelist:valuelist},async:false,method:"post",success:function(data){var source=eval(data);xcbtree.tree("remove",child_node[0].target);xcbtree.tree("append",{parent:node.target,data:source});}});}}});}var source=[];if((";"+style+";").indexOf(";full;")>=0){$.ajax({url:"system/easyui_getAllTreeNodes.jsp",data:{selectsql:sql,filtersql:filtersql,iconcls:pmyTree1.iconcls,valuelist:valuelist},async:false,method:"post",success:function(data){source=eval(data);}});}else{xfiltersql="parentnodeid=''";$.ajax({url:"system/easyui_getChildNodes.jsp",data:{selectsql:pmyTree1.sql,filtersql:xfiltersql,style:pmyTree1.showstyle,valuelist:valuelist},async:false,method:"post",success:function(data){source=eval(data);}});}return source;}function myGetAllNodes(c){var b=[];if(c.treeclass=="tree"){var a=$("#"+c.id).tree("getRoots");var g;var b=[];for(var e=0;e<a.length;e++){b.push(a[e]);g=$("#"+c.id).tree("getChildren",a[e].target);for(var d=0;d<g.length;d++){b.push(g[d]);}}}else{var a=$("#"+c.id).treegrid("getRoots");var g;var b=[];for(var e=0;e<a.length;e++){b.push(a[e]);g=$("#"+c.id).treegrid("getChildren",a[e].id);for(var d=0;d<g.length;d++){b.push(g[d]);}}}return b;}function myDeleteAllNodes(b){if(b.treeclass=="tree"){var a=$("#"+b.id).tree("getRoots");for(var c=0;c<a.length;c++){$("#"+b.id).tree("remove",a[c].target);}}else{var a=$("#"+b.id).treegrid("getRoots");for(var c=0;c<a.length;c++){$("#"+b.id).treegrid("remove",a[0].id);}}}function myFindTreeNode(c,d){var a={};tree1=$("#"+c);a.parentnode=tree1.tree("getParent",d.target);a.nextnode=null;a.priornode=null;if(a.parentnode!=null){cnodes=tree1.tree("getData",a.parentnode.target).children;var e=-1;for(var b=0;b<cnodes.length;b++){if(cnodes[b].id==d.id){e=b;break;}}if(e>0){a.priornode=cnodes[e-1];}if(e<cnodes.length-1&&e>=0){a.nextnode=cnodes[e+1];}}return(a);}function myScrolltoNode(a,g){var e=0;if(g!=null){if(g.xnodeheight==undefined){var l=22;}else{var l=g.xnodeheight;}var d=$("#"+a).height();var c=$("#"+a).attr("xparent");var j=$(g.target);var b=j.offset().top-$("#"+a).offset().top;if(b>(d-l)){e=$("#"+a).scrollTop()+b-d+l;$("#"+a).scrollTop(e);}else{e=$("#"+a).scrollTop()+b-d+l;if(e<0){$("#"+a).scrollTop(e);}}}return e;}function myFieldset(a){if(a instanceof Array){var c={};c.id=a[0];c.parent=a[1];c.title=a[2];c.top=a[3];c.left=a[4];c.height=a[5];c.width=a[6];if(a.length>7){c.style=a[7];}}else{var c=a;}c=mySetPosSize(c);if(c.parent==""){c.parent="main";}var d='<fieldset id="'+c.id+'" style="position: absolute; margin:0; padding:0; border:1px solid #B5B8C8;">';if(c.title!=""){d+='<legend style="margin:0 10px; padding:0;">'+c.title+"</legend>";}d+="</fieldset>";$("#"+c.parent).append($(d));if(c.top>0&&c.left>0){var b={margin:"0",padding:"0",position:"absolute",top:c.top+"px",left:c.left+"px",width:c.width,height:c.height,"z-index":2};}else{var b={margin:"0",padding:"0",position:"relative",width:c.width,height:c.height,"z-index":2};}$("#"+c.id).css(b);$("#"+c.id).css(sys.theme);c.classtype="fieldset";c.datatype="";mySetAttribute(c);}function mySplitButton(id,parent,text,top,left,height,width,icon,style,event){if(parent==""){parent="main";}if(width==0){height=sysbutton.width;}if(height==0){height=sysbutton.height;}if(style!=""){style=";"+style+";";}var str="";if(style!=undefined&&style.indexOf(";menu;")>=0){var menuflag=true;}else{var menuflag=false;}if(style!=undefined&&style.indexOf(";btnsep;")>=0){str+='<a href="javascript:void(0)" id="'+id+'_sep" class="btn-separator"></a>';}str+='<a href="javascript:void(0)" id="'+id+'" class="easyui-splitbutton" style="padding:0; margin:0;"></a>';$("#"+parent).append($(str));$("#"+id).css(myTextCss(parent,top,left,height,width));$("#"+id).attr("xparent",parent);$("#"+id).attr("xid",id);if(icon!=""){$("#"+id).splitbutton({"iconCls":icon,iconAlign:"left"});}if(text!=""){$("#"+id).splitbutton({"text":text});}if(style!=undefined&&style.indexOf(";plain;")>=0){$("#"+id).splitbutton({"plain":true});}if(event!=undefined&&event!=""){$("#"+id).bind("click",function(e){eval(event+"(e);");});}}function myButton(v){if(v instanceof Array){var p={};p.id=v[0];p.parent=v[1];p.text=v[2];p.top=v[3];p.left=v[4];p.height=v[5];p.width=v[6];if(v.length>7){p.icon=v[7];}if(v.length>8){p.style=v[8];}if(v.length>9){p.event=v[9];}}else{var p=v;}if(p.parent==""){p.parent="main";}if(p.width==0){p.width=sysbutton.width;}if(p.height==0){p.height=sysbutton.height;}if(p.style!=""){p.style=";"+p.style+";";}var str="";if(p.style!=undefined&&p.style.indexOf(";menu;")>=0){var menuflag=true;}else{var menuflag=false;}if(p.style!=undefined&&p.style.indexOf(";btnsep;")>=0){str+='<a href="javascript:void(0)" id="'+p.id+'_sep" class="btn-separator"></a>';}if(menuflag){str+='<a href="javascript:void(0)" id="'+p.id+'" class="easyui-menubutton" style="padding:0; margin:0;"></a>';}else{str+='<a href="javascript:void(0)" id="'+p.id+'" class="easyui-linkbutton" style="padding:0; margin:0;"></a>';}$("#"+p.parent).append($(str));$("#"+p.id).css(myTextCss(p.parent,p.top,p.left,p.height,p.width));$("#"+p.id).attr("xparent",p.parent);$("#"+p.id).attr("xid",p.id);$("#"+p.id).attr("xtype","linkbutton");if(p.icon!=""){align="left";if(menuflag){$("#"+p.id).menubutton({"iconCls":p.icon,iconAlign:align});}else{$("#"+p.id).linkbutton({"iconCls":p.icon,iconAlign:align});}}if(p.text!=""){if(menuflag){$("#"+p.id).menubutton({"text":p.text});}else{$("#"+p.id).linkbutton({"text":p.text});}}if(p.style!=undefined&&p.style.indexOf(";plain;")>=0){if(menuflag){$("#"+p.id).menubutton({plain:true});}else{$("#"+p.id).linkbutton({plain:true});}}else{if(menuflag){$("#"+p.id).menubutton({plain:false});}else{$("#"+p.id).linkbutton({plain:false});}}if(p.event!=undefined&&event!=""){$("#"+p.id).bind("click",function(e){eval(p.event+"(e);");});}}function myToolbar(a,j,g,h,c,l,b,d){if(d==undefined||d==""){var d="#E0ECFF";}if(l==0){xheight=sysbutton.height;}else{xheight=l;}var e='<div id="'+a+'" class="easyui-panel" style="padding:'+h+"px 6px 1px "+(c+8)+"px; height:"+xheight+"px; position:relative; ";if(d!=""){e+=" background:"+d+"; ";}e+=' border-bottom:1px solid #B5B8C8;"></div>';$("#"+j).append($(e));if(g!=""){myButtonGroup(a+"_btn",a,g,h+4,1,l-2*h-5,b);}}function myButtonGroup(a,u,q,t,d,x,b){t=1*t;d=1*d;x=1*x;b=1*b;if(u==""){u="main";}if(b==0){b=65;}var m='<div id="'+a+'" class="easyui-panel" style="margin 0; width:0px; background-color:#E0ECFF; border-width:0px;"></div>';$("#"+u).append($(m));$("#"+a).panel();if(d>0){m='<span style="margin:0px 0px 0px '+d+'px;"></span>';$("#"+a).append($(m));}var j=q.split(";");var g=1;for(var h=0;h<j.length;h++){var l=j[h].split("/");var e="";var r="";var v="";var c="";var y="";var m="";if(l.length>=1){v=l[0];if(v.substring(0,1)=="|"||v.substring(0,1)=="-"){y="-";v=v.substring(1,1000);}if(l.length>=2){e=l[1];}if(l.length>=3){r=l[2];}if(l.length>=4){c=l[3];}if(v=="-"||v=="|"||l.length==1){m='<span style="margin:0px 0px 0px 0px;"><a id="'+a+"_sep"+g+'" href="javascript:void(0)" class="btn-separator" style="';if(x>0){m+='height:"'+x+'px";';}m+='"></a></span>';$("#"+a).append($(m));$("#"+a+"_sep"+g).css({position:"absolute",top:(t+4)+"px",height:x+"px"});g++;}else{if(y!=""){m='<span style="width:'+b+'px; margin:0px 0px 0px 0px;"><a id="'+e+'_sep" href="javascript:void(0)" class="btn-separator" style="';if(x>0){m+='height:"'+x+'px";';}m+='"></a></span>';$("#"+a).append($(m));$("#"+e+"_sep").css({position:"absolute",top:(t+4)+"px",height:(x)+"px"});}if(c==""){m='<a href="javascript:void(0)" id="'+e+'" class="easyui-linkbutton" data-options="plain:true';}else{m='<a href="javascript:void(0)" id="'+e+'" class="easyui-menubutton" data-options="plain:true, menu:\'#'+c+"'";}if(r!=""){m+=",iconCls:'"+r+"'";}m+='" style="margin:'+(t-1)*1+'px 0px 0px 0px;">'+v+"</a>";$("#"+a).append($(m));if(c==""){$("#"+e).linkbutton({width:b});$("#"+e).attr("xtype","linkbutton");}else{$("#"+e).menubutton({width:b+20});$("#"+e).attr("xtype","menubutton");}}}}}function mySep(h,c,e,d,a,b){if(c==""){c="main";}if(b!=""){b=";"+b+";";}var g="";if(b!=undefined&&b.indexOf(";menu;")>=0){g+='<div id="'+h+'_div"><a href="javascript:void(0)" id="'+h+'_sep" class="menu-sep" ></a></div>';}else{g+='<div style="margin:2px 0;" id="'+h+'_div"><a href="javascript:void(0)" id="'+h+'_sep" class="btn-separator" style="margin:'+e+'px 0;" ></a></div>';}$("#"+c).append($(g));$("#"+h+"_div").css(myTextCss(c,e,d,a,0));$("#"+h+"_sep").css({position:"absolute",height:a});}function myForm(a){if(a instanceof Array){var d={};d.id=a[0];d.parent=a[1];d.title=a[2];d.top=a[3];d.left=a[4];d.height=a[5];d.width=a[6];if(a.length>7){d.style=a[7];}}else{var d=a;}d=mySetPosSize(d);if(d.parent==""){d.parent="main";}if(d.parent=="main"&&(d.width<=0||d.height<=0)){$("#main").removeClass();$("#main").addClass("easyui-layout");$("#main").panel({"fit":true});}if(d.style==undefined){d.style="";}var c="";if(d.top!=0){c+='<div style="margin:';c+=d.top+"px";c+=' 0px 0px 0px;"></div>';}if($("#"+d.id).length==0){if(d.title==""){str=c+'<div class="easyui-panel" id="'+d.id+'" style="overflow:auto; position:relative; margin:0; padding:0;';}else{str=c+'<div class="easyui-panel" id="'+d.id+"\" title=\"<div style='margin:0px 0px 0px 4px; '>"+d.title+'" style="overflow:auto; position:relative;  margin:0; padding:0;';}var e=$("#"+d.parent).height()-2;var b=$("#"+d.parent).width()-2;if(d.width>0){str+="width:"+d.width+"px;";}else{str+="width: 100%;";}if(d.height>0){str+="height:"+d.height+"px;";}else{str+="height: 100%;";}str+="\" data-options=\"iconCls:'panelIcon'";if(d.style.indexOf("close")>=0){str+=",closable:true";}if(d.style.indexOf("collapse")>=0){str+=",collapsible:true";}if(d.style.indexOf("min")>=0){str+=",minimizable:true";}if(d.style.indexOf("min")>=0){str+=",maximizable:true";}str+='" >';str+="</div>";$("#"+d.parent).append($(str));$("#"+d.id).panel();}else{if(d.width>0){$("#"+d.id).panel({width:d.width});}else{$("#"+d.id).panel({width:"100%"});}if(d.height>0){$("#"+d.id).panel({height:d.height});}else{$("#"+d.id).panel({height:"100%"});}}if(d.title!=""){$("#"+d.id).panel({title:d.title});}d.classtype="form";d.datatype="";mySetAttribute(d);}function myTabs(c){if(c instanceof Array){var h={};h.id=c[0];h.parent=c[1];h.items=c[2];if(c.length>3){h.top=c[3];}if(c.length>4){h.left=c[4];}if(c.length>5){h.height=c[5];}if(c.length>6){h.width=c[6];}if(c.length>7){h.style=c[7];}}else{var h=c;}h=mySetPosSize(h);if(h.style==undefined){h.style="";}else{h.style=";"+h.style+";";}if(h.parent==undefined||h.parent==""){h.parent="main";}var d=h.id+"Panel";if(h.style.indexOf(";close;")>=0){var a=true;}else{a=false;}var j='<div id="'+h.id+'" class="easyui-tabs" style="overflow:auto; position:relative; ';if(h.top>0){j+="margin: "+top+"px 0px -19px ";}else{j+="margin: 0px 0px -19px ";}if(h.left>0){j+=left+'px; padding:0px 0px 0px 0px;">\n';}else{j+='0px; padding:0px 0px 0px 0px;">\n';}var g=[];if(h.items!=undefined&&h.items!=""){g=h.items.split(";");for(var e=0;e<g.length;e++){j+='<div id="'+h.id+(e+1)*1+'" title="'+g[e]+'" data-options="closable:'+a+'" style="top:0px; left:0px; position:relative; overflow:auto; border-width:0px;">\n';j+="</div>\n";}}j+="</div>\n";$("#"+h.parent).append($(j));$("#"+h.id).tabs();if(h.width<=0&&h.height<=0){$("#"+h.id).tabs({fit:true});}else{$("#"+h.id).tabs({width:h.width,height:h.height});}h.classtype="tabs";h.datatype="";mySetAttribute(h);$("#"+h.parent).attr("xtab",h.id);$("#"+h.id).attr("xfixedtabcount",g.length);if(h.style.indexOf(";autoheight;")<0){$("#"+h.id).attr("autoheight",0);}else{$("#"+h.id).attr("autoheight",1);}if(g.length>0){for(var e=1;e<g.length;e++){$("#"+h.id).tabs("select",e);}$("#"+h.id).tabs("select",0);var b=$("#"+h.id).tabs("getTab",0);$("#"+h.id).tabs("update",{tab:b,options:{}});}}function myTabForm(){tabs=p.tabs;var b=p.id;var a=p.id+"Form";p.id=a;myForm(p);p.top=0;p.left=0;p.height=0;p.width=0;p.id=b;p.parent=a;myTabs(p);}function myMenuButton(a,j,h,g,c,l,b,e){var d='<a href="javascript:void(0)" id="'+a+'" class="easyui-menubutton" data-options="plain:true, menu:\'#'+e+'\'" style="';if(b>0){d+="width:"+b+"px";}if(l>0){d+="height:"+l+"px";}if(g>0&&c>0){d+="position:absolute; top:"+g+"px; left:"+c+"px;";}d+='">'+h+"</a>";$("#"+j).append($(d));$("#"+a).attr("xtype","menubutton");$("#"+a).menubutton();}function myMenu(g,b,a){myMenuItem(g,b);var d=a.split(";");if(d.length>0){var e="";for(var c=0;c<d.length;c++){if(c>0){e+=",";}e+="#"+d[c];}}}function myMenuItem(h,b){var g="";if($("#"+h).length==0){g='<div id="'+h+'" xtype="menu" class="easyui-menu" data-options="" style="width:auto"></div>';$("#main").append($(g));}$("#"+h).menu();var a=1;g="";var d=b.split(";");for(var c=1;c<=d.length;c++){var e=d[c-1].split("/");if(e.length==1&&e[0]=="-"){$("#"+h).menu("appendItem",{id:h+"_sep"+a,separator:true});a++;}else{if(e.length==2){$("#"+h).menu("appendItem",{xtype:"menuitem",text:e[0],id:e[1]});$("#"+e[1]).attr("xtype","menuitem");$("#"+e[1]).attr("xparent",h);}else{if(e.length==3){$("#"+h).menu("appendItem",{xtype:"menuitem",text:e[0],id:e[1],iconCls:e[2]});$("#"+e[1]).attr("xtype","menuitem");$("#"+e[1]).attr("xparent",h);}}}}}function myGetTitle(g){var e="";if($("#"+g).length>0){var d=$("#"+g).attr("class")+"";var c=$("#"+g).attr("xtype")+"";if(c=="tabs"){var b=$("#"+g).tabs("getSelected");var a=$("#"+g).tabs("getTabIndex",b);e=$("#"+g+" .tabs-title")[a].innerHTML;}}return e;}function myWinTitle(a,b){$("#"+a).window("setTitle","<div style='margin:0px 0px 0px 4px; '>"+b+"</div>");}function myWindow(v){if((v instanceof Array)){var p={};p.id=v[0];p.title=v[1];p.top=v[2];p.left=v[3];p.height=v[4];p.width=v[5];p.buttons=v[6];if(v.length>6){p.style=v[7];}else{p.style="";}}else{p=v;}p=mySetPosSize(p);if(p.style==undefined){p.style="";}p.style=";"+p.style+";";var xid=p.id+"Form";var str='<div id="'+p.id+'" class="easyui-window" title="<div style=\'margin:0px 0px 0px 4px; \'>'+p.title+'" data-options="iconCls:\'panelIcon\'" ';str+='style="';if(p.style.indexOf(";scrollbar;")>=0){str+="overflow:auto;";}else{str+="overflow:hidden;";}str+='position:relative; "></div>';$("#main").append($(str));if(p.width<=0){p.width=500;}if(p.height<=0){p.height=400;}var xstyle="({width:"+p.width+", height:"+p.height;if(p.style==undefined||p.style==""){p.style="close";}if(p.buttons==undefined){p.buttons="";}if(p.style.indexOf(";resize;")>=0){xstyle+=" ,resizable: true";}else{xstyle+=" ,resizable: false";}if(p.style.indexOf(";drag;")>=0){xstyle+=" ,draggable: true";}else{xstyle+=" ,draggable: false";}if(p.style.indexOf(";close;")>=0){xstyle+=" ,closable:true";}else{xstyle+=" ,closable:false";}if(p.style.indexOf(";collapse;")>=0){xstyle+=" ,collapsible:true";}else{xstyle+=" ,collapsible:false";}if(p.style.indexOf(";max;")>=0){xstyle+=" ,maximizable:true";}else{xstyle+=" ,maximizable:false";}if(p.style.indexOf(";min;")>=0){xstyle+=" ,minimizable:true";}else{xstyle+=" ,minimizable:false";}if(p.style.indexOf(";modal;")>=0){xstyle+=" ,modal:true";}else{xstyle+=" ,modal:false";}xstyle+="})";if(p.top>0&&p.left>0){$("#"+p.id).window({left:p.left,top:p.top});}$("#"+p.id).window(eval(xstyle));$("#"+p.id).attr("xtype","window");$("#"+p.id).attr("xtop",p.top*1);$("#"+p.id).attr("xleft",p.left*1);$("#"+p.id).attr("xheight",p.height*1);$("#"+p.id).attr("xwidth",p.width*1);$("#"+p.id).window("close");if(p.buttons!=undefined&&p.buttons!=""){p.buttons=";"+p.buttons+";";var btntop=p.height-74;var btnleft=p.width-sysbutton.width-30;if(p.buttons.indexOf(";cancel;")>=0){myButton([p.id+"CancelBtn",id,"取消",btntop,btnleft,sysbutton.height,sysbutton.width]);btnleft=btnleft-sysbutton.width-1;}if(p.buttons.indexOf(";close;")>=0){myButton([p.id+"CloseBtn",p.id,"关闭",btntop,btnleft,sysbutton.height,sysbutton.width]);btnleft=btnleft-sysbutton.width;$("#"+p.id+"CancelBtn").on("click",function(){$("#"+p.id).window("close");});}if(p.buttons.indexOf(";save;")>=0){myButton([p.id+"SaveBtn",p.id,"保存",btntop,btnleft,sysbutton.height,sysbutton.width]);btnleft=btnleft-sysbutton.width;}if(p.buttons.indexOf(";ok;")>=0){myButton([p.id+"OkBtn",p.id,"确定",btntop,btnleft,sysbutton.height,sysbutton.width]);btnleft=btnleft-sysbutton.width;}}}function myGridFilterBar(pmyGrid1){if(pmyGrid1.width==undefined||pmyGrid1.width<=0){pmyGrid1.width=250;}if(pmyGrid1.top==undefined){pmyGrid1.top=0;}if(pmyGrid1.left==undefined){pmyGrid1.left=14;}var top=pmyGrid1.filterbar.top*1;var left=pmyGrid1.filterbar.left*1;var width=pmyGrid1.filterbar.width*1;var parent=pmyGrid1.filterbar.parent;var keyfield=pmyGrid1.filterbar.textfield+"_field";var textfield=pmyGrid1.filterbar.textfield;var style=pmyGrid1.filterbar.textfield+"_style";var filteritems=pmyGrid1.filteritems;var buttonok=pmyGrid1.filterbar.textfield+"_btn";if(filteritems!=""){myComboField([keyfield,parent,"快速过滤:",60,top,left,0,160,filteritems,filteritems,"checkbox"]);myComboField([style,parent,"",0,top,left+222,0,80,"模糊;精确;不包含;不等于;大于等于;小于等于;前端匹配;后端匹配","模糊","autodrop"]);myTextField([textfield,parent,"",0,top,left+304,0,width,""]);myButton([buttonok,parent,"结果集中过滤",top,left+width+315,24,95]);}$("#"+textfield).textbox({buttonIcon:"icon-filter",onClickButton:function(e){eval(pmyGrid1.filterbar.event);}});$("#"+textfield).textbox("textbox").bind("keydown",function(e){if(e.which==13){eval(pmyGrid1.filterbar.event);}});$("#"+buttonok).click(function(e){eval(pmyGrid1.filterbar.event);});}function myFilterBar(a,b){b=mySetPosSize(b);a.filterbar.filterbtn=b.id+"btn";a.filterbar.filterfield=b.id;myTextField(b);myButton([a.filterbar.filterbtn,b.parent,"过滤",b.top,1*b.left+1*b.width+1*b.labelwidth+10,24,72,"icon-search"]);mySep(b.id+"sep1",b.parent,b.top-1,1*b.left-15,b.height-3,"");mySep(b.id+"sep2",b.parent,b.top-1,1*b.left+1*b.width+1*b.labelwidth+10+72+10,b.height-3,"");$("#"+a.filterbar.filterfield).textbox({buttonIcon:"icon-filter",onClickButton:function(c){$("#"+a.id+"FilterWin").window("open");}});$("#"+a.filterbar.filterfield).textbox("textbox").bind("keydown",function(c){if(c.which==13){mySearchWhereSql("filterbar");}});$("#"+a.filterbar.filterbtn).click(function(c){mySearchWhereSql("filterbar");});return a;}function myFilterWindow(a){var b=a.id+"FilterWin";myWindow([b,"数据过滤",0,0,230,450,"","close;modal;drag"]);a.filterwin.filterbtnok=a.id+"FilterOk";a.filterwin.filterbtnclose=a.id+"FilterClose";a.filterwin.sortfield=a.id+"sortfield";a.filterwin.sortstyle=a.id+"sortstyle";a.filterwin.filterfield=a.id+"filterfield";a.filterwin.filterstyle=a.id+"filterstyle";a.filterwin.filtertext=a.id+"filtertext";myComboField([a.filterwin.sortfield,b,"排序方向:",64,20,28,0,228,"默认;"+a.filteritems,"","autodrop"]);myComboField([a.filterwin.sortstyle,b,"",0,20,321,0,80,"升序;降序","","autodrop"]);myComboField([a.filterwin.filterfield,b,"关键字:",64,64,28,0,228,a.filteritems,a.filteritems,"checkbox"]);myComboField([a.filterwin.filterstyle,b,"",0,64,321,0,80,"模糊;精确;不包含;不等于;大于等于;小于等于;前端匹配;后端匹配","模糊","autodrop"]);myTextField([a.filterwin.filtertext,b,"查找文本:",64,108,28,0,309,""]);myButton([a.filterwin.filterbtnok,b,"确定",152,240,24,72]);myButton([a.filterwin.filterbtnclose,b,"取消",152,314,24,72]);$("#"+b).window("close");$("#"+a.filterwin.filterbtnok).click(function(c){mySearchWhereSql("filterwin");$("#"+b).window("close");});$("#"+a.filterwin.filterbtnclose).click(function(c){$("#"+b).window("close");});return a;}function myGridFilterWhereSql(d){var m=d.filterbar.textfield+"_field";var l=d.filterbar.textfield;var c=d.filterbar.textfield+"_style";var q=d.filteritems;var b=d.filterbar.textfield+"_btn";var u="";var x="";var v="";if(l!=undefined){var g=myGetValue(l);var j="";var t="";var a=$("#"+m).combobox("getText");var e=myGetValue(c);}else{var g=myGetValue(d.filterwin.filtertext);var j=$("#"+d.filterwin.sortfield).combobox("getText");var t=myGetValue(d.filterwin.sortstyle);var a=$("#"+d.filterwin.filterfield).combobox("getText");var e=myGetValue(d.filterwin.filterstyle);}if(e=="前端匹配"){s=" like '"+g+"%'\"";}else{if(e=="前端匹配"){s=" like '%"+g+"'";}else{if(e=="不包含"){s=" like '%"+g+"%'";}else{if(e=="精确"){s="='"+g+"'";}else{if(e=="不等于"){s="='"+g+"'";}else{if(e=="大于等于"){s=">='"+g+"'";}else{if(e=="小于等于"){s="<='"+g+"'";}else{if(e=="小于等于"){s="<='"+g+"'";}else{s=" like '%"+g+"%'";}}}}}}}}if(g!=""){var a=";"+a+";";for(var h=0;h<d.filterfields.length;h++){var r=d.filterfields[h].field;if(a.indexOf(";"+d.filterfields[h].title+";")>=0){if(x!=""){x+=" or ";}x+=r+s;}}}if(x!=""){if(e=="不包含"||e=="不等于"){x=" not ("+x+")";}else{x="("+x+")";}}d.filtersql=x;d.sortfield=v;return d;}function myLoadGridData(pmyGrid1,pageNumber){var myGrid1=pmyGrid1.id;if(pageNumber==0){var opts=$("#"+pmyGrid1.id).datagrid("getPager").data("pagination").options;pageNumber=opts.pageNumber;}if(pageNumber>0){var pager=$("#"+pmyGrid1.id).datagrid("getPager");pager.pagination("refresh",{pageNumber:pageNumber});var opts=$("#"+pmyGrid1.id).datagrid("getPager").data("pagination").options;opts.pageNumber=pageNumber;var pageSize=opts.pageSize;if(pageSize==undefined){pageSize=pmyGrid1.pagesize;}var opts=$("#"+pmyGrid1.id).datagrid("options");opts.pageNumber=pageNumber;opts.pageSize=pageSize;pmyGrid1.pagesize=pageSize;}var reloadflag=0;pmyGrid1=myFetchGridRows(pmyGrid1,pageNumber);if(pageNumber>0){var rowcount=$("#"+pmyGrid1.id).datagrid("getData").total+"";var width=(rowcount.length*6+8);if(width<25){width=25;}var w=width+"px";$(".datagrid-header-rownumber,.datagrid-cell-rownumber").css({"width":w});$("#"+pmyGrid1.id).datagrid("resize");pmyGrid1.rownumberwidth=w;pmyGrid1.sysrowno=-1;$("#"+pmyGrid1.id).attr("sysrowno",-1);if(rowcount>0){var rows=$("#"+pmyGrid1.id).datagrid("getRows");pmyGrid1.pageNumber=pageNumber;pmyGrid1.pagecount=parseInt((rowcount-1)/pmyGrid1.pagesize)+1;if(pmyGrid1.rowindex==undefined||pmyGrid1.rowindex<0){pmyGrid1.rowindex=0;}if(pageNumber>pmyGrid1.pagecount&&pmyGrid1.pagecount>0){pageNumber--;pmyGrid1.rowindex=pmyGrid1.pagesize-1;xmaxindex=pmyGrid1.pagesize-1;pmyGrid1=myFetchGridRows(pmyGrid1,pageNumber);}else{if(pageNumber==pmyGrid1.pagecount){xmaxindex=(rowcount-1)%pmyGrid1.pagesize;}else{xmaxindex=pmyGrid1.pagesize-1;}}pmyGrid1.rowindex=Math.min(pmyGrid1.rowindex,xmaxindex);$("#"+pmyGrid1.id).datagrid("selectRow",pmyGrid1.rowindex);}else{pmyGrid1.pageNumber=0;pmyGrid1.pagecount=-1;pmyGrid1.rowindex=-1;}$("#"+pmyGrid1.id).attr("rowindex",pmyGrid1.rowindex);$("#"+pmyGrid1.id).attr("rowcount",rowcount);pmyGrid1.pagingcombosource=[];s="[";for(var i=1;i<=pmyGrid1.pagecount;i++){if(i>1){s+=",";}s+="{'"+pmyGrid1.gridpagingcombo+"':'"+i+"/"+pmyGrid1.pagecount+"','index':'"+i+"'}";}s+="]";pmyGrid1.pagingcombosource=eval(s);if($("#"+pmyGrid1.gridpagingcombo).length>0){$("#"+pmyGrid1.gridpagingcombo).combobox({data:pmyGrid1.pagingcombosource});if(pmyGrid1.pagingcombosource.length>0){s=pmyGrid1.pageNumber+"/"+pmyGrid1.pagecount;}}myGridEvents(pmyGrid1.id,"onload");}return pmyGrid1;}function myFetchGridRows(pmyGrid1,pageNumber){var source={};var rowcount=$("#"+pmyGrid1.id).datagrid("getData").total;var totalpage=parseInt((rowcount-1)/pmyGrid1.pagesize)+1;var rows=$("#"+pmyGrid1.id).datagrid("getRows");var limit=pmyGrid1.pagesize;if(pageNumber>totalpage){pageNumber=1;}var params={"start":(pageNumber-1)*pmyGrid1.pagesize+1,"limit":limit};if(pmyGrid1.params!=undefined){params=extend(params,pmyGrid1.params);}if(params["filtersql"]==undefined){params["filtersql"]="";}$.ajax({url:sys.path+"/GridDataLoader",type:"post",dataType:"text",async:false,data:{xmlfilename:pmyGrid1.xmlfile,nodeid:pmyGrid1.id,paramvalues:JSON.stringify(params)},success:function(data){eval("source="+data);pmyGrid1.rowcount=source.total;pmyGrid1.rowno=-1;if(pageNumber>0){var opts=$("#"+pmyGrid1.id).datagrid("options");opts.pageNumber=pageNumber;$("#"+pmyGrid1.id).datagrid("reload");$("#"+pmyGrid1.id).datagrid("loadData",source);}}});return pmyGrid1;}function myGridPaging(c){var b=c.id;$("#"+c.id).datagrid({pagination:true,pageSize:c.pagesize});var d=$("#"+c.id).datagrid("getPager").data("pagination").options;var a=$("#"+c.id).datagrid("getPager");a.pagination({showPageList:false,beforePageText:"第",afterPageText:"页    共 {pages} 页",displayMsg:"当前显示{from}～{to}行，共{total}行",onRefresh:function(g,e){if(c.rowindex>=0){$("#"+c.id).datagrid("endEdit",c.rowindex);}c.rowindex=0;myLoadGridData(c,g);myGridEvents(c.id,"onRefresh");},onChangepageSize:function(e){if(c.rowindex>=0){$("#"+c.id).datagrid("endEdit",c.rowindex);}var g=$("#"+c.id).datagrid("options");g.pageSize=e;c.rowindex=0;myLoadGridData(c,1);myGridEvents(c.id,"onChangepageSize");},onSelectPage:function(g,e){if(c.rowindex>=0){$("#"+c.id).datagrid("endEdit",c.rowindex);}var h=$("#"+c.id).datagrid("options");h.pageNumber=g;h.pageSize=e;c.rowindex=0;myLoadGridData(c,g);myGridEvents(c.id,"onSelectPage");}});return c;}function myGridColumns(fieldset){source=[];$.ajax({url:sys.path+"/ParseDatafields",type:"post",dataType:"text",async:false,data:{fieldset:fieldset},success:function(data){eval("source="+data);}});return source;}function myDBGrid(pmyGrid1){if(pmyGrid1.xmlfile!=""){$.ajax({url:sys.path+"/XMLNodeReader",type:"post",dataType:"text",async:false,data:{xmlfilename:pmyGrid1.xmlfile,nodeid:pmyGrid1.id},success:function(data){eval("source="+data);pmyGrid1=extend(pmyGrid1,source);}});pmyGrid1.datafields=myGridColumns(pmyGrid1.datafields);pmyGrid1.fixedfields=myGridColumns(pmyGrid1.fixedfields);}pmyGrid1.rowindex=-1;pmyGrid1.rowno=-1;pmyGrid1.checkonclick=0;pmyGrid1.singleselect=1;pmyGrid1.staticsql="";pmyGrid1.keyvalue="";pmyGrid1.sortway="asc";pmyGrid1.collapsible=false;pmyGrid1.rowcount=0;pmyGrid1.filterwin={};pmyGrid1.filterbar={};pmyGrid1.filterbar.top=0;pmyGrid1.filterbar.left=14;pmyGrid1.filterbar.width=250;if(pmyGrid1.summeryfields==undefined){pmyGrid1.summeryfields="";}if(pmyGrid1.fontsize==undefined){pmyGrid1.fontsize=syslabel.fontsize;}if(pmyGrid1.pagesize==undefined){pmyGrid1.pagesize=20;}if(pmyGrid1.rownumber==undefined){pmyGrid1.rownumber=true;}if(pmyGrid1.menu==undefined){pmyGrid1.menu="";}if(pmyGrid1.height==undefined){pmyGrid1.height=0;}if(pmyGrid1.width==undefined){pmyGrid1.width=0;}if(pmyGrid1.top==undefined){pmyGrid1.top=-1;}if(pmyGrid1.left==undefined){pmyGrid1.left=-1;}if(pmyGrid1.toolbar==undefined){pmyGrid1.toolbar="";}if(pmyGrid1.sortfield==undefined||pmyGrid1.sortfield==""){pmyGrid1.sortfield=pmyGrid1.keyfield;}if(pmyGrid1.checkonclick==undefined){pmyGrid1.checkonclick=1;}if(pmyGrid1.checkbox==undefined){pmyGrid1.checkbox="multiple";}if(pmyGrid1.title==undefined){pmyGrid1.title="";}if(pmyGrid1.masterfield==undefined){pmyGrid1.masterfield="";}var str="";if(pmyGrid1.top>0||pmyGrid1.left>0){str+='<div id="'+pmyGrid1.id+'_div" style="position:absolute;';if(pmyGrid1.top>0){str+=" top:"+pmyGrid1.top+"px;";}if(pmyGrid1.left>0){str+=" left:"+pmyGrid1.left+"px;";}str+='">';}str+='<div id="'+pmyGrid1.id+'" class="easyui-datagrid" data-options="';if(pmyGrid1.toolbar!=undefined&&pmyGrid1.toolbar!=""){str+="toolbar:"+pmyGrid1.toolbar+"";}str+='" style="position:absolute;" ></div>';if(pmyGrid1.top>0||pmyGrid1.left>0){str+="</div>";}$("#"+pmyGrid1.parent).append($(str));if(pmyGrid1.width<=0){pmyGrid1.width="100%";}if(pmyGrid1.height<=0){pmyGrid1.height="100%";}pmyGrid1.columns=[];pmyGrid1.checkboxcolumn=[];if(pmyGrid1.checkbox!=""){pmyGrid1.checkboxcolumn.push({type:"cb",field:"sys_checkedflag",width:20,checkbox:true,align:"center"});}if(pmyGrid1.striped==undefined||pmyGrid1.striped==""){pmyGrid1.striped=false;}else{pmyGrid1.striped=true;}if(pmyGrid1.checkbox=="single"){var selectoncheck=true;}else{var selectoncheck=false;}if(pmyGrid1.fixedfields.length>0){pmyGrid1.fixedfields=pmyGrid1.checkboxcolumn.concat(pmyGrid1.fixedfields);}else{pmyGrid1.fixedfields=pmyGrid1.checkboxcolumn;}pmyGrid1.filterfields=[];pmyGrid1.sortfields=[];str1="";str2="";for(i=0;i<pmyGrid1.fixedfields.length;i++){if(pmyGrid1.fixedfields[i].filtertag!=undefined&&pmyGrid1.fixedfields[i].filtertag){pmyGrid1.filterfields.push(pmyGrid1.fixedfields[i]);if(str1!=""){str1+=";";}str1+=pmyGrid1.fixedfields[i].title;}if(pmyGrid1.fixedfields[i].sorttag!=undefined&&pmyGrid1.fixedfields[i].sorttag){pmyGrid1.sortfields.push(pmyGrid1.fixedfields[i]);if(str2!=""){str2+=";";}str2+=pmyGrid1.fixedfields[i].title;}}for(i=0;i<pmyGrid1.datafields.length;i++){if(pmyGrid1.datafields[i].filtertag!=undefined&&pmyGrid1.datafields[i].filtertag){pmyGrid1.filterfields.push(pmyGrid1.datafields[i]);if(str1!=""){str1+=";";}str1+=pmyGrid1.datafields[i].title;}if(pmyGrid1.datafields[i].sorttag!=undefined&&pmyGrid1.datafields[i].sorttag){pmyGrid1.sortfields.push(pmyGrid1.datafields[i]);if(str2!=""){str2+=";";}str2+=pmyGrid1.datafields[i].title;}}pmyGrid1.filteritems=str1;pmyGrid1.sortitems=str2;$("#"+pmyGrid1.id).datagrid({title:"&nbsp;"+pmyGrid1.title,width:pmyGrid1.width,height:pmyGrid1.height,iconCls:"panelIcon",nowrap:true,autoRowHeight:false,remoteSort:false,sortOrder:"asc",rownumbers:true,pagePosition:"bottom",selectOnCheck:selectoncheck,checkOnSelect:selectoncheck,frozenColumns:[pmyGrid1.fixedfields],columns:[pmyGrid1.datafields],striped:pmyGrid1.striped});if(pmyGrid1.menu!=undefined&&pmyGrid1.menu!=""){$("#"+pmyGrid1.id).datagrid({onRowContextMenu:function(e,index,record){e.preventDefault();var xmenu=$(this).attr("xcontextmenu");var xcheckbox=$(this).attr("xcheckbox");var xid=$(this).attr("xid");if(xcheckbox=="single"){$(this).datagrid("selectRow",index);}$("#"+xmenu).menu("show",{left:e.pageX,top:e.pageY});myGridEvents(xid,"onRowContextMenu");}});}else{$("#"+pmyGrid1.id).datagrid({onRowContextMenu:function(e,index,record){e.preventDefault();var xmenu=$(this).attr("xcontextmenu");var xcheckbox=$(this).attr("xcheckbox");var xid=$(this).attr("xid");if(xcheckbox=="single"){$(this).datagrid("selectRow",index);}myGridEvents(xid,"onRowContextMenu");}});}if(pmyGrid1.title==""){$("#"+pmyGrid1.id).datagrid({noheader:true});}if(pmyGrid1.rownumber){$("#"+pmyGrid1.id).datagrid({rownumbers:true});}if(pmyGrid1.collapsible){$("#"+pmyGrid1.id).datagrid({collapsible:true});}if(pmyGrid1.checkbox=="single"){$("#"+pmyGrid1.id).datagrid({singleSelect:true});}else{if(pmyGrid1.checkbox=="multiple"){$("#"+pmyGrid1.id).datagrid({singleSelect:false});}}var cols=$("#"+pmyGrid1.id).datagrid("options").columns[0];if(pmyGrid1.sortablefields!=undefined&&pmyGrid1.sortablefields!=""){var cols=$("#"+pmyGrid1.id).datagrid("options").columns[0];}$("#"+pmyGrid1.id).attr("xcontextmenu",pmyGrid1.menu);$("#"+pmyGrid1.id).attr("xcheckbox",pmyGrid1.checkbox);$("#"+pmyGrid1.id).attr("xid",pmyGrid1.id);$("#"+pmyGrid1.id).attr("xcheckonclick",pmyGrid1.checkonclick);$("#"+pmyGrid1.id).attr("xsingleselect",pmyGrid1.singleselect);$("#"+pmyGrid1.id).datagrid({onDblClickRow:function(index,row){var xid=$(this).attr("xid");myGridEvents(xid,"onDblClickRow");},onSelect:function(index,row){var xid=$(this).attr("xid");$(this).attr("rowindex",index);myGridEvents(xid,"onSelect");},onClickRow:function(index,row){var xid=$(this).attr("xid");var xcheckonclick=$(this).attr("xcheckonclick");var xsingleselect=$(this).attr("xsingleselect");var xrowindex=$(this).attr("rowindex");if(xcheckonclick==0){}if(xsingleselect==1){var rows=$("#"+xid).datagrid("getRows");for(var i=0;i<rows.length;i++){if(xrowindex!=i){$(this).datagrid("unselectRow",i);}}$(this).datagrid("selectRow",xrowindex);}$(this).attr("rowindex",index);myGridEvents(pmyGrid1.id,"onClickRow");},onClickCell:function(index,field,value){var columnset1=$(this).datagrid("options").columns[0];var columnset2=$(this).datagrid("options").frozenColumns[0];pmyGrid1.celltype="";for(i=0;i<columnset2.length&&pmyGrid1.celltype=="";i++){if(columnset2[i].field==field){pmyGrid1.celltype=columnset2[i].type;}}for(i=0;i<columnset1.length&&pmyGrid1.celltype=="";i++){if(columnset1[i].field==field){pmyGrid1.celltype=columnset1[i].type;}}var xid=$(this).attr("xid");$(this).attr("rowindex",index);$(this).attr("cellfield",field);$(this).attr("cellvalue",value);pmyGrid1.rowindex=index;pmyGrid1.cellfield=field;pmyGrid1.cellvalue=value;myGridEvents(xid,"onClickCell");}});if(pmyGrid1.pagesize>0){myGridPaging(pmyGrid1);}pmyGrid1.lastrowno=-1;return pmyGrid1;}function myGridColumnFormmater(value,row,index,xname,xtype,xtitle,xdec){if(xtype=="n"||xtype=="f"||xtype=="e"){if(value!=undefined){value=(1*value).toFixed(xdec);}else{value="0";}if(xtype=="n"||xtype=="e"){if(value==undefined||value==""||1*value==0){value="&nbsp;";}}return'<a href="javascript:void(0)" style="padding:0 0px; color:#000000;"><div>'+value+"</div></a>";}else{if(xtype=="d"){if(value==""||value==undefined){value="&nbsp;";}return'<a href="javascript:void(0)" style="padding:0 0px; color:#000000;"><div>'+value+"</div></a>";}else{if(xtype=="i"){x1=xdec;if(x1<6){x1=16;}if(value==""||value==undefined){var xvalue="&nbsp;";}else{var f="system/images/"+value;var xvalue='<a href="javascript:void(0)"><img border="0" style="height:'+x1+"px; width:"+x1+'px; border:1;" src="'+f+'"/></a>';}return xvalue;}else{if(xtype=="g"){var v1=eval("row."+xname);if(v1.lastIndexOf(".pdf")>0){v2="pdf24.png";}else{if(v1.lastIndexOf(".swf")>0){v2="swf24.png";}else{if(v1.lastIndexOf(".doc")>0){v2="word24.png";}else{if(v1.lastIndexOf(".docx")>0){v2="word24.png";}else{if(v1.lastIndexOf(".xls")>0){v2="excel24.png";}else{if(v1.lastIndexOf(".xlsx")>0){v2="excel24.png";}else{if(v1.lastIndexOf(".ppt")>0){v2="ppt24.png";}else{if(v1.lastIndexOf(".pptx")>0){v2="ppt24.png";}else{if(v1.lastIndexOf(".rar")>0){v2="rar24.png";}else{if(v1.lastIndexOf(".zip")>0){v2="zip24.png";}else{if(v1.lastIndexOf(".mp3")>0){v2="audio24.png";}else{if(v1.lastIndexOf(".wav")>0){v2="audio24.png";}else{if(v1.lastIndexOf(".png")>0){v2="pct24.png";}else{if(v1.lastIndexOf(".gif")>0){v2="pct24.png";}else{if(v1.lastIndexOf(".jpg")>0){v2="pct24.png";}}}}}}}}}}}}}}}v2="system/images/"+xtitle+".png";return'<a href="javascript:void(0)"><img border="0" style="height:20px; width:20px; border:0;" src="'+v2+'" /></a>';}else{if(value==""||value==undefined){value="&nbsp;";}return'<a href="javascript:void(0)" style="padding:0 0px; color:#000000;" ><div class="textdiv">'+value+"</div></a>";}}}}}function myIsRowChecked(e){var a=false;var d=$("#"+e.id);var g=d.datagrid("getChecked");var c=d.attr("rowindex");for(var b=0;b<g.length;b++){if(c==g[b].sysrowno){a=true;break;}}return a;}function myCheckBoxChange(g,a){var e="";var c=a.split(";");for(var b=1;b<=c.length;b++){if(b==1&&c.length==1){var d=g;}else{var d=g+b;}if($("#"+d).is(":checked")){e+=";"+c[b-1];}}$("#"+g).val(e.substr(1));}function mySetComboxByIndex(id,index){if($("#"+id).length>0){var items=$("#"+id).combobox("getData");if(items.length>0&&index<items.length){$("#"+id).combobox("setValue",eval("items[index]."+id));}}}function mySelectComboByIndex(id,index){if($("#"+id).length>0){var items=$("#"+id).combobox("getData");if(items.length>0&&index<items.length){$("#"+id).combobox("select",eval("items[index]."+id));}}}function mySetTreeNodeByIndex(c,a){var b=$("#"+c).tree("getRoot");if(b.children){$("#"+c).tree("expand",b.target);}$("#"+c).tree("select",b.target);}function mySetFormValues(fieldset,source){var xfields=[];var k=0;if(fieldset==undefined||fieldset==""){$.each(source,function(id,value){xfields[k]=id;k++;});}else{xfields=fieldset.split(";");}if(source!=null&&source!=undefined){for(var k=0;k<xfields.length;k++){var cmp=$("#"+xfields[k]);if(cmp.length>0&&cmp.attr("xfield")!=undefined){var field=cmp.attr("xfield");var value=eval("source."+field);if(value!=undefined){mySetValue(xfields[k],value);}if(cmp.length>0&&cmp.attr("xtype")=="file"&&source.filesourcename!=undefined){cmp.attr("xfilesourcename",source.filesourcename);cmp.attr("xfileosname",source.fileosname);cmp.attr("xfilesize",source.filesize);cmp.attr("xfilesizedesc",source.filesizedesc);cmp.attr("xuploaddate",source.uploaddate);cmp.attr("xuploadtime",source.uploadtime);cmp.attr("xdownloadtimes",source.downloadtimes);}}}}else{for(var k=0;k<xfields.length;k++){mySetValue(xfields[k],"");var cmp=$("#"+xfields[k]);if(cmp.length>0&&cmp.attr("xtype")=="file"){cmp.attr("xfilesourcename","");cmp.attr("xfileosname","");cmp.attr("xfilesize",0);cmp.attr("xfilesizedesc","");cmp.attr("xuploaddate","");cmp.attr("xuploadtime","");cmp.attr("xdownloadtimes","0");}}}}function mySetReadonly(c,flag){var xfields=[];if(c!=""){xfields=c.split(";");}else{var k=0;$("input, select, textarea").each(function(index){var input=$(this);if(input.attr("id")!=undefined&&input.attr("xid")!=undefined&&input.attr("xid")!=""){xfields[k]=input.attr("id");k++;}});}var type="";var id="";var value="";var hidden="";var pid="";for(k=0;k<xfields.length;k++){var input=$("#"+xfields[k]);id=input.attr("id");type=input.attr("xtype");hidden=input.attr("hidden");if(id!=undefined&&hidden!="hidden"&&input.attr("xreadonly")==0){if(type=="text"){$("#"+id).textbox("readonly",flag);}else{if(type=="textarea"){$("#"+id).attr("readonly",flag);}else{if(type=="combo"){$("#"+id).combobox("readonly",flag);}else{if(type=="checkbox"){$("#"+id).attr("disabled",flag);}else{if(type=="keditor"){if(flag){var str="window."+id+".readonly(true);";}else{var str="window."+id+".readonly(false);";}eval(str);}else{$("#"+id).attr("readonly",flag);}}}}}if(flag){$("#"+id).attr("xreadonly",1);}else{$("#"+id).attr("xreadonly",0);}}}}function myShowInputField(j,d){var h=j.split(";");for(var g=0;g<h.length;g++){if(h[g]!=""&&$("#"+h[g]).length>0){var e=$("#"+h[g]+"_div");var b=$("#label"+h[g]);var a=$("#xlabel"+h[g]);if(d){if(e.length>0){e.show();}if(b.length>0){b.show();}if(a.length>0){a.show();}}else{if(e.length>0){e.hide();}if(b.length>0){b.hide();}if(a.length>0){a.hide();}}}}}function myShowPanel(g,a){var e=g.split(";");for(var d=0;d<e.length;d++){if(e[d]!=""&&$("#"+e[d]).length>0){var b=$("#"+e[d]);if(a){b.panel("open");}else{b.panel("close");}}}}function myShowButton(h,b){var g=h.split(";");for(var e=0;e<g.length;e++){var d=$("#"+g[e]);if(g[e]!=""&&d.length>0){if(b){d.show();}else{d.hide();}}var a=$("#"+g[e]+"_sep");if(g[e]!=""&&a.length>0){if(b){a.css({"border-left":"1px solid LightGrey"});}else{a.css({"border-left":"0px"});}}}}function mySetEnabled(h,a){var g=h.split(";");for(var d=0;d<g.length;d++){var b=$("#"+g[d]);if(b.length>0){type=b.attr("xtype");if(type=="linkbutton"){if(a){b.linkbutton("enable");}else{b.linkbutton("disable");}}else{if(type="menuitem"){var e=$("#"+b.attr("xparent"));if(a){e.menu("enableItem",$("#"+g[d]));}else{e.menu("disableItem",$("#"+g[d]));}}}}}}function myClearForm(a){var c=[];var b=0;if(a==undefined||a==""){$("input, select, textarea").each(function(e){var d=$(this);id=d.attr("id");c[b]=id;b++;});}else{c=a.split(";");}for(var b=0;b<c.length;b++){if(c[b]!=""){input=$("#"+c[b]);if(input.length>0&&input.attr("xvalue")==undefined){mySetValue(c[b],"");}else{mySetValue(c[b],input.attr("xvalue"));}}}}function mySetRecordValuebyForm(record,fieldset){var xfields=[];if(fieldset==undefined||fieldset==""){k=0;$.each(record,function(id,value){xfields[k]=id;k++;});}else{xfields=fieldset.split(";");}for(var k=0;k<xfields.length;k++){eval("record."+xfields[k]+'="'+myGetValue(xfields[k])+'";');}return(record);}function mySetRecordValuebyJson(record,source){$.each(source,function(id,value){eval("record."+id+'="'+value+'";');});return(record);}function mySqlFromRecord(fieldset,record){var sql={};var sql1="";var sql2="";if(fieldset!=""&&record){for(var i=0;i<fieldset.length;i++){var field=fieldset[i].field;var type=fieldset[i].type;var value=eval("record."+field);if(value==undefined){value="";}var value=myToSqlValue(value);if(type=="n"&&(value==""||isNaN(value))){value="0";}if(i>0){sql1+=",";sql2+=",";}if(type=="m"){if(value==""){sql1+="''";sql2+=field+"=''";}else{sql1+="replace('"+value+"',char(10),'')";sql2+=field+"=replace('"+value+"',char(10),'')";}}else{if(value=="@sysdate"){sql1+="getdate()";sql2+=field+"=getdate()";}else{sql1+="'"+value+"'";sql2+=field+"='"+value+"'";}}}sql1+="";}sql.insertsql=sql1;sql.updatesql=sql2;return(sql);}function myInsertSqlFromRecord(record,tablename){var fieldset="";$.ajax({type:"Post",url:"system//easyui_getEditableFields.jsp",data:{tablename:myToXcode(tablename)},async:false,method:"post",success:function(data){eval("fieldset="+data+";");}});var sql="";if(fieldset!=""&&record){var insertsql1="insert into "+tablename+"(";var insertsql2="values(";for(var i=0;i<fieldset.length;i++){var field=fieldset[i].field;var type=fieldset[i].type;var value=eval("record."+field);if(value==undefined){value="";}var value=myToSqlValue(value);if(type=="n"&&(value==""||isNaN(value))){value="0";}if(i>0){insertsql1+=",";insertsql2+=",";}insertsql1+=field;if(type=="m"){if(value==""){insertsql2+="''";}else{insertsql2+="replace('"+value+"',char(10),'')";}}else{if(value=="@sysdate"){insertsql2+="getdate()";}else{insertsql2+="'"+value+"'";}}}sql+=insertsql1+") "+insertsql2+")";}console.log(sql);return(sql);}function myJsonDatabyFieldset(b){var a={};var g="{";var c=0;for(var d=0;d<b.length;d++){var l=b[d].field;if($("#"+l).length>0&&$("#"+l).attr("xsaveflag")!=0){if($("#"+l).attr("xsaveflag")==undefined){$("#"+l).attr("xsaveflag",1);}var e=b[d].type;var h=myToSqlValue(myGetValue(l));if(e=="n"&&(h==""||isNaN(h))){h="0";}if(c>0){g+=",";}g+='"'+l+'":"'+h+'"';str={"field":l,"value":h,"type":b[d].type,"readonly":+b[d].readonly};c++;}}g+="}";return g;}function myGenUpdateSql(c){var a=c.fields;sql="update "+tablename+" set ";sql="";for(var b=0;b<a.length;b++){var d=a[b].field;if(a[b].readonly==0&&$("#"+d).length>0){if(sql!=""){sql+=",";}value=myToSqlValue(myGetValue(d));type=a[b].type;if(type=="n"&&(value==""||isNaN(value))){value="0";}if(type=="m"){if(value==""){sql+=d+"=''";}else{sql+=d+"=replace('"+value+"',char(10),'')";}}else{if(value=="@sysdate"){sql+=d+"=getdate()";}else{sql+=d+"='"+value+"'";}}}sql="update "+tablename+" set "+sql+" where "+keyfield+"='"+myToSqlValue(myGetValue(keyfield))+"'";}return(sql);}function myKeyDownEvent(l){if(l==undefined&&l==""){return;}var j=[];var d=0;var g="";var b="";var e="";if(l!=undefined&&l!=""){j=l.split(";");}else{$("input").each(function(c){j[d]=$(this).attr("id");d++;});}var h="";for(d=0;d<j.length;d++){if(j[d]!=undefined&&j[d]!=""&&$("#"+j[d]).length>0){var a=$("#"+j[d]);g=a.attr("type");if(g==undefined){g=a.attr("xtype");}e=a.attr("hidden");if(a!=undefined&&e!="hidden"&&sys.keyeventcmp.indexOf(";"+g+";")>=0){if(a.attr("xreadonly")==undefined){a.attr("xreadonly",1);}myBindKeyDownEvent(j[d]);a.attr("xkeydown",1);if(h==""&&a.attr("xreadonly")==1){myFocus(j[d]);h=j[d];}}}}}function myBindKeyDownEvent(c){var a=$("#"+c).attr("type");if(a==undefined){a=$("#"+c).attr("xtype");}var b=$("#"+c);if(b.length>0&&a!="checkbox"&&a!="textarea"&&a!="button"&&a!="file"){$("#"+c).textbox("textbox").bind("keydown",function(l){var j=l.which;var m=[];var r=[];var h=0;if(j==13||j==40||j==38){var d=-1;$("input").each(function(u){var t=$(this);var y=t.attr("id");var x=t.attr("hidden");var e=t.attr("xkeydown");var v=t.attr("type");if(v==undefined){v=t.attr("xtype");}if(y!=undefined&&e!=undefined&&e==1&&x!="hidden"){if(c==y){d=h;}m[h]=y;r[h]=v;h++;}});if(d<m.length&&d>=0){var q=0;if(j==13||j==40){if(d<=h){q=d+1;}else{q=h;}}else{if(j==38){if(d>0){q=d-1;}else{q=0;}}}var g=m[q];var r=r[q];if(r=="textarea"){$("#"+g).focus();}else{$("#"+g).next("span").find("input").focus();}}}});}}function myDisableCmp(b,a){var d=b.split(";");for(var c=0;c<d.length;c++){var e=$("#"+d[c]);if(e.length>0){var g=e.attr("class");if(g.indexOf("linkbutton")>=0){if(a){e.linkbutton("disable");}else{e.linkbutton("enable");}}else{if(g.indexOf("menubutton")>=0||g.indexOf("menu-item")>=0){if(a){e.menubutton({"disabled":true,hasDownArrow:false});}else{e.menubutton({"disabled":false,hasDownArrow:false});}}else{document.getElementById(d[c]).disabled=a;}}}}}function myFocus(a){if(a==""){return;}fielddim=a.split(";");for(var b=0;b<fielddim.length;b++){var c=$("#"+fielddim[b]);if(c.length>0&&c.attr("xreset")!=0&&(c.attr("xreadonly")==0||c.attr("xreadonly")==undefined)){var d=c.attr("type");if(d==undefined){d=c.attr("xtype");}if(d=="textarea"){c.focus();}else{c.next("span").find("input").focus();}break;}}}function mySelectOnFocus(){$("input").on("focus",function(){var a=$(this).one("mouseup.mouseupSelect",function(){a.select();return false;}).one("mousedown",function(){a.off("mouseup.mouseupSelect");}).select();});}function myExportExcelReport(pmyReport1){pmyReport1.headercells=pmyReport1.headercells.replace(eval("/"+"%"+"/g"),"％");pmyReport1.footercells=pmyReport1.footercells.replace(eval("/"+"%"+"/g"),"％");var filename="";$.ajax({url:"system//easyui_toExcelFile.jsp?headercells="+pmyReport1.headercells+"&footercells="+pmyReport1.footercells,data:{template:pmyReport1.template,selectsql:myToXcode(pmyReport1.sql),fields:pmyReport1.fields,headerrange:pmyReport1.headerrange,regionrange:pmyReport1.regionrange},async:false,method:"post",success:function(data){eval("var result="+data);filename=result[0].filename;}});var url="system//easyui_fileDownLoad.jsp?source="+filename+"&target="+pmyReport1.targetfilename;window.location.href=url;return(url);}function myGenNewID(a){}function myGetIPAddress(){var source=[];$.ajax({url:"system/easyui_getIPAddress.jsp",async:false,method:"post",success:function(data){eval("source="+data);}});return source;}function myGetSqlParamValues(d){var b="";if(d!=undefined){var c=d.split(";");for(var a=0;a<c.length;a++){if(a>0){b+="	";}b+=myGetValue(c[a]);}}return b;}function myRunSqlFunction(func,valuelist){var source=[];$.ajax({type:"Post",url:"system/easyui_runSqlFunction.jsp",data:{sqlfunction:func,paramvalues:myGetSqlParamValues(params)},async:false,method:"post",success:function(data){eval("source="+data+";");}});return source;}function myRunSqlProcedure(proc,valuelist){var source=[];$.ajax({type:"Post",url:"system/easyui_runSqlProcedure.jsp",data:{sqlprocedure:proc,paramvalues:valuelist},async:false,method:"post",success:function(data){eval("source="+data+";");},failure:function(data){console.log(data,error);}});return source;}function myRunSqlByXmlNode(nodeindex,valuelist){source=[];$.ajax({type:"Post",url:"system/easyui_runSqlByXmlNode.jsp",data:{nodeindex:nodeindex,paramvalues:valuelist},async:false,method:"post",success:function(data){eval("source="+data+";");}});return source;}function myRunSelectCases(casetype,params){if(params==undefined){params="";}source=[];$.ajax({type:"Post",url:"system/easyui_runSelectCases.jsp",data:{casetype:casetype,params:params},async:false,method:"post",success:function(data){eval("source="+data+";");}});return source;}function myOfficeToPdf(c,d){var b=myToXcode(c);var a=myToXcode(d);result={};$.ajax({type:"Post",url:"system/easyui_office2pdf.jsp",data:{sourcefile:b,targetfile:a},async:false,method:"post",success:function(e){result=""+e.trim();}});return(result);}function mySetXmlVarValue(a){}function myDoFiles(action,filenames,filetitle,targetfile){var source={};$.ajax({url:sys.path+"/doFiles",type:"post",dataType:"text",async:false,data:{action:action,filenames:filenames,filetitle:filetitle,targetfile:targetfile},success:function(data){eval("source="+data);}});}function xmyDoFiles(d,b,c,e){var b=myToXcode(b);var c=myToXcode(c);var e=myToXcode(e);var a="";$.ajax({type:"Post",url:"system/easyui_doFiles.jsp",data:{action:d,filename:b,filetitle:c,targetfile:e},async:false,method:"post",success:function(g){a=""+g.trim();}});return(a);}function mySendEmail(e,j,l,h,a,g){var v=myToXcode(e);var t=myToXcode(j);var q=myToXcode(l);var m=myToXcode(h);var u="";var r="";var c=a.split("	");var b=g.split("	");for(var d=0;d<c.length;d++){if(d>0){u+="	";r+="	";}u+=myToXcode(c[d]);r+=myToXcode(b[d]);}result={};$.ajax({type:"Post",url:"system/easyui_sendemail.jsp",data:{sender:v,receiver:t,subject:q,content:m,filename:u,filedesc:r},async:false,method:"post",success:function(x){result=""+x.trim();}});return(result);}function myDownLoadZipFiles(c,d,a){var g=encodeURI(encodeURI(c));var b=encodeURI(encodeURI(d));var e=encodeURI(encodeURI(a));window.location.href="system/easyui_zipFiles.jsp?fileName="+g+"&fileUrlList="+b+"&fileNameList="+e;}function myGetCmpPos(a){o=document.getElementById(a);oTop=o.offsetTop;while(o.offsetParent!=null){oParent=o.offsetParent;oTop+=oParent.offsetTop;o=oParent;}return oTop;}function myRotate(c,a){var b=$("#"+c).attr("xrotate")*1+a*1;if(b>360){b=b-360;}$("#"+c).rotate(b);$("#"+c).attr("xrotate",b);}function mySelectFromTable(tableindex,fieldlist,valuelist){results=[];$.ajax({type:"Post",url:"system/easyui_runSelectFromTable.jsp",data:{table:tableindex,fieldlist:fieldlist,valuelist:valuelist},async:false,method:"post",success:function(data){eval("results="+data);}});return result;}function myRunDeleteSql(table,filtersql,keyvalue){result={};$.ajax({type:"Post",url:"system/easyui_runDeleteSql.jsp",data:{table:table,keyvalue:keyvalue,filtersql:filtersql},async:false,method:"post",success:function(data){eval("result="+data);}});return result;}function myFormValueSet(b){var a="";var d=[];if(b==undefined||b==""){k=0;$("input, select, textarea").each(function(l){var j=$(this);if(j.attr("id")!=undefined&&j.attr("xid")!=undefined&&j.attr("xid")!=""){d[k]=j.attr("id");k++;}});}else{d=b.split(";");}for(var c=0;c<d.length;c++){var h=d[c];var e=$("#"+h).attr("xdatatype");var g=myToSqlValue(myGetValue(h));if(c>0){a+=",";}a+='"'+h+'":';if(e=="n"&&(g==""||isNaN(g))){g="0";}else{if(e=="mxxxx"){if(g==""){a+='""';}else{a+="\"replace('"+g+"',char(10),'')\"";}}else{if(g=="@sysdate"){a+='"getdate()"';}else{a+='"'+g+'"';}}}}return"[{"+a+"}]";}function myRunUpdateSql(nodeindex,data,action){result={};$.ajax({type:"Post",url:"system/easyui_runUpdateSql.jsp",data:{nodeindex:nodeindex,dataset:data,action:action},async:false,method:"post",success:function(data){eval("result="+data);}});return result;}function myGetValuebyId(c){var a=$("#"+c);var b=a.attr("xfield");}function myGetValue(id){if(id==undefined){return"";}var value="";var input=$("#"+id);if(id!=""&id.substr(0,4)=="sys."){if(id=="sys.datetime"){value="getdate()";}else{if(id=="sys.timestamp"){value=myLocalTime().timestamp;}else{if(id=="sys.dateid"){value=myLocalTime().dateid;}else{if(id=="sys.timeid"){value=myLocalTime().timeid;}else{value=eval(id);}}}}}else{if(input.length>0){var type=input.attr("type");if(type==undefined||type==""){type=input.attr("xtype");}var hidden=input.attr("hidden");var parent=input.attr("xparent");var datatype=input.attr("xdatatype");if(datatype==undefined){datatype="";}var flag=1;if(hidden=="hidden"){if(input.attr("xfixedvalueflag")==1){value=input.attr("xfixedvalue");}else{value=input.val();}}else{if(type=="text"&&hidden!="hidden"){value=input.textbox("getValue");if(datatype=="n"&&(value==""||isNaN(value))){value="0";}}else{if(type=="combo"||type=="combobox"){if(input.attr("xcheckbox")=="true"){value=input.combobox("getValues");}else{value=input.combobox("getValue");}}else{if(type=="checkbox"){if(input.is(":checked")){value=1;}else{value=0;}}else{if(type=="radio"){value=$("input[id='"+id+"']:checked").val();}else{if(type=="checkboxgroup"){var count=input.attr("xitemcount");var value="";for(var i=0;i<count;i++){if(i==1&&count==1){var itemid=id;}else{var itemid=id+(i+1);}if($("#"+itemid).is(":checked")){value+=";"+$("#"+itemid).attr("xtext");}}value=value.substr(1);}else{if(type=="label"||type=="labelfield"){value=input.html();}else{if(type=="keditor"){str="value=window."+id+".html()";eval(str);}else{if(type=="image"){value=input.attr("src");}else{if(type=="file"||type=="filefield"){value=input.attr("xfileosname");}else{value=input.val();}}}}}}}}}}}}value=""+value;if(value==""){value=" ";}return trim(""+value);}function mySetValue(id,value){var input=$("#"+id);if(input.length>0){value=value+"";if(value!=""){value=value.replaceAll("<br>","\n");}var type=input.attr("type");if(type==undefined||type==""){var type=input.attr("xtype");}var datatype=input.attr("xdatatype");if(datatype==undefined){datatype="";}var hidden=input.attr("hidden");var parent=input.attr("xparent");if(hidden=="hidden"){if(input.attr("xfixedvalueflag")==1){input.val(input.attr("xfixedvalue"));}else{input.val(value);}}else{if(type=="text"&&hidden!="hidden"){if(datatype=="n"&&(value==""||isNaN(value))){value="0";}input.textbox("setValue",value);}else{if(type=="combobox"||type=="combo"){if(input.attr("xreset")==0){return;}if(input.attr("xcheckbox")=="true"){source=input.combobox("getData");opts=input.combobox("options");input=$("#"+id);value=";"+value+";";for(i=1;i<=source.length;i++){cid=id+"_checkbox"+i;item=eval("source[i-1]."+opts.valueField);if(value.indexOf(";"+item+";")>=0){input.combobox("select",item);$("#"+cid).prop("checked",true);}else{input.combobox("unselect",item);$("#"+cid).prop("checked",false);}}}else{if(input.attr("xismasterfield")=="true"){input.combobox("select",value);}else{input.combobox("setValue",value);}}}else{if(type=="checkbox"){var checked=true;if(value==0){checked=false;}$("#"+id).prop("checked",checked);}else{if(type=="radio"){$("input[id='"+id+"'][value='"+value+"']").attr("checked",true);}else{if(type=="checkboxgroup"){var count=input.attr("xitemcount");for(var i=0;i<count;i++){var checked=false;var item=$("#"+id+(i+1));if((";"+value+";").indexOf(";"+item.attr("xtext")+";")>=0){var checked=true;}else{var checked=false;}item.prop("checked",checked);}}else{if(type=="label"||type=="labelfield"){w=input.attr("xwidth");if(w==undefined||w<=0){w=myGetWidthOfText(value,syslabel.fontsize,syslabel.fontname)+14;}input.css({width:w});var style=";"+input.attr("xstyle")+";";if(style.indexOf(";u;")>=0&&value!=""){value=value+"&nbsp;";}input.html(value);}else{if(type=="file"){input.attr("xfilesourcename","");input.attr("xfileosname","");input.attr("xtargetfile","");input.attr("xfilesize",0);input.attr("xfilesizedesc","");input.attr("xtargetpath","");input.attr("xfileext","");}else{if(type=="keditor"){str="window."+id+".html(value);";eval(str);}else{if(type=="image"){input.attr("src",value);input.attr("xfileosname",value);myResizeImage(id,value,input.attr("xheight"),input.attr("xwidth"));}else{input.val(value);}}}}}}}}}}}}function myGetAttachmentData(a){return(myRunSelectCases("attachment",a));}function myDeleteAttachmentRows(a){return(myDeleteAttachments(a,"row"));}function myDeleteAttachmentFiles(a){return(myDeleteAttachments(a,"file"));}function myDeleteAttachments(xvaluelist,xaction){filetaglist="";result={};$.ajax({type:"Post",url:"system/easyui_attachmentsDelete.jsp",data:{valuelist:xvaluelist,action:xaction},async:false,method:"post",success:function(data){eval("result="+data);}});return result;}function myRunInsertCases(casetype,valuelist){result={};$.ajax({type:"Post",url:"system/easyui_runInsertCases.jsp",data:{casetype:casetype,valuelist:valuelist},async:false,method:"post",success:function(data){eval("result="+data);}});return result;}function myDeleteRows(xnodeindex,xvaluelist){result={};$.ajax({type:"Post",url:"system/easyui_deleteRows.jsp",data:{nodeindex:xnodeindex,valuelist:xvaluelist},async:false,method:"post",success:function(data){result=eval("result="+data);}});return result;}function byteLength(e){var b=0;for(var d=0;d<e.length;d++){var c=e.charAt(d);if(c.match(/[^\x00-\xff]/ig)!=null){b+=2;}else{b+=1;}}return b;}function byteSubstr(g,j,c){var h=0;var b="";for(var e=j;e<g.length&&h<c;e++){var d=g.charAt(e);if(d.match(/[^\x00-\xff]/ig)!=null){h+=2;}else{h++;}b+=d;}return b;}function myInputFieldValidation(a){result={};errormsg=[];errorid="";for(i=0;i<a.length;i++){var c=";"+a[i].style+";";var b=(a[i].label).replaceAll(":","").replaceAll("：","");if(c.indexOf(";required;")>=0){if(myGetValue(a[i].id)==""){errormsg.push(b+"不能为空！");if(errorid==""){errorid=a[i].id;}}}if(c.indexOf(";email;")>=0){if(!$("#"+a[i].id).textbox("isValid")){errormsg.push("电子邮箱格式错误！");if(errorid==""){errorid=a[i].id;}}}if(c.indexOf(";url;")>=0){if(!$("#"+a[i].id).textbox("isValid")){errormsg.push("网址格式错误！");if(errorid==""){errorid=a[i].id;}}}if(a[i].type=="filefield"){if($("#"+a[i].id).val()){errormsg.push("请上传文件后再保存数据！");if(errorid==""){errorid=a[i].id;}}}}result.error=errormsg;result.fieldid=errorid;return result;}function myXmlReader(xmlfile){pservice={};pservice.xmldata=[];t1=myLocalTime().timeid;$.ajax({type:"Post",url:"system/easyui_xmlreader.jsp",data:{xmlfile:xmlfile},async:false,method:"post",error:function(err){console.log(err);},success:function(data){pservice.xmldata=eval(data);}});return pservice;}function myGetFieldID(a){result="";if($("#"+a).length>0){if($("#"+a).attr("xfield")!=undefined){result=$("#"+a).attr("xfield");}}return result;}function mySetXmlParams(c){var a="",b="";while(true){x1=c.indexOf("{");x2=c.indexOf("}",x1);if(x1>=0&&x2>1){tmp=c.substring(x1+1,x2).trim();if(tmp!=""){value=myGetValue(tmp);}else{value="";}c=c.substring(0,x1)+value+c.substring(x2+1);if(b!=""){b+=";";}b+=tmp;}else{break;}}a={"text":c,"params":b};return a;}function myReplaceXmlParams(str){var result="",s="",stmt="",tmp="";var n=1;while(true){x1=str.indexOf("{");x2=str.indexOf("}",x1);if(x1>=0&&x2>1){tmp=str.substring(x1+1,x2).trim();tmp1="_sysparam"+n;str=str.substring(0,x1)+tmp1+str.substring(x2+1);if(eval(tmp)!=undefined){var type=typeof(eval(tmp));if(type=="object"){if($("#"+tmp).length>0){stmt+="var "+tmp1+"='"+myGetValue(tmp)+"';\n";}else{stmt+="var "+tmp1+"="+tmp+";\n";}}else{stmt+="var "+tmp1+"='"+eval(tmp)+"';\n";}}else{stmt+=stmt+="var "+tmp1+"=undefined;\n";}n++;if(s!=""){s+=";";}s+=tmp1;}else{break;}}result={"text":str,"params":s,"stmt":stmt};return result;}function myOnSelectAttachmentQueryTab(a,b,c){var e=$("#"+a).tabs("getTab",b);var d=$("#"+a).attr("xparent");var g=1*$("#"+a).attr("xfixedtabcount");if(b<g){myDownLoadAttachment(c);$("#"+a).css({overflow:"hidden",position:"relative"});$("#"+d).css({overflow:"hidden",position:"relative"});if($("#myimagebar").length>0){document.getElementById("myimagebar").style.display="none";}}else{if($("#myimagebar").length>0){if(e.attr("xchildtype")=="image"){document.getElementById("myimagebar").style.display="";}else{document.getElementById("myimagebar").style.display="none";}}$("#"+a).css({overflow:"hidden"});$("#"+a).css({overflow:"hidden",position:"relative"});myRemoveLayoutPanel(c.layout,c.position);}}function myGetJsonData(source){var obj={};$.each(source,function(id,value){var type=typeof(value);if(type!="object"){if(type=="string"&&value!=""){value=value.replace(/\"/g,'"');value=value.replaceAll("	"," ");}eval("obj."+id+"=value");}});return obj;}function myReadXMLNode(xmlfile,id){var url=sys.path+"/XMLNodeReader";var source=[];$.ajax({type:"post",url:url,dataType:"text",async:false,data:{xmlfilename:xmlfile,nodeid:id},success:function(data){eval("source="+data);},error:function(e){console.log(e);console.log("数据库操作出现错误，请稍后再试！");}});return source;}function myReadXmlNodes(xmlfile){var source=[];$.ajax({url:sys.path+"/XMLFileReader",type:"post",dataType:"text",async:false,data:{xmlfilename:xmlfile},success:function(data){eval("source="+data);}});pservice={};pservice.forms=[];pservice.tabs=[];pservice.fieldset=[];for(i=0;i<source.length;i++){node=source[i];type=node.nodetype;if(type=="service"){pservice.master=node;}else{if(type=="table"){pservice=extend(node,pservice);}else{if(type=="form"){pservice.forms.push(source[i]);}else{if(type=="tab"||type=="tabs"){pservice.tabs.push(source[i]);}else{if(type=="fieldset"){pservice.fieldset.push(source[i]);}}}}}}for(i=0;i<pservice.forms.length;i++){myForm(pservice.forms[i]);}for(i=0;i<pservice.tabs.length;i++){myTabs(pservice.tabs[i]);}for(i=0;i<pservice.fieldset.length;i++){myFieldset(pservice.fieldset[i]);}pservice.formfields="";for(i=0;i<source.length;i++){node=source[i];type=node.nodetype;if(type=="hiddenfield"){source[i].parent="body";myHiddenFieldst(node.id);}else{if(type=="textfield"){myTextField(node);pservice.keydownfields+=";"+node.id;}else{if(type=="datefield"){myDateField(node);pservice.keydownfields+=";"+node.id;}else{if(type=="numberfield"){myNumberField(node);pservice.keydownfields+=";"+node.id;}else{if(type=="spinnerfield"){mySpinnerField(node);}else{if(type=="editorfield"){myEditorField(node);}else{if(type=="imagefield"){myImageField(node);}else{if(type=="combofield"){myComboField(node);pservice.keydownfields+=";"+node.id;}else{if(type=="dbcombofield"){myDBComboField(node);pservice.keydownfields+=";"+node.id;}else{if(type=="checkboxfield"){myCheckBoxField(node);}else{if(type=="timefield"){myTimeField(node);pservice.keydownfields+=";"+node.id;}else{if(type=="searchfield"){mySearchField(node);pservice.keydownfields+=";"+node.id;}else{if(type=="labelfield"){myLabelField(node);}else{if(type=="label"){myLabel(node);}else{if(type=="filefield"){myFileField(node);}else{if(type=="line"){myLine(node);}}}}}}}}}}}}}}}}if(type.substr(type.length-5,5)=="field"){pservice.formfields+=";"+node.id;}if($("#"+node.parent).length>0){c1=$("#"+node.parent);c2=$("#"+node.id);if(c1.attr("yheight")==undefined){c1.attr("yheight",1*c2.attr("xtop")+1*c2.attr("xheight")+2);}else{c1.attr("yheight",Math.max(c1.attr("yheight"),1*c2.attr("xtop")+1*c2.attr("xheight")+2));}if(c1.attr("ywidth")==undefined){c1.attr("ywidth",1*c2.attr("xleft")+1*c2.attr("xwidth")+2);}else{c1.attr("ywidth",Math.max(c1.attr("ywidth"),1*c2.attr("xleft")+1*c2.attr("xwidth")+2));}}}return pservice;}function myUpdateTable(xmlfile,action,paramvalues){var source=[];$.ajax({url:sys.path+"/UpdateTable",type:"post",dataType:"text",async:false,data:{xmlfilename:xmlfile,action:nodeid,paramvalues:paramvalues},success:function(data){eval("source="+data);}});return(source);}function myRunXMLEvent(xmlfile,nodeid,paramvalues){var source=[];$.ajax({url:sys.path+"/XMLEventLoader",type:"post",dataType:"text",async:false,data:{xmlfilename:xmlfile,nodeid:nodeid,paramvalues:JSON.stringify(paramvalues)},success:function(data){eval("source="+data);}});return(source);}function myLoadComboData(xmlfile,id,paramvalues){if(paramvalues==undefined){paramvalues={};}var source=[];$.ajax({url:sys.path+"/GridDataLoader",type:"post",dataType:"text",async:false,data:{xmlfilename:xmlfile,nodeid:id,paramvalues:JSON.stringify(paramvalues)},success:function(data){eval("rs="+data);source=rs.rows;$("#"+id).combobox({data:source});xvalue=$("#"+id).attr("xvalue");if(source!=undefined&&source.length>0){if(source.length<=12){$("#"+id).combobox({panelHeight:"auto"});}else{$("#"+id).combobox({panelHeight:12*(syslabel.fontsize+8)});}if(xvalue!=undefined&&xvalue!=""){$("#"+id).combobox("select",xvalue);}else{$("#"+id).combobox("select",eval("source[0]."+id));}}},error:function(e){console.log(e);console.log("数据库操作出现错误，请稍后再试！");}});return source;}$.extend($.fn.linkbutton.methods,{enable:function(a){return a.each(function(){var d=$.data(this,"linkbutton");if($(this).hasClass("l-btn-disabled")){var b=d._eventsStore;if(b.href){$(this).attr("href",b.href);}if(b.onclicks){for(var c=0;c<b.onclicks.length;c++){$(this).bind("click",b.onclicks[c]);}}b.target=null;b.onclicks=[];$(this).removeClass("l-btn-disabled");}});},disable:function(a){return a.each(function(){var j=$.data(this,"linkbutton");if(!j._eventsStore){j._eventsStore={};}if(!$(this).hasClass("l-btn-disabled")){var g={};g.target=this;g.onclicks=[];var d=$(this).attr("href");if(d){g.href=d;$(this).attr("href","javascript:void(0)");}var h=$(this).attr("onclick");if(h&&h!=""){g.onclicks[g.onclicks.length]=new Function(h);$(this).attr("onclick","");}var b=$(this).data("events")||$._data(this,"events");if(b["click"]){var e=b["click"];for(var c=0;c<e.length;c++){if(e[c].namespace!="menu"){g.onclicks[g.onclicks.length]=e[c]["handler"];$(this).unbind("click",e[c]["handler"]);c--;}}}j._eventsStore=g;$(this).addClass("l-btn-disabled");}});}});$.fn.treegrid.defaults.loadFilter=function(c,d){var b=$.data(this,"treegrid").options;if(!b.columns){var a=$.data(this,"datagrid").options;b.columns=a.columns;b.frozenColumns=a.columns;}return c;};$.extend($.fn.tree.methods,{getLeafChildren:function(c,b){var a=[];$(b).next().children().children("div.tree-node").each(function(){a.push($(c[0]).tree("getNode",this));});return a;},removeAll:function(a){return a.each(function(){var b=$(this).tree("getRoots");for(var c=b.length-1;c>=0;c--){$(this).tree("remove",b[c].target);}});}});$.extend($.fn.textbox.methods,{setBorder:function(c,a){var b=$("#easyui-textbox-border");if(!b.length){$("head").append('<style id="easyui-textbox-border">'+".textbox-noborder{border-color:transparent;border-radius:0}"+"</style>");}return c.each(function(){var d=$(this).next();if(a){d.removeClass("textbox-noborder");}else{d.addClass("textbox-noborder");}});}});$.fn.getCursorPosition=function(){var b=this.get(0);if(!b){return;}if("selectionStart" in b){return b.selectionStart;}else{if(document.selection){b.focus();var c=document.selection.createRange();var a=document.selection.createRange().text.length;c.moveStart("character",-b.value.length);return c.text.length-a;}}};