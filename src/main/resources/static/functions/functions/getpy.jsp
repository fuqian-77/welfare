<%--<%@ page language="java" import="java.util.*"  import="java.sql.*,com.DBConn" pageEncoding="utf-8"%>--%>
<%--<%@page import="com.StringUtil"%>--%>
<%--<%--%>
	<%--//从前台获取数据，使用params传递--%>
	<%--String chnname=StringUtil.filterNull(request.getParameter("chn"));--%>
	<%--//获取数据库连接--%>
	<%--DBConn  con = new DBConn();--%>
	<%--Connection connection = con.getConnection("myFoods");--%>
	<%--//调用存储过程，有几个变量就写几个问号--%>
	<%--CallableStatement stmt=connection.prepareCall("{call sys_py(?,?)}"); --%>
    <%--//设置输入参数     --%>
	<%--stmt.setString("@chn",chnname);  //setDate, setINT..--%>
  	<%--//登记输出参数--%>
	<%--stmt.registerOutParameter("@py",java.sql.Types.VARCHAR);    //Types.FLOAT,Types.INTEGER--%>
	<%--//执行该存储过程并返回结果集     --%>
	<%--stmt.execute();--%>
	<%--//获取来自结果集中的数据     --%>
	<%--String str=stmt.getString("@py");  --%>
	<%--System.out.println("str="+str);   --%>
	<%--//关闭可调用的对象     --%>
	<%--stmt.close();     --%>
	<%--connection.close();--%>
	<%--response.getWriter().write("{success:true,data:'"+str+"'}");--%>
<%--%>--%>
