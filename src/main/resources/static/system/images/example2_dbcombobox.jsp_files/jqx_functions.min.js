pxmlfile="xml//resource.xml";sysdbname="embase";sysuserid=1;sysusaccount="admin";sysusername="admin";syspassword="";syshostname="localhost";syssqlpassword="sql2008";syslogindate=new Date();sysunittitle="";sysdatabasestring=syshostname+"	"+syssqlpassword+"	"+sysdbname;sysuserright="";syschrtab=String.fromCharCode(9);rowHeight=32;colWidth=8;sysfontwidth=12;syspath={};sys={};pmyWidth={};sys.browser=myCheckBrowser();sysdateformat="Y-n-j";sysfulldateformat="Y-m-d";if(sys.browser=="firefox"){sysdateformat="Y-m-d";}else{if(sys.browser=="ie"){sysdateformat="Y/m/d";}}syslabel={};systext={};syslabel.fontname="宋体";syslabel.topmargin=4;syslabel.align="left";syslabel.fontsize=13;syslabel.fontbold=false;systext.fontname="Times New roman";systext.height=22;systext.rowheight=33;sys.windowcon="movie.png";sys.theme={theme:"bootstrap"};sys.tab=String.fromCharCode(9);sys.ftab="["+String.fromCharCode(9)+"]";sys.vtab="["+String.fromCharCode(9)+"]";sys.sqltab="@"+String.fromCharCode(9)+"@";sys.gridcellpix=6;sys.treemenuwidth=190;sys.urlpath="";sys.project="";url=window.location.pathname;arrUrl=url.split("/");if(arrUrl.length>1){sys.project=arrUrl[1];}sys.realpath="";sys.path=url;sys.userid=1;sys.useraccount="admin",sys.username="admin";sys.userright="";sys.urlright="";sys.menuurl="";sys.buttonright="";sys.screenwidth=window.screen.width;sys.screenheight=window.screen.height;sys.windowheight=sysGetWinHeight();sys.windowwidth=sysGetWinWidth();sys.menubutton=["addflag","updateflag","deleteflag","reviewflag","uploadflag","downloadflag","printflag"];sys.chnnumber=["一","二","三","四","五","六","七","八","九","十"];sys.cmp=["textfield","combo","combofield","label","labelfield","readonlyfield","displayfield","linkfield","textpicker","gridpicker","treepicker","editbutton","checkbox","memofield","memo","sysuser","sysdate","sysusername","sysnumber","fileupload","filedownload","filefield","imageupload","datefield","password","numberfield","decimalfield","rmb","rmbfield","totalfields","summaryfields","spinfield","report","footer","groupbox","tab","form"];sys.xattrs=["title","text","label","length","value","blanktext","minvalue","maxvalue","filename","datafields","nodefields","filterfields","sortfield","style","rmb","sumfields","avgfields","countfields","maxfields","minfields","summarycolumn","keyfield","lockedfields","decimal","sql","items","valuefields","labelwidth","masterfield","url","font","rule","rowheight","checkbox","modal","align","table","documentdate","reviewfields","format","titlerows","titlefont"];sys.editableColumnfields="/textfield/datefield/decimalfield/numberfield/combo/combofield/editbutton/";syspath.master="mybase//";syspath.teachers="mybase//photos//teachers//";syspath.students="mybase//photos//students//";syspath.labs="mybase//labs//";syspath.contacts="mybase//contacts//";syspath.employees="mybase//employees//";syspath.products="mybase//products//";syspath.activities="mybase//activities//";syspath.services="mybase//services//";syspath.customers="mybase//customers//";syspath.collections="mybase//collections//";syspath.orders="mybase//orders//";syspath.faqs="mybase//faqs//";syspath.troubles="mybase//troubles//";syspath.invoices="mybase//invoices//";syspath.resources="mybase//resources//";sysfilenotfound="system//images//filenotfound.png";prowppx=26;pcolppx=7;pgridrowheight=21;pwinheight=600;pwinwidth=800;pitemsPerPage=20;maxReturnNumber=20;function myCheckBrowser(){var b=navigator.userAgent.toLowerCase();var a=navigator.userAgent;if(b.indexOf("msie")>=0&&b.indexOf("opera")<0){a="ie";}else{if(b.indexOf("firefox")>=0){a="firefox";}else{if(b.indexOf("opera")>=0){a="opera";}else{if(b.indexOf("chrome")>=0){a="chrome";}else{if(b.indexOf("safari")>=0){a="safari";}}}}}return(a);}function sysGetWinWidth(){var a=0;if(window.innerWidth){a=window.innerWidth;}else{if((document.body)&&(document.body.clientWidth)){a=document.body.clientWidth;}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){a=document.documentElement.clientWidth;}return(a);}function sysGetWinHeight(){var a=0;if(window.innerHeight){a=window.innerHeight;}else{if((document.body)&&(document.body.clientHeight)){a=document.body.clientHeight;}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){a=document.documentElement.clientHeight;}return(a);}function myDefineLabelStyle(d,c,a,b){var e="";if(d!=undefined&&c!=undefined){e+='style=\\"';if(syslabel.fontbold){e+="font-weight:bold; ";}e+="font-size: "+syslabel.fontsize+"px; font-family: "+syslabel.fontname+"; TOP: "+d+"px; LEFT: "+c+"px; ";if(a!=undefined&&a>0){e+=" HEIGHT: "+a+"px;";}if(b!=undefined&&b>0){e+=" WIDTH: "+b+"px;";}e+=" POSITION: absolute";}return e;}function mySetLabelCss(d,c,a,b){var e='({position: "absolute"';if(syslabel.fontbold){e+=", font-weight:bold";}e+=', "font-size":'+syslabel.fontsize+', "font-family":"'+syslabel.fontname+'"';if(d!=undefined&&c!=undefined){e+=', "top":'+d+', "left":'+c;if(b!=undefined&&b>0){e+=', "width": '+b;}if(a!=undefined&&a>0){e+=', "height": '+a;}e+=', "z-index":2});\n';}else{e+="\n";}return e;}function mySetTextCss(d,c,a,b){var e="";if(d!=undefined&&c!=undefined){e='({position: "absolute","top":'+d+',"left":'+c;if(b!=undefined&&b>0){e+=', "width": '+b;}if(a!=undefined&&a>0){e+=', "height": '+a;}e+=', "z-index":2});\n';}else{e+="\n";}return e;}function myLabelCss(top,left,height,width){var css="";var str='var css={position: "absolute"';if(syslabel.fontbold){str+=", font-weight:bold";}str+=', "font-size":'+syslabel.fontsize+', "font-family":"'+syslabel.fontname+'"';if(top!=undefined&&left!=undefined){str+=', "top":'+top+', "left":'+left;if(width!=undefined&&width>0){str+=', "width": '+width;}if(height!=undefined&&height>0){str+=', "height": '+height;}str+=', "z-index":2};\n';}else{str+="};\n";}eval(str);return css;}function myTextCss(top,left,height,width){var str="";var css="";if(top!=undefined&&left!=undefined){str='var css={position: "absolute",top:'+top+",left:"+left;if(width!=undefined&&width>0){str+=", width: "+width;}if(height!=undefined&&height>0){str+=", height: "+height;}str+=', "z-index":2};\n';}else{str+="\n";}eval(str);return css;}function myFieldLabel(f,c,a,b,e,d){if(a!=undefined&&a!=""){$("#"+c).append("<label id='label"+f+"' align='"+syslabel.align+"'>"+a+"</label>");if(b>0){$("#label"+f).css(myLabelCss(e+syslabel.topmargin,d,0,b));}else{$("#label"+f).css(myLabelCss(e,1*d+2,0,a.length*syslabel.fontsize));e=1*(e+syslabel.fontsize+syslabel.topmargin);}}else{b=0;}}function myLabelField(g,d,b,f,e,a,c){if(d==""){d="document.body";}if(c!=undefined&&c>0){$("#"+d).append("<label id='label"+g+"' align='left'>"+b+"</label>");$("#label"+g).css(myLabelCss(f,e,0,c));}else{$("#"+d).append("<label id='label"+g+"' align='"+syslabel.align+"'>"+b+"</label>");$("#label"+g).css(myLabelCss(f,e,0,b.length*syslabel.fontsize+2));}}function myTextField(a,h,f,i,e,c,j,b,g){var d="";if(h==""){h="document.body";}if(j==0){j=systext.height;}myFieldLabel(a,h,f,i,e,c);$("#"+h).append("<div id='"+a+"_div'><input type='text' id='"+a+"' /></div>");$("#"+a+"_div").css(myTextCss(e,1*(c+i),j,b));$("#"+a).jqxInput({height:j});$("#"+a).jqxInput({width:b});$("#"+a).jqxInput(sys.theme);if(g!=undefined&&g!=""){$("#"+a).val(g);}}function myDateField(a,h,f,i,e,c,j,b,g){var d="";if(h==""){h="document.body";}if(j==0){j=systext.height;}myFieldLabel(a,h,f,i,e,c);$("#"+h).append("<div style='padding-left: 4px;' id='"+a+"'></div>");$("#"+a).css(myTextCss(e,1*(c+i),j,b));$.getScript("jqwidgets/scripts/globalization/globalize.culture.ja-JP.js",function(){$("#"+a).jqxDateTimeInput({animationType:"none",culture:"ja-JP",formatString:"D",width:b,height:j});});$("#"+a).jqxDateTimeInput({width:b,height:j});$("#"+a).jqxDateTimeInput(sys.theme);if(g!=undefined&&g!=""){$("#"+a).val(g);}}function myDecimalField(a,l,j,m,i,d,n,b,c,f,k,e,h){var g="";if(l==""){l="document.body";}if(n==0){n=systext.height;}myFieldLabel(a,l,j,m,i,d);$("#"+l).append("<div style='padding-right: 4px;' id='"+a+"' /></div>");$("#"+a).css(myTextCss(i,1*(d+m),n,b));$("#"+a).jqxNumberInput({width:b,height:n,inputMode:"simple",spinButtons:false});if(f!=undefined&&f>=0){$("#"+a).jqxNumberInput({decimalDigits:f});}if(c!=undefined&&c>0){if(f>0){$("#"+a).jqxNumberInput({digits:1*(c-f-1)});}else{$("#"+a).jqxNumberInput({digits:+c});}}if(e!=undefined){$("#"+a).jqxNumberInput({min:+e});}if(k!=undefined&&k!=""){$("#"+a).val(k);}}function myNumericField(a,k,i,l,h,d,m,b,c,f,j,e,g){if(k==""){k="document.body";}if(m==0){m=systext.height;}myFieldLabel(a,k,i,l,h,d);$("#"+k).append("<input type='text' id='"+a+"' />");$("#"+a).css(myTextCss(a,h,1*(d+l),m,b));if(j!=undefined&&j!=""){$("#"+a).val(j);}$("#"+a).css("text-align","right");if(f!=undefined&&f>0){$("#"+a).numeric({decimalPlaces:f});}else{$("#"+a).numeric({decimal:false});}if(e!=undefined&&e==0){$("#"+a).numeric({negative:false});}return str;}function myCheckBoxField(q,k,j,s,n,d,b,l,p){if(k==""){k="document.body";}if(j==""){s=0;}if(b<=0){b=systext.rowheight;}myFieldLabel(q,k,j,s,n,d);$("#"+k).append("<input hidden='true' type='text' id='"+q+"_hiddenfield'/>");var y=p.split(";");var o=0;var x=1;var v=0;var u=0;var a="";for(var w=1;w<=y.length;w++){var f=y[w-1].lastIndexOf("[");var e=y[w-1].lastIndexOf("]");var g="c";var t=0;var m="";if(e>f&&f>=0){m=y[w-1].substr(e+1);var g=y[w-1].substr(f+1,1);if(g=="u"||g=="c"){t=y[w-1].substring(f+2,e);}else{t=y[w-1].substring(f+1,e);}if(t==""){t="0";}}else{m=y[w-1];}if(g=="u"){g="false";}else{g="true";}a+=";"+m;if(w==1&&y.length==1){var h=q;}else{h=q+w;}$("#"+k).append("<div id='"+h+"'>"+m+"</div>");$("#"+h).css(myTextCss(n+u,d+s+1*v,0,t));$("#"+h).jqxCheckBox({checked:g});$("#"+h).jqxCheckBox(sys.theme);if(t==0){t=m.length*syslabel.fontsize+32;}if(x>=l){v=0;x=1;u+=b;}else{v+=1*t;x++;}}$("#"+q+"_hiddenfield").val(a.substr(1));for(var w=1;w<=y.length;w++){if(w==1&&y.length==1){var h=q;}else{h=q+w;}$("#"+h).on("change",function(c){myCheckBoxChange(q,a.substr(1));});}}function myStaticComboField(id,parent,label,labelwidth,top,left,height,width,items,value,checkbox){if(parent==""){parent="document.body";}if(label==""){labelwidth=0;}if(height==0){height=systext.height;}myFieldLabel(id,parent,label,labelwidth,top,left);var str="var "+id+"source = new Array(";var tmp=items.split(";");for(var i=0;i<tmp.length;i++){if(i>0){str+=",";}str+='"'+tmp[i]+'"';}str+=");";eval(str);$("#"+parent).append("<div style='padding-left: 4px;' id='"+id+"' /></div>");$("#"+id).css(myTextCss(top,1*(left+labelwidth),0,width));$("#"+id).jqxComboBox({animationType:"none",source:eval(id+"source"),multiSelect:false,width:width,height:height,autoDropDownHeight:true});if(value!=undefined&&value!=""){$("#"+id).jqxComboBox("selectItem",value);}else{$("#"+id).jqxComboBox("selectIndex",0);}if(checkbox!=undefined&&checkbox){$("#"+id).jqxComboBox({checkboxes:true});}$("#"+id).jqxComboBox(sys.theme);}function myCheckComboField(a,h,f,i,e,c,j,b,d,g){}function myImageComboField(a,h,f,i,e,c,j,b,d,g){}function myDBComboField(a,h,f,i,d,c,j,b,k,e,g){}function myFileUpLoadField(a,h,g,i,f,d,j,b){var e="";if(h==""){h="document.body";}if(b==0){b=300;}myFieldLabel(a,h,g,i,f,d);$("#"+h).append("<div id='"+a+"'/></div>");$("#"+a).css(myTextCss(f,1*(d+i),j,b));$("#"+a).jqxFileUpload({width:b,localization:{browseButton:"&nbsp;游览…&nbsp;",uploadButton:"&nbsp;全部上传&nbsp;",cancelButton:"&nbsp;全部删除&nbsp;",uploadFileTooltip:"上传文件",cancelFileTooltip:"删除文件"}});$("#"+a).jqxFileUpload(sys.theme);$("#"+a).jqxFileUpload({multipleFilesUpload:true,rtl:false,uploadUrl:"system/jqx_fileUpLoad.jsp?filename=",fileInputName:"fileToUpload"});$("#"+h).append("<span style='overflow:auto; height:40px;' id='"+a+"_files'><div></div><div></div style='overflow:auto;'></span>");$("#"+a+"_files").css(myTextCss(f+40,1*(d+i),systext.rowheight-6,b-6));$("#"+a+"_files").jqxExpander({width:b});$("#"+a+"_files").jqxExpander(sys.theme);var c=a+"_files";$("#"+c).attr("hidden",true);$("#"+a).on("uploadStart",function(l){$("#"+c).attr("hidden",true);var k=l.args.file;var m="";$("#"+a).jqxFileUpload({uploadUrl:"system/jqx_fileUpLoad.jsp?filename="+k+"&filepath=mybase&targetname="+m,fileInputName:"fileToUpload"});});$("#"+a).on("uploadEnd",function(l){$("#"+c).attr("hidden",false);var k=l.args.file;var p=0;var n=$("#"+c).jqxExpander("getContent");var o=$(n).find("li");var q="<ul>";for(var m=0;m<o.length;m++){var r=$(n).find("li:eq("+m+")").text();if(r==k){p=1;}var s="<li>"+r+"</li>";q+=s;}if(p==0){var s="<li>"+k+"</li>";q+=s;}q+="</ul>";$("#"+c).jqxExpander("setContent",$(q));$("#"+c).jqxExpander("setHeaderContent","&nbsp;已上传文件");});$("#filepath").on("select",function(k){$("#filepath_files").attr("hidden",true);});$("#filepath").on("remove",function(k){$("#filepath_files").attr("hidden",false);});return e;}function myEditorField(a,h,f,i,e,c,j,b,g){if(h==""){h="document.body";}var d="";myFieldLabel(a,h,f,i,e,c);$("#"+h).append("<div id='"+a+"_div'><textarea id='"+a+"'></textarea></div>");$("#"+a+"_div").css(myTextCss(e,1*(c+i),j,b));if(j>0){$("#"+a).jqxEditor({height:j});}else{$("#"+a).jqxEditor({height:"100%"});}if(b>0){$("#"+a).jqxEditor({width:b});}else{$("#"+a).jqxEditor({width:"100%"});}$("#"+a).jqxEditor(sys.theme);if(g!=undefined&&g!=""){$("#"+a).val(g);}$("#"+a).jqxEditor({localization:{"bold":"加粗","italic":"斜体","underline":"下划线","format":"格式","font":"字体","size":"字体大小","color":"字体颜色","background":"背景颜色","left":"左对齐","center":"居中","right":"右对齐","outdent":"文字左移","indent":"文字右移","ul":"分段","ol":"分级","image":"插入图片","link":"插入链接","html":"html语言","clean":"格式化"}});}function myTabs(id,parent,title,items,top,left,height,width,collapsible){if(parent==""){parent="document.body";}var str="";str='<div style=\\"overflow:auto; margin:0px 0px 0px 0px; padding:0px 0px 0px 0px;\\">';str+='<div id=\\"'+id+'\\" style=\\"overflow: hidden; margin:2px 0px 0px 0px; padding:0px 0px 0px 0px;\\">';str+="<ul>";var tmp=items.split(";");for(var i=0;i<tmp.length;i++){if(i==0){str+='<li style=\\"margin-left: 8px;\\">'+tmp[i]+"</li>";}else{str+="<li>"+tmp[i]+"</li>";}}str+="</ul>";for(var i=0;i<tmp.length;i++){str+='<div id=\\"'+id+1*(i+1)+'\\" style=\\"overflow: auto;\\" margin: 0px 0px 0px 0px; padding:0px 0px 0px 0px\'></div>';}str+="</div>";str+="</div>";str='$("'+str+'").appendTo("#'+parent+'");\n';eval(str);$("#"+id).css(myTextCss(top,left,height,width));$("#"+id).jqxTabs({position:"top",width:width,height:height});if(collapsible!=undefined&&collapsible){$("#"+id).jqxTabs({showCloseButtons:false,collapsible:true});}$("#"+id).jqxTabs(sys.theme);for(var i=0;i<tmp.length;i++){var xid=id+"Panel"+1*(i+1);var pid=id+1*(i+1);$("<fieldset id='"+xid+"' style='margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:0px groove'></fieldset>").appendTo("#"+pid);$("#"+xid).css(myTextCss(0,0,0,0));$("#"+xid).css(sys.theme);$("#"+xid).css({position:"relative",width:0,height:0});}}function myFormx(id,parent,title,items,top,left,height,width,collapsible){var str="<div id='"+id+"'>";str+="<div>";str+="<div id='"+id+"Window' style='height: "+height+"px'>";str+="<div>&nbsp;"+title+"</div>";str+="<div style='overflow: hidden; padding:2px 3px 2px 3px'>";str+="<div id='"+id+"Tab' style='overflow:hidden; margin: 0px 0px 0px 0px; padding:0px 0px 0px 0px'>";str+="<ul style='margin-left: 0px'>";var tmp=items.split(";");for(var i=0;i<tmp.length;i++){if(i==0){str+="<li style='margin-left: 8px;'>"+tmp[i]+"</li>";}else{str+="<li>"+tmp[i]+"</li>";}}str+="</ul>";for(var i=0;i<tmp.length;i++){str+="<div id='"+id+"Tab"+(i+1)+"' style='overflow: auto; margin:0px 0px 0px 0px; padding:0px 0px 0px 0px;'>";str+="<fieldset id='"+id+"Panel"+(i+1)+"' style=' margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:1px groove'></fieldset>";str+="</div>";}str+="</div></div></div></div></div>";str='$("'+str+'").appendTo("#'+parent+'");\n';str+='$("#'+id+"\").jqxDocking({orientation: 'vertical', width:"+width+",  mode: 'docked', windowsMode: { "+id+"Window: 'docked'}  });\n";if(collapsible!=undefined&&collapsible){str+='$("#'+id+"\").jqxDocking('showAllCollapseButtons');\n";}str+='$("#'+id+"\").jqxDocking('hideAllCloseButtons');\n";str+='$("#'+id+"\").jqxDocking('pinWindow', id+'Window');";str+='$("#'+id+"\").css({ position:'absolute', top:"+top+", left:"+left+"});";str+='$("#'+id+'Tab").css({position: "relative",top:0, left:0, width: "100%", height: "100%", "z-index":2});\n';str+='$("#'+id+'Tab").jqxTabs();\n';for(var i=0;i<tmp.length;i++){str+='$("#'+id+"Panel"+(i+1)+"\").css({position: 'relative',top:0, left:0, height: '"+(height-72)+"px', 'z-index':2});\n";}eval(str);return str;}function myFieldSet(id,parent,title,top,left,height,width){if(parent==""){parent="document.body";}var str="";str="<fieldset id='"+id+'\' style=\\"padding-left:15px; padding-right:0px; border:1px groove\\">';if(title!=""){str+="<legend>"+title+"</legend>";}str+="</fieldset>";str='$("'+str+'").appendTo("#'+parent+'");\n';eval(str);$("#"+id).css(myTextCss(top,left,height,width));$("#"+id).css(sys.theme);$("#"+id).css({position:"absolute"});}function myPanel(id,parent,top,left,height,width){if(parent==""){parent="document.body";}var str="";str="<fieldset id='"+id+'\' style=\\" border:0px groove\\">';str+="</fieldset>";str='$("'+str+'").appendTo("#'+parent+'");\n';eval(str);$("#"+id).css(myTextCss(top,left,height,width));$("#"+id).css(sys.theme);$("#"+id).css({position:"absolute",width:0,height:0});}function myPanelx(id,parent,title,top,left,height,width){if(parent==""){parent="document.body";}var str="";str+='$("#'+parent+'").append("<div style=\\"padding-left: 4px; border:0px\\" id=\\"'+id+'\\"+ \\"\\" /></div>");\n';str+='$("#'+id+'").css'+mySetTextCss(top,left,0,0)+"\n";str+='$("#'+id+'").jqxPanel({ width: '+width+", height:"+height+"});\n";str+='$("#'+id+"\").css({position:'relative'});\n";str+='$("#'+id+'").jqxPanel(sys.theme);\n';eval(str);}function myButton(h,c,g,e,d,a,b){if(c==""){c="document.body";}var f="";$("#"+c).append("<input type='button' value='"+g+"' id='"+h+"' />");$("#"+h).css(myTextCss(e,d,a,b));$("#"+h).jqxButton();$("#"+h).jqxButton(sys.theme);}function myWindowx(id,title,top,left,height,width,buttons,resize,drag,close,collapse){var str='$("#main").append(\'<div id="'+id+'" style="border-width:2px">';str+='<div ><span><img src="system/images/'+sys.windowcon+'" alt="" style="margin-right:5px"/>'+title+"</span></div>";str+="<div></div>";str+="</div>')\n";str+='$("#'+id+'").jqxWindow({\n';str+=" height: "+height+", width: "+width;str+=", isModal: false, modalOpacity: 0.1";if(resize!=undefined&&resize==1){str+=", resizable: true";}else{str+=", resizable: false";}if(drag!=undefined&&drag==0){str+=", draggable: false";}else{str+=", draggable: true";}if(close!=undefined&&close==0){str+=", showCloseButton: false";}if(collapse!=undefined&&collapse==1){str+=", showCollapseButton: true";}str+="});\n";if(top!=undefined&&top>0){str+='$("#'+id+'").jqxWindow({ position: { y: '+top+" }});\n";}if(left!=undefined&&left>0){str+='$("#'+id+'").jqxWindow({ position: { x: '+left+" }});\n";}str+='$("#'+id+'").jqxWindow(sys.theme);\n';if(buttons=="ok"||buttons=="okcancel"||buttons=="savecancel"){str+='$("#'+id+"\").append(\"<input type='button' value='确定' id='"+id+"OkBtn' />\");\n";if(buttons=="ok"){str+='$("#'+id+'OkBtn").css'+mySetTextCss(height-35,width-70-12,0,70);}else{str+='$("#'+id+'OkBtn").css'+mySetTextCss(height-35,width-2*70-2-12,0,70);}str+='$("#'+id+'OkBtn").jqxButton();\n';}if(buttons=="savecancel"){str+='$("#'+id+"\").append(\"<input type='button' value='保存' id='"+id+"SaveBtn' />\");\n";if(buttons=="ok"){str+='$("#'+id+'SaveBtn").css'+mySetTextCss(height-35,width-70-12,0,70);}else{str+='$("#'+id+'OkBtn").css'+mySetTextCss(height-35,width-2*70-2-12,0,70);}str+='$("#'+id+'OkBtn").jqxButton();\n';}if(buttons=="cancel"||buttons=="okcancel"||buttons=="savecancel"){str+='$("#'+id+"\").append(\"<input type='button' value='取消' id='"+id+"CancelBtn' />\");\n";str+='$("#'+id+'CancelBtn").css'+mySetTextCss(height-35,width-70-12,0,70);str+='$("#'+id+'CancelBtn").jqxButton();\n';str+='$("#'+id+"CancelBtn\").on('click', function () {\n";str+='$("#'+id+"\").jqxWindow('close');\n";str+="});\n";}eval(str);}function myForm(f,r,m,c,b,e,g,l,a){var d=f+"Window";var s=f+"Panel";var h="<div id='"+d+"' style='border-width:1px; padding:0px 0px 8px 0px;'><div>";h+="<span><img src='system/images/"+sys.windowcon+"' alt='' style='margin-right:5px' />"+r+"</span></div><div>";h+="<fieldset id='"+s+"' style='margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:0px groove'>";h+="<fieldset id='"+f+"' style='margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:0px groove'></fieldset></fieldset></div></div>";$("#main").append(h);$("#"+d).jqxWindow({maxHeight:e,maxWidth:g,minHeight:e,minWidth:g});$("#"+d).jqxWindow({height:e,width:g,isModal:false,modalOpacity:0.1,resizable:false,showCloseButton:false});if(l!=undefined&&l==1){$("#"+d).jqxWindow({draggable:true});}else{$("#"+d).jqxWindow({draggable:false});}if(a!=undefined&&a==1){$("#"+d).jqxWindow({showCollapseButton:true});}if(c!=undefined&&b!=undefined&&c>0&&b>0){$("#"+d).jqxWindow({position:{y:c,left:b}});}$("#"+d).jqxWindow(sys.theme);$("#"+s).css(myTextCss(0,0,0,0));$("#"+s).css(sys.theme);$("#"+s).css({position:"relative",width:0,height:0});$("#"+f).css(myTextCss(0,0,0,0));$("#"+f).css(sys.theme);$("#"+f).css({position:"absolute",top:0,left:0,width:0,height:0});if(m!=""){var q=f+"Tab";var p=f+"Panel";var h="<div style='overflow:auto; margin:0px 0px 0px 0px; padding:0px 0px 0px 0px;'>";h+="<div id='"+q+"' style='overflow: hidden; margin:2px 0px 0px 0px; padding:0px 0px 0px 0px;'>";h+="<ul>";var n=m.split(";");for(var k=0;k<n.length;k++){if(k==0){h+="<li style='margin-left: 8px;'>"+n[k]+"</li>";}else{h+="<li>"+n[k]+"</li>";}}h+="</ul>";for(var k=0;k<n.length;k++){h+="<div id='"+p+1*(k+1)+"' style='overflow: auto; margin: 0px 0px 0px 0px; padding:0px 0px 0px 0px'></div>";}h+="</div>";h+="</div>";$("#"+d).append(h);$("#"+q).css(myTextCss(30,3,0,0));$("#"+q).jqxTabs({position:"top",width:(g-8),height:(e-30)});$("#"+q).jqxTabs(sys.theme);for(var k=0;k<n.length;k++){var o=q+1*(k+1);var j=p+1*(k+1);$("<fieldset id='"+o+"' style='margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:0px groove'></fieldset>").appendTo("#"+j);$("#"+o).css(myTextCss(0,0,0,0));$("#"+o).css(sys.theme);$("#"+o).css({position:"relative",width:0,height:0});}}}function myWindow(h,w,q,e,b,g,j,n,p,t,o,d,a){var f=h+"Window";var x=h+"Panel";var k="<div id='"+f+"' style='border-width:2px; padding:0px 0px 8px 0px;'><div>";k+="<span><img src='system/images/"+sys.windowcon+"' alt='' style='margin-right:5px' />"+w+"</span></div><div>";k+="<fieldset id='"+x+"' style='margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:0px groove'>";k+="<fieldset id='"+h+"' style='margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:0px groove'></fieldset></fieldset></div></div>";$("#main").append(k);$("#"+f).jqxWindow({isModal:false,height:g,width:j});if(p!=undefined&&p==1){$("#"+f).jqxWindow({isModal:true,modalOpacity:0.1});}if(t!=undefined&&t==1){$("#"+f).jqxWindow({resizable:true});}else{$("#"+f).jqxWindow({resizable:false});}if(o!=undefined&&o==0){$("#"+f).jqxWindow({draggable:false});}else{$("#"+f).jqxWindow({draggable:true});}if(d!=undefined&&d==0){$("#"+f).jqxWindow({showCloseButton:false});}if(a!=undefined&&a==1){$("#"+f).jqxWindow({showCollapseButton:true});}if(e!=undefined&&b!=undefined&&e>0&&b>0){$("#"+f).jqxWindow({position:{y:e,left:b}});}$("#"+f).jqxWindow(sys.theme);$("#"+x).css(myTextCss(0,0,0,0));$("#"+x).css(sys.theme);$("#"+x).css({position:"relative",width:0,height:0});$("#"+h).css(myTextCss(0,0,0,0));$("#"+h).css(sys.theme);$("#"+h).css({position:"absolute",top:0,left:0,width:0,height:0});if(q!=""){var c=65;}else{var c=35;}if(n=="ok"||n=="okcancel"||n=="savecancel"){$("#"+h).append("<input type='button' value='确定' id='"+h+"OkBtn' />");if(n=="ok"){$("#"+h+"OkBtn").css(myTextCss(g-c,j-70-20,0,70));}else{$("#"+h+"OkBtn").css(myTextCss(g-c,j-2*70-20,0,70));}$("#"+h+"OkBtn").jqxButton();}if(n=="savecancel"){$("#"+h).append("<input type='button' value='保存' id='"+h+"SaveBtn'/>");if(n=="ok"){$("#"+h+"SaveBtn").css(myTextCss(g-c,j-70-20,0,70));}else{$("#"+h+"OkBtn").css(myTextCss(g-c,j-2*70-20,0,70));}$("#"+h+"OkBtn").jqxButton();}if(n=="cancel"||n=="okcancel"||n=="savecancel"){$("#"+h).append("<input type='button' value='取消' id='"+h+"CancelBtn' />");$("#"+h+"CancelBtn").css(myTextCss(g-c,j-70-20,0,70));$("#"+h+"CancelBtn").jqxButton();$("#"+h+"CancelBtn").on("click",function(){$("#"+h).jqxWindow("close");});}if(q!=""){var v=h+"Tab";var u=h+"Panel";var k="<div style='overflow:auto; margin:0px 0px 0px 0px; padding:0px 0px 0px 0px;'>";k+="<div id='"+v+"' style='overflow: hidden; margin:2px 0px 0px 0px; padding:0px 0px 0px 0px;'>";k+="<ul>";var r=q.split(";");for(var m=0;m<r.length;m++){if(m==0){k+="<li style='margin-left: 8px;'>"+r[m]+"</li>";}else{k+="<li>"+r[m]+"</li>";}}k+="</ul>";for(var m=0;m<r.length;m++){k+="<div id='"+u+1*(m+1)+"' style='overflow: auto; margin: 0px 0px 0px 0px; padding:0px 0px 0px 0px'></div>";}k+="</div>";k+="</div>";$("#"+f).append(k);$("#"+v).css(myTextCss(30,3,0,0));if(n!=""){$("#"+v).jqxTabs({position:"top",width:(j-8),height:(g-80)});}else{$("#"+v).jqxTabs({position:"top",width:(j-8),height:(g-30)});}$("#"+v).jqxTabs(sys.theme);for(var m=0;m<r.length;m++){var s=v+1*(m+1);var l=u+1*(m+1);$("<fieldset id='"+s+"' style='margin:0px 0px 0px 0px; padding:0px 0px 0px 0px; border:0px groove'></fieldset>").appendTo("#"+l);$("#"+s).css(myTextCss(0,0,0,0));$("#"+s).css(sys.theme);$("#"+s).css({position:"relative",width:0,height:0});}}}