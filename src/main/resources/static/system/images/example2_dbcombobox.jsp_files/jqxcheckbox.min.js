(function(b){b.jqx.jqxWidget("jqxCheckBox","",{});b.extend(b.jqx._jqxCheckBox.prototype,{defineInstance:function(){var a={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:false,hasThreeStates:false,disabled:false,enableContainerClick:true,locked:false,groupName:"",keyboardCheck:true,enableHover:true,hasInput:true,rtl:false,updated:null,disabledContainer:false,_canFocus:true,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};b.extend(true,this,a);return a;},createInstance:function(a){this.render();},_addInput:function(){if(this.hasInput){if(this.input){this.input.remove();}var a=this.host.attr("name");this.input=b("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a);}this.input.val(this.checked);this.host.attr("role","checkbox");b.jqx.aria(this);}},render:function(){this.init=true;var k=this;this.setSize();this.propertyChangeMap.width=function(f,d,e,c){k.setSize();};this.propertyChangeMap.height=function(f,d,e,c){k.setSize();};this._removeHandlers();if(this.checkbox){this.checkbox.remove();this.checkbox=null;}if(this.checkMark){this.checkMark.remove();this.checkMark=null;}if(this.box){this.box.remove();this.box=null;}if(this.clear){this.clear.remove();this.clear=null;}if(this.boxSize==null){this.boxSize=13;}var h=parseInt(this.boxSize)+"px";var i="13px";var j=Math.floor((parseInt(this.boxSize)-13)/2);var a=j;j+="px";a+="px";if(this.boxSize!="13px"){this.checkbox=b('<div><div style="width: '+h+"; height: "+h+';"><span style="position: relative; left: '+j+"; top: "+a+"; width: "+i+"; height: "+i+';"></span></div></div>');}else{this.checkbox=b('<div><div style="width: '+h+"; height: "+h+';"><span style="width: '+h+"; height: "+h+';"></span></div></div>');}this.host.prepend(this.checkbox);if(!this.disabledContainer){if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",0);}this.clear=b('<div style="clear: both;"></div>');this.host.append(this.clear);}this.checkMark=b(this.checkbox[0].firstChild.firstChild);this.box=this.checkbox;this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all"));if(this.disabled){this.disable();}if(!this.disabledContainer){this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-checkbox"));}if(this.locked&&!this.disabledContainer){this.host.css("cursor","auto");}var l=this.element.getAttribute("checked");if(l=="checked"||l=="true"||l==true){this.checked=true;}this._addInput();this._render();this._addHandlers();this.init=false;},refresh:function(a){if(!a){this.setSize();this._render();}},resize:function(d,a){this.width=d;this.height=a;this.refresh();},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width);}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width);}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height);}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height);}}},_addHandlers:function(){var e=this;var f=b.jqx.mobile.isTouchDevice();var a="mousedown";if(f){a=b.jqx.mobile.getTouchEventName("touchend");}this.addHandler(this.box,a,function(c){if(!e.disabled&&!e.enableContainerClick&&!e.locked){e.toggle();if(e.updated){c.owner=e;e.updated(c,e.checked,e.oldChecked);}if(c.preventDefault){c.preventDefault();}return false;}});if(!this.disabledContainer){this.addHandler(this.host,"keydown",function(c){if(!e.disabled&&!e.locked&&e.keyboardCheck){if(c.keyCode==32){if(!e._canFocus){return true;}e.toggle();if(e.updated){c.owner=e;e.updated(c,e.checked,e.oldChecked);}if(c.preventDefault){c.preventDefault();}return false;}}});this.addHandler(this.host,a,function(c){if(!e.disabled&&e.enableContainerClick&&!e.locked){e.toggle();if(c.preventDefault){c.preventDefault();}if(e._canFocus){e.focus();}return false;}});this.addHandler(this.host,"selectstart",function(c){if(!e.disabled&&e.enableContainerClick){if(c.preventDefault){c.preventDefault();}return false;}});this.addHandler(this.host,"mouseup",function(c){if(!e.disabled&&e.enableContainerClick){if(c.preventDefault){c.preventDefault();}}});this.addHandler(this.host,"focus",function(c){if(!e.disabled&&!e.locked){if(!e._canFocus){return true;}if(e.enableHover){e.box.addClass(e.toThemeProperty("jqx-checkbox-hover"));}e.box.addClass(e.toThemeProperty("jqx-fill-state-focus"));if(c.preventDefault){c.preventDefault();}e.hovered=true;return false;}});this.addHandler(this.host,"blur",function(c){if(!e.disabled&&!e.locked){if(!e._canFocus){return true;}if(e.enableHover){e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover"));}e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus"));if(c.preventDefault){c.preventDefault();}e.hovered=false;return false;}});this.addHandler(this.host,"mouseenter",function(c){if(e.locked){e.host.css("cursor","arrow");}if(e.enableHover){if(!e.disabled&&e.enableContainerClick&&!e.locked){e.box.addClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.addClass(e.toThemeProperty("jqx-fill-state-hover"));if(c.preventDefault){c.preventDefault();}e.hovered=true;return false;}}});this.addHandler(this.host,"mouseleave",function(c){if(e.enableHover){if(!e.disabled&&e.enableContainerClick&&!e.locked){e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover"));if(c.preventDefault){c.preventDefault();}e.hovered=false;return false;}}});this.addHandler(this.box,"mouseenter",function(){if(e.locked){return;}if(!e.disabled&&!e.enableContainerClick){e.box.addClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.addClass(e.toThemeProperty("jqx-fill-state-hover"));}});this.addHandler(this.box,"mouseleave",function(){if(!e.disabled&&!e.enableContainerClick){e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover"));}});}},focus:function(){try{this.host.focus();}catch(a){}},_removeHandlers:function(){var d=b.jqx.mobile.isTouchDevice();var a="mousedown";if(d){a="touchend";}if(this.box){this.removeHandler(this.box,a);this.removeHandler(this.box,"mouseenter");this.removeHandler(this.box,"mouseleave");}this.removeHandler(this.host,a);this.removeHandler(this.host,"mouseup");this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"focus");},_render:function(){if(!this.disabled){if(this.enableContainerClick){this.host.css("cursor","pointer");}else{if(!this.init){this.host.css("cursor","auto");}}}else{this.disable();}if(this.rtl){this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl"));this.host.addClass(this.toThemeProperty("jqx-rtl"));}this.updateStates();},_setState:function(a){if(this.checked!=a){this.checked=a;if(this.checked){this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked");}else{if(this.checked==null){this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate");}else{this.checkMark[0].className="";}}}},val:function(a){if(arguments.length==0||(a!=null&&typeof(a)=="object")){return this.checked;}if(typeof a=="string"){if(a=="true"){this.check();}if(a=="false"){this.uncheck();}if(a==""){this.indeterminate();}}else{if(a==true){this.check();}if(a==false){this.uncheck();}if(a==null){this.indeterminate();}}return this.checked;},check:function(){this.checked=true;var a=this;this.checkMark.removeClass();if(b.jqx.browser.msie||this.animationShowDelay==0){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked"));}else{this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){});}if(this.groupName!=null&&this.groupName.length>0){var d=b.find(this.toThemeProperty(".jqx-checkbox",true));b.each(d,function(){var c=b(this).jqxCheckBox("groupName");if(c==a.groupName&&this!=a.element){b(this).jqxCheckBox("uncheck");}});}this._raiseEvent("0",true);this._raiseEvent("3",{checked:true});if(this.input!=undefined){this.input.val(this.checked);b.jqx.aria(this,"aria-checked",this.checked);}},uncheck:function(){this.checked=false;var a=this;if(b.jqx.browser.msie||this.animationHideDelay==0){if(a.checkMark[0].className!=""){a.checkMark[0].className="";}}else{this.checkMark.css("opacity",1);this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){if(a.checkMark[0].className!=""){a.checkMark[0].className="";}});}this._raiseEvent("1");this._raiseEvent("3",{checked:false});if(this.input!=undefined){this.input.val(this.checked);b.jqx.aria(this,"aria-checked",this.checked);}},indeterminate:function(){this.checked=null;this.checkMark.removeClass();if(b.jqx.browser.msie||this.animationShowDelay==0){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate"));}else{this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){});}this._raiseEvent("2");this._raiseEvent("3",{checked:null});if(this.input!=undefined){this.input.val(this.checked);b.jqx.aria(this,"aria-checked","undefined");}},toggle:function(){if(this.disabled){return;}if(this.locked){return;}if(this.groupName!=null&&this.groupName.length>0){if(this.checked!=true){this.checked=true;this.updateStates();}return;}this.oldChecked=this.checked;if(this.checked==true){this.checked=this.hasThreeStates?null:false;}else{this.checked=this.checked!=null;}this.updateStates();if(this.input!=undefined){this.input.val(this.checked);}},updateStates:function(){if(this.checked){this.check();}else{if(this.checked==false){this.uncheck();}else{if(this.checked==null){this.indeterminate();}}}},disable:function(){this.disabled=true;if(this.checked==true){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled"));}else{if(this.checked==null){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled"));}}this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box"));this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled"));b.jqx.aria(this,"aria-disabled",this.disabled);},enable:function(){if(this.checked==true){this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled"));}else{if(this.checked==null){this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled"));}}this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box"));this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled"));this.disabled=false;b.jqx.aria(this,"aria-disabled",this.disabled);},destroy:function(){this.host.remove();},_raiseEvent:function(h,j){if(this.init){return;}var l=this.events[h];var i=new b.Event(l);i.owner=this;i.args=j;try{var a=this.host.trigger(i);}catch(k){}return a;},propertyChangedHandler:function(a,h,f,g){if(this.isInitialized==undefined||this.isInitialized==false){return;}if(h==a.enableContainerClick&&!a.disabled&&!a.locked){if(g){a.host.css("cursor","pointer");}else{a.host.css("cursor","auto");}}if(h=="rtl"){if(g){a.box.addClass(a.toThemeProperty("jqx-checkbox-rtl"));a.host.addClass(a.toThemeProperty("jqx-rtl"));}else{a.box.removeClass(a.toThemeProperty("jqx-checkbox-rtl"));a.host.removeClass(a.toThemeProperty("jqx-rtl"));}}if(h=="boxSize"){a.render();}if(h=="theme"){b.jqx.utilities.setTheme(f,g,a.host);}if(h=="checked"){if(g!=f){switch(g){case true:a.check();break;case false:a.uncheck();break;case null:a.indeterminate();break;}}}if(h=="disabled"){if(g!=f){if(g){a.disable();}else{a.enable();}}}}});})(jqxBaseFramework);