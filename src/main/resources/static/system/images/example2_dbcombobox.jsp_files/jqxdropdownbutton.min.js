(function(b){b.jqx.jqxWidget("jqxDropDownButton","",{});b.extend(b.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var a={disabled:false,width:null,height:null,arrowSize:19,enableHover:true,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:false,dropDownHorizontalAlignment:"left",popupZIndex:20000,autoOpen:false,rtl:false,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:true,touchMode:false,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};b.extend(true,this,a);return a;},createInstance:function(o){var r=this;if(!r.width){r.width=200;}if(!r.height){r.height=25;}r.isanimating=false;r.setupInstance();var u=b("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(r.host.attr("tabindex")){u.attr("tabindex",r.host.attr("tabindex"));r.host.removeAttr("tabindex");}else{u.attr("tabindex",0);}if(!r.focusable){u.removeAttr("tabIndex");}b.jqx.aria(this);r.popupContent=r.host.children();r.host.attr("role","button");if(r.popupContent.length==0){r.popupContent=b("<div>"+r.host.text()+"</div>");r.popupContent.css("display","block");r.element.innerHTML="";}else{r.popupContent.detach();}var n=this;r.addHandler(r.host,"loadContent",function(c){n._arrange();});try{var s="dropDownButtonPopup"+r.element.id;var t=b(b.find("#"+s));if(t.length>0){t.remove();}b.jqx.aria(this,"aria-haspopup",true);b.jqx.aria(this,"aria-owns",s);var v=b("<div class='dropDownButton' style='overflow: hidden; left: 0px; top: 0px; position: absolute;' id='dropDownButtonPopup"+r.element.id+"'></div>");v.addClass(r.toThemeProperty("jqx-widget-content"));v.addClass(r.toThemeProperty("jqx-dropdownbutton-popup"));v.addClass(r.toThemeProperty("jqx-popup"));v.addClass(r.toThemeProperty("jqx-rc-all"));v.css("z-index",r.popupZIndex);if(b.jqx.browser.msie){v.addClass(r.toThemeProperty("jqx-noshadow"));}r.popupContent.appendTo(v);v.appendTo(document.body);r.container=v;r.container.css("visibility","hidden");}catch(q){}r.touch=b.jqx.mobile.isTouchDevice();r.dropDownButtonStructure=u;r.host.append(u);r.dropDownButtonWrapper=r.host.find("#dropDownButtonWrapper");r.firstDiv=r.dropDownButtonWrapper.parent();r.dropDownButtonArrow=r.host.find("#dropDownButtonArrow");r.arrow=b(r.dropDownButtonArrow.children()[0]);r.dropDownButtonContent=r.host.find("#dropDownButtonContent");r.dropDownButtonContent.addClass(r.toThemeProperty("jqx-dropdownlist-content"));r.dropDownButtonWrapper.addClass(r.toThemeProperty("jqx-disableselect"));if(r.rtl){r.dropDownButtonContent.addClass(r.toThemeProperty("jqx-rtl"));}var a=this;if(r.host.parents()){r.addHandler(r.host.parents(),"scroll.dropdownbutton"+r.element.id,function(c){var d=a.isOpened();if(d){a.close();}});}r.addHandler(r.dropDownButtonWrapper,"selectstart",function(){return false;});r.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+r.element.id;r.dropDownButtonArrow[0].id="dropDownButtonArrow"+r.element.id;r.dropDownButtonContent[0].id="dropDownButtonContent"+r.element.id;var a=this;r.propertyChangeMap.disabled=function(d,f,g,c){if(c){d.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled"));d.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));d.dropDownButtonContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"));}else{d.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled"));d.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));d.dropDownButtonContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"));}b.jqx.aria(d,"aria-disabled",d.disabled);};if(r.disabled){r.host.addClass(r.toThemeProperty("jqx-dropdownlist-state-disabled"));r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled"));r.dropDownButtonContent.addClass(r.toThemeProperty("jqx-dropdownlist-content-disabled"));}var p=r.toThemeProperty("jqx-rc-all")+" "+r.toThemeProperty("jqx-fill-state-normal")+" "+r.toThemeProperty("jqx-widget")+" "+r.toThemeProperty("jqx-widget-content")+" "+r.toThemeProperty("jqx-dropdownlist-state-normal");r.host.addClass(p);r.arrow.addClass(r.toThemeProperty("jqx-icon-arrow-down"));r.arrow.addClass(r.toThemeProperty("jqx-icon"));r._setSize();r.render();if(b.jqx.browser.msie&&b.jqx.browser.version<8){r.container.css("display","none");if(r.host.parents(".jqx-window").length>0){var e=r.host.parents(".jqx-window").css("z-index");v.css("z-index",e+10);r.container.css("z-index",e+10);}}},setupInstance:function(){var d=this;var a={setContent:function(c){d.dropDownButtonContent.children().remove();d.dropDownButtonContent[0].innerHTML="";d.dropDownButtonContent.append(c);},val:function(c){if(arguments.length==0||typeof(c)=="object"){return d.dropDownButtonContent.text();}else{d.dropDownButtonContent.html(c);}},getContent:function(){if(d.dropDownButtonContent.children().length>0){return d.dropDownButtonContent.children();}return d.dropDownButtonContent.text();},_setSize:function(){if(d.width!=null&&d.width.toString().indexOf("px")!=-1){d.host[0].style.width=d.width;}else{if(d.width!=undefined&&!isNaN(d.width)){d.host[0].style.width=parseInt(d.width)+"px";}}if(d.height!=null&&d.height.toString().indexOf("px")!=-1){d.host[0].style.height=d.height;}else{if(d.height!=undefined&&!isNaN(d.height)){d.host[0].style.height=parseInt(d.height)+"px";}}var c=false;if(d.width!=null&&d.width.toString().indexOf("%")!=-1){c=true;d.host.width(d.width);}if(d.height!=null&&d.height.toString().indexOf("%")!=-1){c=true;d.host.height(d.height);}var f=this;if(c){d.refresh(false);}b.jqx.utilities.resize(d.host,function(){f._arrange();});},isOpened:function(){var c=this;var f=b.data(document.body,"openedJQXButton"+c.element.id);if(f!=null&&f==c.popupContent){return true;}return false;},focus:function(){try{d.host.focus();}catch(c){}},render:function(){d.removeHandlers();var f=this;var c=false;if(!d.touch){d.addHandler(d.host,"mouseenter",function(){if(!f.disabled&&f.enableHover){c=true;f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.arrow.addClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));f.host.addClass(f.toThemeProperty("jqx-fill-state-hover"));}});d.addHandler(d.host,"mouseleave",function(){if(!f.disabled&&f.enableHover){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-hover"));f.arrow.removeClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));c=false;}});}if(f.autoOpen){d.addHandler(d.host,"mouseenter",function(){var e=f.isOpened();if(!e&&f.autoOpen){f.open();f.host.focus();}});d.addHandler(b(document),"mousemove."+f.element.id,function(q){var r=f.isOpened();if(r&&f.autoOpen){var e=f.host.coord();var n=e.top;var o=e.left;var p=f.container.coord();var t=p.left;var s=p.top;canClose=true;if(q.pageY>=n&&q.pageY<=n+f.host.height()){if(q.pageX>=o&&q.pageX<o+f.host.width()){canClose=false;}}if(q.pageY>=s&&q.pageY<=s+f.container.height()){if(q.pageX>=t&&q.pageX<t+f.container.width()){canClose=false;}}if(canClose){f.close();}}});}d.addHandler(d.dropDownButtonWrapper,"mousedown",function(e){if(!f.disabled){var h=f.container.css("visibility")=="visible";if(!f.isanimating){if(h){f.close();return false;}else{f.open();if(!f.focusable){if(e.preventDefault){e.preventDefault();}}}}}});if(d.touch){d.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+d.element.id,f.closeOpenedDropDown,{me:this,popup:d.container,id:d.element.id});}d.addHandler(b(document),"mousedown."+d.element.id,f.closeOpenedDropDown,{me:this,popup:d.container,id:d.element.id});d.addHandler(d.host,"keydown",function(e){var h=f.container.css("visibility")=="visible";if(f.host.css("display")=="none"){return true;}if(e.keyCode=="13"){if(!f.isanimating){if(h){f.close();}}}if(e.keyCode==115){if(!f.isanimating){if(!f.isOpened()){f.open();}else{if(f.isOpened()){f.close();}}}return false;}if(e.altKey){if(f.host.css("display")=="block"){if(e.keyCode==38){if(f.isOpened()){f.close();}}else{if(e.keyCode==40){if(!f.isOpened()){f.open();}}}}}if(e.keyCode=="27"){if(!f.ishiding){f.close();if(f.tempSelectedIndex!=undefined){f.selectIndex(f.tempSelectedIndex);}}}});d.addHandler(d.firstDiv,"focus",function(){f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.addClass(f.toThemeProperty("jqx-fill-state-focus"));});d.addHandler(d.firstDiv,"blur",function(){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-focus"));});},removeHandlers:function(){var c=this;d.removeHandler(d.dropDownButtonWrapper,"mousedown");d.removeHandler(d.host,"keydown");d.removeHandler(d.firstDiv,"focus");d.removeHandler(d.firstDiv,"blur");d.removeHandler(d.host,"mouseenter");d.removeHandler(d.host,"mouseleave");if(d.autoOpen){d.removeHandler(d.host,"mouseenter");d.removeHandler(d.host,"mouseleave");}d.removeHandler(b(document),"mousemove."+c.element.id);},_findPos:function(c){while(c&&(c.type=="hidden"||c.nodeType!=1||b.expr.filters.hidden(c))){c=c.nextSibling;}var f=b(c).coord(true);return[f.left,f.top];},testOffset:function(n,p,s){var o=n.outerWidth();var c=n.outerHeight();var m=b(window).width()+b(window).scrollLeft();var q=b(window).height()+b(window).scrollTop();if(p.left+o>m){if(o>d.host.width()){var r=d.host.coord().left;var t=o-d.host.width();p.left=r-t+2;}}if(p.left<0){p.left=parseInt(d.host.coord().left)+"px";}if(p.top+c>q){p.top-=Math.abs(c+s);}return p;},_getBodyOffset:function(){var c=0;var f=0;if(b("body").css("border-top-width")!="0px"){c=parseInt(b("body").css("border-top-width"));if(isNaN(c)){c=0;}}if(b("body").css("border-left-width")!="0px"){f=parseInt(b("body").css("border-left-width"));if(isNaN(f)){f=0;}}return{left:f,top:c};},open:function(){b.jqx.aria(this,"aria-expanded",true);var y=this;var c=this;if((y.dropDownWidth==null||y.dropDownWidth=="auto")&&y.width!=null&&y.width.indexOf&&y.width.indexOf("%")!=-1){var F=y.host.width();y.container.width(parseInt(F));}c._raiseEvent("2");var G=y.popupContent;var v=b(window).scrollTop();var A=b(window).scrollLeft();var w=parseInt(y._findPos(y.host[0])[1])+parseInt(y.host.outerHeight())-1+"px";var D,B=parseInt(Math.round(y.host.coord(true).left));D=B+"px";var t=b.jqx.mobile.isSafariMobileBrowser()||b.jqx.mobile.isWindowsPhone();y.ishiding=false;y.tempSelectedIndex=y.selectedIndex;if((t!=null&&t)){D=b.jqx.mobile.getLeftPos(y.element);w=b.jqx.mobile.getTopPos(y.element)+parseInt(y.host.outerHeight());if(b("body").css("border-top-width")!="0px"){w=parseInt(w)-y._getBodyOffset().top+"px";}if(b("body").css("border-left-width")!="0px"){D=parseInt(D)-y._getBodyOffset().left+"px";}}G.stop();y.host.addClass(y.toThemeProperty("jqx-dropdownlist-state-selected"));y.host.addClass(y.toThemeProperty("jqx-fill-state-pressed"));y.arrow.addClass(y.toThemeProperty("jqx-icon-arrow-down-selected"));var C=false;if(b.jqx.browser.msie&&b.jqx.browser.version<8){C=true;}if(C){y.container.css("display","block");}y.container.css("left",D);y.container.css("top",w);var E=true;var H=false;var x=function(){if(y.dropDownHorizontalAlignment=="right"||y.rtl){var e=y.container.width();var f=Math.abs(e-y.host.width());if(e>y.host.width()){y.container.css("left",parseInt(Math.round(B))-f+"px");}else{y.container.css("left",parseInt(Math.round(B))+f+"px");}}};x.call(this);if(y.enableBrowserBoundsDetection){var z=y.testOffset(G,{left:parseInt(y.container.css("left")),top:parseInt(w)},parseInt(y.host.outerHeight()));if(parseInt(y.container.css("top"))!=z.top){H=true;y.container.height(G.outerHeight());G.css("top",23);if(y.interval){clearInterval(y.interval);}y.interval=setInterval(function(){if(G.outerHeight()!=c.container.height()){var e=c.testOffset(G,{left:parseInt(c.container.css("left")),top:parseInt(w)},parseInt(c.host.outerHeight()));c.container.css("top",e.top);c.container.height(G.outerHeight());}},50);}else{G.css("top",0);}y.container.css("top",z.top);if(parseInt(y.container.css("left"))!=z.left){y.container.css("left",z.left);}}if(y.animationType=="none"){y.container.css("visibility","visible");b.data(document.body,"openedJQXButtonParent",c);b.data(document.body,"openedJQXButton"+y.element.id,G);G.css("margin-top",0);G.css("opacity",1);y._raiseEvent("0");x.call(c);}else{y.container.css("visibility","visible");var u=G.outerHeight();c.isanimating=true;if(y.animationType=="fade"){G.css("margin-top",0);G.css("opacity",0);G.animate({opacity:1},y.openDelay,function(){b.data(document.body,"openedJQXButtonParent",c);b.data(document.body,"openedJQXButton"+c.element.id,G);c.ishiding=false;c.isanimating=false;c._raiseEvent("0");});x.call(c);}else{G.css("opacity",1);if(H){G.css("margin-top",u);}else{G.css("margin-top",-u);}x.call(c);G.animate({"margin-top":0},y.openDelay,function(){b.data(document.body,"openedJQXButtonParent",c);b.data(document.body,"openedJQXButton"+c.element.id,G);c.ishiding=false;c.isanimating=false;c._raiseEvent("0");});}}if(!H){y.host.addClass(y.toThemeProperty("jqx-rc-b-expanded"));y.container.addClass(y.toThemeProperty("jqx-rc-t-expanded"));}else{y.host.addClass(y.toThemeProperty("jqx-rc-t-expanded"));y.container.addClass(y.toThemeProperty("jqx-rc-b-expanded"));}if(y.focusable){y.firstDiv.focus();setTimeout(function(){c.firstDiv.focus();},10);}y.container.addClass(y.toThemeProperty("jqx-fill-state-focus"));y.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-focus"));y.host.addClass(c.toThemeProperty("jqx-fill-state-focus"));},close:function(){b.jqx.aria(this,"aria-expanded",false);var k=this;var m=k.popupContent;var n=k.container;var l=this;l._raiseEvent("3");var o=false;if(b.jqx.browser.msie&&b.jqx.browser.version<8){o=true;}if(!k.isOpened()){return;}b.data(document.body,"openedJQXButton"+k.element.id,null);if(k.animationType=="none"){k.container.css("visibility","hidden");if(o){k.container.css("display","none");}}else{if(!l.ishiding){l.isanimating=true;m.stop();var p=m.outerHeight();m.css("margin-top",0);var c=-p;if(parseInt(k.container.coord().top)<parseInt(k.host.coord().top)){c=p;}if(k.animationType=="fade"){m.css({opacity:1});m.animate({opacity:0},k.closeDelay,function(){n.css("visibility","hidden");l.isanimating=false;l.ishiding=false;if(o){n.css("display","none");}});}else{m.animate({"margin-top":c},k.closeDelay,function(){n.css("visibility","hidden");l.isanimating=false;l.ishiding=false;if(o){n.css("display","none");}});}}}k.ishiding=true;k.host.removeClass(k.toThemeProperty("jqx-dropdownlist-state-selected"));k.host.removeClass(k.toThemeProperty("jqx-fill-state-pressed"));k.arrow.removeClass(k.toThemeProperty("jqx-icon-arrow-down-selected"));k.host.removeClass(k.toThemeProperty("jqx-rc-b-expanded"));k.container.removeClass(k.toThemeProperty("jqx-rc-t-expanded"));k.host.removeClass(k.toThemeProperty("jqx-rc-t-expanded"));k.container.removeClass(k.toThemeProperty("jqx-rc-b-expanded"));k.container.removeClass(k.toThemeProperty("jqx-fill-state-focus"));k.host.removeClass(k.toThemeProperty("jqx-dropdownlist-state-focus"));k.host.removeClass(k.toThemeProperty("jqx-fill-state-focus"));k._raiseEvent("1");},closeOpenedDropDown:function(i){var k=i.data.me;var l=b(i.target);if(b(i.target).ischildof(i.data.me.host)){return true;}if(b(i.target).ischildof(i.data.me.popupContent)){return true;}var c=k;var j=false;b.each(l.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf&&this.className.indexOf("dropDownButton")!=-1){j=true;return false;}}});if(!j){k.close();}return true;},refresh:function(){d._arrange();},_arrange:function(){var k=this;var l=parseInt(k.host.width());var p=parseInt(k.host.height());var m=k.arrowSize;var n=k.arrowSize;var c=3;var o=l-n-2*c;if(o>0){k.dropDownButtonContent[0].style.width=o+"px";}k.dropDownButtonContent[0].style.height=parseInt(p)+"px";k.dropDownButtonContent[0].style.left="0px";k.dropDownButtonContent[0].style.top="0px";k.dropDownButtonArrow[0].style.width=parseInt(n)+"px";k.dropDownButtonArrow[0].style.height=parseInt(p)+"px";if(k.rtl){k.dropDownButtonArrow.css("float","left");k.dropDownButtonContent.css("float","right");k.dropDownButtonContent.css("left",-c);}if(k.dropDownWidth!=null){if(k.dropDownWidth.toString().indexOf("%")>=0){var l=(parseInt(k.dropDownWidth)*k.host.width())/100;k.container.width(l);}else{k.container.width(k.dropDownWidth);}}if(k.dropDownHeight!=null){k.container.height(k.dropDownHeight);}},destroy:function(){var c=this;c.removeHandler(c.dropDownButtonWrapper,"selectstart");c.removeHandler(c.dropDownButtonWrapper,"mousedown");c.removeHandler(c.host,"keydown");c.host.removeClass();c.removeHandler(b(document),"mousedown."+c.element.id,self.closeOpenedDropDown);c.host.remove();c.container.remove();},_raiseEvent:function(c,k){if(k==undefined){k={owner:null};}if(c==2&&!d.contentInitialized){if(d.initContent){d.initContent();d.contentInitialized=true;}}var j=d.events[c];args=k;args.owner=this;var i=new b.Event(j);i.owner=this;if(c==2||c==3||c==4){i.args=k;}var l=d.host.trigger(i);return l;},resize:function(c,f){d.width=c;d.height=f;d._setSize();d._arrange();},propertyChangedHandler:function(j,i,c,h){if(d.isInitialized==undefined||d.isInitialized==false){return;}if(i=="rtl"){if(h){j.dropDownButtonArrow.css("float","left");j.dropDownButtonContent.css("float","right");}else{j.dropDownButtonArrow.css("float","right");j.dropDownButtonContent.css("float","left");}}if(i=="autoOpen"){j.render();}if(i=="theme"&&h!=null){b.jqx.utilities.setTheme(c,h,j.host);}if(i=="width"||i=="height"){j._setSize();j._arrange();}}};b.extend(true,this,a);}});})(jqxBaseFramework);