(function(b){b.jqx.jqxWidget("jqxDropDownList","",{});b.extend(b.jqx._jqxDropDownList.prototype,{defineInstance:function(){var a={disabled:false,width:null,height:null,items:new Array(),selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:true,enableSelection:true,visualItems:new Array(),groups:new Array(),equalItemsWidth:true,itemHeight:-1,visibleItems:new Array(),emptyGroupText:"Group",checkboxes:false,openDelay:250,closeDelay:300,animationType:"default",autoOpen:false,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:false,keyboardSelection:true,enableBrowserBoundsDetection:false,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:true,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:false,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:true,autoBind:true,focusable:true,filterable:false,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};b.extend(true,this,a);return a;},createInstance:function(a){this.render();},render:function(){var e=this;if(!e.width){e.width=200;}if(!e.height){e.height=25;}var t=e.element.nodeName.toLowerCase();if(t=="select"||t=="ul"||t=="ol"){e.field=e.element;if(e.field.className){e._className=e.field.className;}var x={title:e.field.title};if(e.field.id.length){x.id=e.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList";}else{x.id=b.jqx.utilities.createId()+"_jqxDropDownList";}var E=b("<div></div>",x);if(!e.width){e.width=b(e.field).width();}if(!e.height){e.height=b(e.field).outerHeight();}b(e.field).hide().after(E);var z=e.host.data();e.host=E;e.host.data(z);e.element=E[0];e.element.id=e.field.id;e.field.id=x.id;if(e.field.tabIndex){var C=e.field.tabIndex;e.field.tabIndex=-1;e.element.tabIndex=C;}var a=b.jqx.parseSourceTag(e.field);e.source=a.items;if(e.selectedIndex==-1){e.selectedIndex=a.index;}}e.element.innerHTML="";e.isanimating=false;e.id=e.element.id||b.jqx.utilities.createId();e.host.attr("role","combobox");b.jqx.aria(e,"aria-autocomplete","both");b.jqx.aria(e,"aria-readonly",false);var B="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(b.jqx._jqxListBox==null||b.jqx._jqxListBox==undefined){throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");}if(e.host.attr("tabindex")){e.host.attr("tabindex",e.host.attr("tabindex"));e.host.removeAttr("tabindex");}else{e.host.attr("tabindex",0);}var w=e;e.touch=b.jqx.mobile.isTouchDevice();e.comboStructure=B;e.element.innerHTML=B;e.dropdownlistWrapper=b(e.element.firstChild.firstChild);e.dropdownlistArrow=b(e.dropdownlistWrapper[0].firstChild.nextSibling);e.arrow=b(e.dropdownlistArrow[0].firstChild);e.dropdownlistContent=b(e.dropdownlistWrapper[0].firstChild);e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content jqx-disableselect"));if(e.rtl){e.dropdownlistContent.addClass(e.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl"));}e.addHandler(e.dropdownlistWrapper,"selectstart",function(){return false;});e.dropdownlistWrapper[0].id="dropdownlistWrapper"+e.element.id;e.dropdownlistArrow[0].id="dropdownlistArrow"+e.element.id;e.dropdownlistContent[0].id="dropdownlistContent"+e.element.id;e._addInput();if(e.promptText!="Please Choose:"){e.placeHolder=e.promptText;}var u=e.toThemeProperty("jqx-widget")+" "+e.toThemeProperty("jqx-dropdownlist-state-normal")+" "+e.toThemeProperty("jqx-rc-all")+" "+e.toThemeProperty("jqx-fill-state-normal");e.element.className+=" "+u;e._firstDiv=b(e.element.firstChild);try{var s="listBox"+e.id;var A=b(b.find("#"+s));if(A.length>0){A.remove();}b.jqx.aria(e,"aria-owns",s);b.jqx.aria(e,"aria-haspopup",true);var F=b("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+e.id+"'><div id='innerListBox"+e.id+"'></div></div>");F.hide();F.appendTo(document.body);e.container=F;e.listBoxContainer=b(b.find("#innerListBox"+e.id));var D=e.width;if(e.dropDownWidth!="auto"){D=e.dropDownWidth;}if(D==null){D=e.host.width();if(D==0){D=e.dropDownWidth;}}if(e.dropDownHeight==null){e.dropDownHeight=200;}var w=e;e.container.width(parseInt(D)+25);e.container.height(parseInt(e.dropDownHeight)+25);e.addHandler(e.listBoxContainer,"bindingComplete",function(c){if(!e.listBox){e.listBox=b.data(e.listBoxContainer[0],"jqxListBox").instance;}e._raiseEvent("6");});e.listBoxContainer.jqxListBox({filterHeight:e.filterHeight,filterPlaceHolder:e.filterPlaceHolder,filterDelay:e.filterDelay,filterable:e.filterable,allowDrop:false,allowDrag:false,autoBind:e.autoBind,_checkForHiddenParent:false,focusable:e.focusable,touchMode:e.touchMode,checkboxes:e.checkboxes,rtl:e.rtl,emptyString:e.emptyString,itemHeight:e.itemHeight,width:D,searchMode:e.searchMode,incrementalSearch:e.incrementalSearch,incrementalSearchDelay:e.incrementalSearchDelay,groupMember:e.groupMember,searchMember:e.searchMember,displayMember:e.displayMember,valueMember:e.valueMember,height:e.dropDownHeight,autoHeight:e.autoDropDownHeight,scrollBarSize:e.scrollBarSize,selectedIndex:e.selectedIndex,source:e.source,theme:e.theme,rendered:function(){if(e.selectedIndex!=e.listBoxContainer.jqxListBox("selectedIndex")){e.listBox=b.data(e.listBoxContainer[0],"jqxListBox").instance;e.listBoxContainer.jqxListBox({selectedIndex:e.selectedIndex});e.renderSelection("mouse");}else{e.renderSelection("mouse");}},renderer:e.renderer});e.listBoxContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0});e.listBox=b.data(e.listBoxContainer[0],"jqxListBox").instance;e.listBox.enableSelection=e.enableSelection;e.listBox.enableHover=e.enableHover;e.listBox.equalItemsWidth=e.equalItemsWidth;e.listBox.selectIndex(e.selectedIndex);e.listBox._arrange();e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup"));if(b.jqx.browser.msie){e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow"));}e.addHandler(e.listBoxContainer,"unselect",function(c){e._raiseEvent("3",{index:c.args.index,type:c.args.type,item:c.args.item});});e.addHandler(e.listBoxContainer,"change",function(c){if(c.args){if(c.args.type!="keyboard"){e._raiseEvent("4",{index:c.args.index,type:c.args.type,item:c.args.item});}else{if(c.args.type=="keyboard"){if(!e.isOpened()){e._raiseEvent("4",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)});}}}}});if(e.animationType=="none"){e.container.css("display","none");}else{e.container.hide();}}catch(y){}var e=e;e.propertyChangeMap.disabled=function(g,d,f,c){if(c){g.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-disabled"));g.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"));g.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"));}else{g.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-disabled"));g.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"));g.dropdownlistContent.removeClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"));}b.jqx.aria(g,"aria-disabled",g.disabled);};if(e.disabled){e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-disabled"));e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"));e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"));}e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down"));e.arrow.addClass(e.toThemeProperty("jqx-icon"));if(e.renderMode==="simple"){e.arrow.remove();e.host.removeClass(e.toThemeProperty("jqx-fill-state-normal"));e.host.removeClass(e.toThemeProperty("jqx-rc-all"));}e._updateHandlers();e._setSize();e._arrange();if(e.listBox){e.renderSelection();}if(b.jqx.browser.msie&&b.jqx.browser.version<8){if(e.host.parents(".jqx-window").length>0){var v=e.host.parents(".jqx-window").css("z-index");F.css("z-index",v+10);e.listBoxContainer.css("z-index",v+10);}}},resize:function(d,a){this.width=d;this.height=a;this._setSize();this._arrange();},val:function(f){if(!this.dropdownlistContent){return"";}var e=function(c){for(var d in c){if(c.hasOwnProperty(d)){return false;}}if(typeof f=="number"){return false;}if(typeof f=="date"){return false;}if(typeof f=="boolean"){return false;}if(typeof f=="string"){return false;}return true;};if(this.input&&(e(f)||arguments.length==0)){return this.input.val();}var a=this.getItemByValue(f);if(a!=null){this.selectItem(a);}if(this.input){return this.input.val();}},focus:function(){try{var e=this;var f=function(){e.host.focus();if(e._firstDiv){e._firstDiv.focus();}};f();setTimeout(function(){f();},10);}catch(a){}},_addInput:function(){var a=this.host.attr("name");this.input=b("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a);}},getItems:function(){if(!this.listBox){return new Array();}return this.listBox.items;},getVisibleItems:function(){return this.listBox.getVisibleItems();},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width);}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width);}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height);}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height);}}var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){f=true;this.host.width(this.width);}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){f=true;this.host.height(this.height);}var h=this;var g=function(){h._arrange();if(h.dropDownWidth=="auto"){var c=h.host.width();h.listBoxContainer.jqxListBox({width:c});h.container.width(parseInt(c)+25);}};if(f){var a=this.host.width();if(this.dropDownWidth!="auto"){a=this.dropDownWidth;}this.listBoxContainer.jqxListBox({width:a});this.container.width(parseInt(a)+25);}b.jqx.utilities.resize(this.host,function(){g();},false,this._checkForHiddenParent);},isOpened:function(){var d=this;var a=b.data(document.body,"openedJQXListBox"+this.id);if(a!=null&&a==d.listBoxContainer){return true;}return false;},_updateHandlers:function(){var f=this;var e=false;this.removeHandlers();if(!this.touch){this.addHandler(this.host,"mouseenter",function(){if(!f.disabled&&f.enableHover&&f.renderMode!=="simple"){e=true;f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.arrow.addClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));f.host.addClass(f.toThemeProperty("jqx-fill-state-hover"));}});this.addHandler(this.host,"mouseleave",function(){if(!f.disabled&&f.enableHover&&f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-hover"));f.arrow.removeClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));e=false;}});}if(this.host.parents()){this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(d){var c=f.isOpened();if(c){f.close();}});}var a="mousedown";if(this.touch){a=b.jqx.mobile.getTouchEventName("touchstart");}this.addHandler(this.dropdownlistWrapper,a,function(c){if(!f.disabled){var d=f.container.css("display")=="block";if(!f.isanimating){if(d){f.hideListBox();return false;}else{f.showListBox();if(!f.focusable){if(c.preventDefault){c.preventDefault();}}else{f.focus();}}}}});if(f.autoOpen){this.addHandler(this.host,"mouseenter",function(){var c=f.isOpened();if(!c&&f.autoOpen){f.open();f.host.focus();}});b(document).on("mousemove."+f.id,function(o){var p=f.isOpened();if(p&&f.autoOpen){var c=f.host.coord();var d=c.top;var m=c.left;var n=f.container.coord();var r=n.left;var q=n.top;canClose=true;if(o.pageY>=d&&o.pageY<=d+f.host.height()){if(o.pageX>=m&&o.pageX<m+f.host.width()){canClose=false;}}if(o.pageY>=q&&o.pageY<=q+f.container.height()){if(o.pageX>=r&&o.pageX<r+f.container.width()){canClose=false;}}if(canClose){f.close();}}});}if(this.touch){this.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,f.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});}else{this.addHandler(b(document),"mousedown."+this.id,f.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});}this.addHandler(this.host,"keydown",function(c){var d=f.container.css("display")=="block";if(f.host.css("display")=="none"){return true;}if(c.keyCode=="13"||c.keyCode=="9"){if(!f.isanimating){if(d){f.renderSelection();if(c.keyCode=="13"&&f.focusable){f._firstDiv.focus();}f.hideListBox();if(!f.keyboardSelection){f._raiseEvent("2",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)});}if(c.keyCode=="13"){f._raiseEvent("4",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)});}}if(d&&c.keyCode!="9"){return false;}return true;}}if(c.keyCode==115){if(!f.isanimating){if(!f.isOpened()){f.showListBox();}else{if(f.isOpened()){f.hideListBox();}}}return false;}if(c.altKey){if(f.host.css("display")=="block"){if(c.keyCode==38){if(f.isOpened()){f.hideListBox();return true;}}else{if(c.keyCode==40){if(!f.isOpened()){f.showListBox();return true;}}}}}if(c.keyCode=="27"){if(!f.ishiding){if(f.isOpened()){f.hideListBox();if(f.tempSelectedIndex!=undefined){f.selectIndex(f.tempSelectedIndex);}}return true;}}if(!f.disabled){f._kbnavigated=f.listBox._handleKeyDown(c);return f._kbnavigated;}});this.addHandler(this.listBoxContainer,"checkChange",function(c){f.renderSelection();f._updateInputSelection();f._raiseEvent(5,{label:c.args.label,value:c.args.value,checked:c.args.checked,item:c.args.item});});this.addHandler(this.listBoxContainer,"select",function(c){if(!f.disabled){if(!c.args){return;}if(c.args.type=="keyboard"&&!f.isOpened()){f.renderSelection();}if(c.args.type!="keyboard"||f.keyboardSelection){f.renderSelection();f._raiseEvent("2",{index:c.args.index,type:c.args.type,item:c.args.item,originalEvent:c.args.originalEvent});if(c.args.type=="mouse"){if(!f.checkboxes){f.hideListBox();if(f._firstDiv&&f.focusable){f._firstDiv.focus();}}}}}});if(this.listBox){if(this.listBox.content){this.addHandler(this.listBox.content,"click",function(c){if(!f.disabled){if(f.listBox.itemswrapper&&c.target===f.listBox.itemswrapper[0]){return true;}f.renderSelection("mouse");if(!f.touch){if(!f.ishiding){if(!f.checkboxes){f.hideListBox();if(f._firstDiv&&f.focusable){f._firstDiv.focus();}}}}if(!f.keyboardSelection){if(f._kbnavigated===false){if(f.tempSelectedIndex!=f.selectedIndex){f._raiseEvent("4",{index:f.selectedIndex,type:"mouse",item:f.getItem(f.selectedIndex)});}f._kbnavigated=true;}if(f._oldSelectedInd==undefined){f._oldSelectedIndx=f.selectedIndex;}if(f.selectedIndex!=f._oldSelectedIndx){f._raiseEvent("2",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)});f._oldSelectedIndx=f.selectedIndex;}}}});}}this.addHandler(this.host,"focus",function(c){if(f.renderMode!=="simple"){f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.addClass(f.toThemeProperty("jqx-fill-state-focus"));}});this.addHandler(this.host,"blur",function(){if(f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-focus"));}});this.addHandler(this._firstDiv,"focus",function(c){if(f.renderMode!=="simple"){f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.addClass(f.toThemeProperty("jqx-fill-state-focus"));}});this.addHandler(this._firstDiv,"blur",function(){if(f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-focus"));}});},removeHandlers:function(){var d=this;var a="mousedown";if(this.touch){a=b.jqx.mobile.getTouchEventName("touchstart");}this.removeHandler(this.dropdownlistWrapper,a);if(this.listBox){if(this.listBox.content){this.removeHandler(this.listBox.content,"click");}}this.removeHandler(this.host,"loadContent");this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this._firstDiv,"focus");this.removeHandler(this._firstDiv,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(b(document),"mousemove."+d.id);},getItem:function(a){var d=this.listBox.getItem(a);return d;},getItemByValue:function(d){var a=this.listBox.getItemByValue(d);return a;},selectItem:function(a){if(this.listBox!=undefined){this.listBox.selectItem(a);this.selectedIndex=this.listBox.selectedIndex;this.renderSelection("mouse");}},unselectItem:function(a){if(this.listBox!=undefined){this.listBox.unselectItem(a);this.renderSelection("mouse");}},checkItem:function(a){if(this.listBox!=undefined){this.listBox.checkItem(a);}},uncheckItem:function(a){if(this.listBox!=undefined){this.listBox.uncheckItem(a);}},indeterminateItem:function(a){if(this.listBox!=undefined){this.listBox.indeterminateItem(a);}},renderSelection:function(){if(this.listBox==null){return;}if(this.height&&this.height.toString().indexOf("%")!=-1){this._arrange();}var y=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable){if(this.listBox.selectedIndex==-1){for(var K in this.listBox.selectedValues){var E=this.listBox.selectedValues[K];var N=this.listBox.getItemByValue(E);if(N){y=N;}}}}var w=this;if(this.checkboxes){var i=this.getCheckedItems();if(i!=null&&i.length>0){y=i[0];}else{y=null;}}if(y==null){var G=b('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');G.appendTo(b(document.body));G.addClass(this.toThemeProperty("jqx-widget"));G.addClass(this.toThemeProperty("jqx-listitem-state-normal"));G.addClass(this.toThemeProperty("jqx-item"));b.jqx.utilities.html(G,this.placeHolder);var x=this.dropdownlistContent.css("padding-top");var a=this.dropdownlistContent.css("padding-bottom");G.css("padding-top",x);G.css("padding-bottom",a);var z=G.outerHeight();G.remove();G.removeClass();b.jqx.utilities.html(this.dropdownlistContent,G);var I=this.host.height();if(this.height!=null&&this.height!=undefined){if(this.height.toString().indexOf("%")===-1){I=parseInt(this.height);}}var J=parseInt((parseInt(I)-parseInt(z))/2);if(J>0){this.dropdownlistContent.css("margin-top",J+"px");this.dropdownlistContent.css("margin-bottom",J+"px");}if(this.selectionRenderer){b.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(G,-1,"",""));this.dropdownlistContent.css("margin-top","0px");this.dropdownlistContent.css("margin-bottom","0px");this._updateInputSelection();}else{this._updateInputSelection();}this.selectedIndex=this.listBox.selectedIndex;if(this.width==="auto"){this._arrange();}if(this.focusable&&this.isOpened()){this.focus();}return;}this.selectedIndex=this.listBox.selectedIndex;var G=b(document.createElement("span"));G[0].setAttribute("unselectable","on");G[0].style.color="inherit";G[0].style.borderWidth="0px";G[0].style.backgroundColor="transparent";G.appendTo(b(document.body));G.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var A=false;try{if(y.html!=undefined&&y.html!=null&&y.html.toString().length>0){b.jqx.utilities.html(G,y.html);}else{if(y.label!=undefined&&y.label!=null&&y.label.toString().length>0){b.jqx.utilities.html(G,y.label);}else{if(y.label===null||y.label===""){A=true;b.jqx.utilities.html(G,"");}else{if(y.value!=undefined&&y.value!=null&&y.value.toString().length>0){b.jqx.utilities.html(G,y.value);}else{if(y.title!=undefined&&y.title!=null&&y.title.toString().length>0){b.jqx.utilities.html(G,y.title);}else{if(y.label==""||y.label==null){A=true;b.jqx.utilities.html(G,"");}}}}}}}catch(C){var D=C;}var x=this.dropdownlistContent[0].style.paddingTop;var a=this.dropdownlistContent[0].style.paddingBottom;if(x===""){x="0px";}if(a===""){a="0px";}G[0].style.paddingTop=x;G[0].style.paddingBottom=a;var z=G.outerHeight();if(z===0){z=16;}if((y.label==""||y.label==null)&&A){b.jqx.utilities.html(G,"");}var M=this.width&&this.width.toString().indexOf("%")<=0;G.remove();G.removeClass();if(this.selectionRenderer){b.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(G,y.index,y.label,y.value));if(this.focusable&&this.isOpened()){this.focus();}}else{if(this.checkboxes){var H=this.getCheckedItems();var F="";for(var B=0;B<H.length;B++){if(B==H.length-1){F+=H[B].label;}else{F+=H[B].label+",";}}G.text(F);if(M){G.css("max-width",this.host.width()-30);}G.css("overflow","hidden");G.css("display","block");if(!this.rtl){if(M){G.css("width",this.host.width()-30);}}G.css("text-overflow","ellipsis");G.css("padding-bottom",1+parseInt(a));this.dropdownlistContent.html(G);if(this.focusable&&this.isOpened()){this.focus();}}else{var L=this.host.width()-this.arrowSize-3;if(this.width&&this.width!=="auto"){if(M){if(!this.rtl){G.css("max-width",L+"px");}}G[0].style.overflow="hidden";G[0].style.display="block";G[0].style.paddingTop=(1+parseInt(a))+"px";if(!this.rtl){if(M){G[0].style.width=L+"px";}}G[0].style.textOverflow="ellipsis";}this.dropdownlistContent[0].innerHTML=G[0].innerHTML;if(this.focusable&&this.isOpened()){this.focus();}}}var I=this.host.height();if(this.height!=null&&this.height!=undefined){if(this.height.toString().indexOf("%")===-1){I=parseInt(this.height);}}var J=parseInt((parseInt(I)-parseInt(z))/2);if(J>0){this.dropdownlistContent[0].style.marginTop=J+"px";this.dropdownlistContent[0].style.marginBottom=J+"px";}if(this.selectionRenderer){this.dropdownlistContent[0].style.marginTop="0px";this.dropdownlistContent[0].style.marginBottom="0px";}if(this.dropdownlistContent&&this.input){this._updateInputSelection();}if(this.listBox&&this.listBox._activeElement){b.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id);}if(this.width==="auto"){this._arrange();}},_updateInputSelection:function(){if(this.input){var l=new Array();if(this.selectedIndex==-1){this.input.val("");}else{var i=this.getSelectedItem();if(i!=null){this.input.val(i.value);l.push(i.value);}else{this.input.val(this.dropdownlistContent.text());}}if(this.checkboxes){var a=this.getCheckedItems();var h="";if(a!=null){for(var k=0;k<a.length;k++){var j=a[k].value;if(j==undefined){continue;}if(k==a.length-1){h+=j;}else{h+=j+",";}l.push(j);}}this.input.val(h);}}if(this.field&&this.input){if(this.field.nodeName.toLowerCase()=="select"){b.each(this.field,function(d,c){b(this).removeAttr("selected");this.selected=l.indexOf(this.value)>=0;if(this.selected){b(this).attr("selected",true);}});}else{b.each(this.items,function(d,c){b(this.originalItem.originalItem).removeAttr("data-selected");this.selected=l.indexOf(this.value)>=0;if(this.selected){b(this.originalItem.originalItem).attr("data-selected",true);}});}}},setContent:function(a){b.jqx.utilities.html(this.dropdownlistContent,a);this._updateInputSelection();},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection();}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection();},clearSelection:function(a){this.selectedIndex=-1;this._updateInputSelection();this.listBox.clearSelection();this.renderSelection();if(!this.selectionRenderer){b.jqx.utilities.html(this.dropdownlistContent,this.placeHolder);}},unselectIndex:function(a,d){if(isNaN(a)){return;}this.listBox.unselectIndex(a,d);this.renderSelection();},selectIndex:function(a,g,f,h){this.listBox.selectIndex(a,g,f,h,"api");},getSelectedIndex:function(){return this.selectedIndex;},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex);},getCheckedItems:function(){return this.listBox.getCheckedItems();},checkIndex:function(a){this.listBox.checkIndex(a);},uncheckIndex:function(a){this.listBox.uncheckIndex(a);},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a);},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse");},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse");},addItem:function(a){return this.listBox.addItem(a);},insertAt:function(d,a){if(d==null){return false;}return this.listBox.insertAt(d,a);},removeAt:function(d){var a=this.listBox.removeAt(d);this.renderSelection("mouse");return a;},removeItem:function(d){var a=this.listBox.removeItem(d);this.renderSelection("mouse");return a;},updateItem:function(f,e){var a=this.listBox.updateItem(f,e);this.renderSelection("mouse");return a;},updateAt:function(e,f){var a=this.listBox.updateAt(e,f);this.renderSelection("mouse");return a;},ensureVisible:function(a){return this.listBox.ensureVisible(a);},disableAt:function(a){return this.listBox.disableAt(a);},enableAt:function(a){return this.listBox.enableAt(a);},disableItem:function(a){return this.listBox.disableItem(a);},enableItem:function(a){return this.listBox.enableItem(a);},_findPos:function(d){while(d&&(d.type=="hidden"||d.nodeType!=1||b.expr.filters.hidden(d))){d=d.nextSibling;}var a=b(d).coord(true);return[a.left,a.top];},testOffset:function(l,n,q){var m=l.outerWidth();var a=l.outerHeight();var k=b(window).width()+b(window).scrollLeft();var o=b(window).height()+b(window).scrollTop();if(n.left+m>k){if(m>this.host.width()){var p=this.host.coord().left;var r=m-this.host.width();n.left=p-r+2;}}if(n.left<0){n.left=parseInt(this.host.coord().left)+"px";}n.top-=Math.min(n.top,(n.top+a>o&&o>a)?Math.abs(a+q+22):0);return n;},open:function(){this.showListBox();},close:function(){this.hideListBox();},_getBodyOffset:function(){var d=0;var a=0;if(b("body").css("border-top-width")!="0px"){d=parseInt(b("body").css("border-top-width"));if(isNaN(d)){d=0;}}if(b("body").css("border-left-width")!="0px"){a=parseInt(b("body").css("border-left-width"));if(isNaN(a)){a=0;}}return{left:a,top:d};},showListBox:function(){b.jqx.aria(this,"aria-expanded",true);if(this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&(this.width.indexOf("%")!=-1||this.width.indexOf("auto")!=-1)){if(this.listBox.host.width()!=this.host.width()){var E=this.host.width();this.listBoxContainer.jqxListBox({width:E});this.container.width(parseInt(E)+25);}}var r=this;var D=this.listBoxContainer;var x=this.listBox;var u=b(window).scrollTop();var z=b(window).scrollLeft();var w=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var B,A=parseInt(Math.round(this.host.coord(true).left));B=A+"px";var s=b.jqx.mobile.isSafariMobileBrowser()||b.jqx.mobile.isWindowsPhone();if(this.listBox==null){return;}this.ishiding=false;if(!this.keyboardSelection){this.listBox.selectIndex(this.selectedIndex);this.listBox.ensureVisible(this.selectedIndex);}this.tempSelectedIndex=this.selectedIndex;if(this.autoDropDownHeight){this.container.height(this.listBoxContainer.height()+25);}if((s!=null&&s)){B=b.jqx.mobile.getLeftPos(this.element);w=b.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(b("body").css("border-top-width")!="0px"){w=parseInt(w)-this._getBodyOffset().top+"px";}if(b("body").css("border-left-width")!="0px"){B=parseInt(B)-this._getBodyOffset().left+"px";}}D.stop();if(this.renderMode!=="simple"){this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));}this.container.css("left",B);this.container.css("top",w);x._arrange();var C=true;var a=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var v=this.container.outerWidth();var F=Math.abs(v-this.host.width());if(v>this.host.width()){this.container.css("left",25+parseInt(Math.round(A))-F+"px");}else{this.container.css("left",25+parseInt(Math.round(A))+F+"px");}}if(this.enableBrowserBoundsDetection){var y=this.testOffset(D,{left:parseInt(this.container.css("left")),top:parseInt(w)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=y.top){a=true;D.css("top",23);D.addClass(this.toThemeProperty("jqx-popup-up"));}else{D.css("top",0);}this.container.css("top",y.top);if(parseInt(this.container.css("left"))!=y.left){this.container.css("left",y.left);}}if(this.animationType=="none"){this.container.css("display","block");b.data(document.body,"openedJQXListBoxParent",r);b.data(document.body,"openedJQXListBox"+this.id,D);D.css("margin-top",0);D.css("opacity",1);x._renderItems();r._raiseEvent("0",x);}else{this.container.css("display","block");r.isanimating=true;if(this.animationType=="fade"){D.css("margin-top",0);D.css("opacity",0);D.animate({opacity:1},this.openDelay,function(){b.data(document.body,"openedJQXListBoxParent",r);b.data(document.body,"openedJQXListBox"+r.id,D);r.ishiding=false;r.isanimating=false;x._renderItems();r._raiseEvent("0",x);});}else{D.css("opacity",1);var t=D.outerHeight();if(a){D.css("margin-top",t);}else{D.css("margin-top",-t);}D.animate({"margin-top":0},this.openDelay,function(){b.data(document.body,"openedJQXListBoxParent",r);b.data(document.body,"openedJQXListBox"+r.id,D);r.ishiding=false;r.isanimating=false;x._renderItems();r._raiseEvent("0",x);});}}if(!a){this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded"));D.addClass(this.toThemeProperty("jqx-rc-t-expanded"));}else{this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded"));D.addClass(this.toThemeProperty("jqx-rc-b-expanded"));}if(this.renderMode!=="simple"){D.addClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"));}},hideListBox:function(){b.jqx.aria(this,"aria-expanded",false);var i=this.listBoxContainer;var h=this.listBox;var l=this.container;var k=this;b.data(document.body,"openedJQXListBox"+this.id,null);if(this.animationType=="none"){this.container.css("display","none");}else{if(!k.ishiding){i.stop();var a=i.outerHeight();i.css("margin-top",0);k.isanimating=true;var j=-a;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){j=a;}if(this.animationType=="fade"){i.css({opacity:1});i.animate({opacity:0},this.closeDelay,function(){l.css("display","none");k.isanimating=false;k.ishiding=false;});}else{i.animate({"margin-top":j},this.closeDelay,function(){l.css("display","none");k.isanimating=false;k.ishiding=false;});}}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));i.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));i.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));i.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("1",h);},closeOpenedListBox:function(j){var k=j.data.me;var a=b(j.target);var l=j.data.listbox;if(l==null){return true;}if(b(j.target).ischildof(j.data.me.host)){return true;}if(!k.isOpened()){return true;}var i=k;var h=false;b.each(a.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1){h=true;return false;}if(this.className.indexOf("jqx-dropdownlist")!=-1){if(k.element.id==this.id){h=true;}return false;}}}});if(l!=null&&!h&&k.isOpened()){k.hideListBox();}return true;},clearFilter:function(){this.listBox.clearFilter();},loadFromSelect:function(a){this.listBox.loadFromSelect(a);},refresh:function(a){if(a!==true){this._setSize();this._arrange();if(this.listBox){this.renderSelection();}}},_arrange:function(){var l=this;var p=parseInt(l.host.width());var a=parseInt(l.host.height());var n=l.arrowSize;var m=l.arrowSize;var k=3;var r=p-m-2*k;if(r>0&&l.width!=="auto"){l.dropdownlistContent[0].style.width=r+"px";}else{if(r<=0){l.dropdownlistContent[0].style.width="0px";}}if(l.width==="auto"){l.dropdownlistContent.css("width","auto");p=l.dropdownlistContent.width()+m+2*k;l.host.width(p);}l.dropdownlistContent[0].style.height=a+"px";l.dropdownlistContent[0].style.left="0px";l.dropdownlistContent[0].style.top="0px";l.dropdownlistArrow[0].style.width=m+"px";if(l.width&&l.width.toString().indexOf("%")>=0){var o=(m*100)/p;var q=(r*100)/p;l.dropdownlistArrow[0].style.width=o+"%";l.dropdownlistContent[0].style.width=q+"%";}l.dropdownlistArrow[0].style.height=a+"px";if(l.rtl){l.dropdownlistArrow.css("float","left");l.dropdownlistContent.css("float","right");}},destroy:function(){b.jqx.utilities.resize(this.host,null,true);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandler(this.listBoxContainer,"bindingComplete");if(this.host.parents()){this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id);}this.removeHandlers();this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(b(document),"mousedown."+this.id,this.closeOpenedListBox);if(this.touch){this.removeHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id);}this.dropdownlistArrow.remove();delete this.dropdownlistArrow;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.arrow;delete this.dropdownlistContent;delete this.listBox;delete this._firstDiv;this.container.remove();delete this.container;var a=b.data(this.element,"jqxDropDownList");if(a){delete a.instance;}this.host.removeData();this.host.remove();delete this.comboStructure;delete this.host;delete this.set;delete this.get;delete this.call;delete this.element;},_raiseEvent:function(g,j){if(j==undefined){j={owner:null};}var i=this.events[g];args=j;args.owner=this;var h=new b.Event(i);h.owner=this;if(g==2||g==3||g==4||g==5){h.args=j;}var a=this.host.trigger(h);return a;},propertyChangedHandler:function(a,j,g,h){if(a.isInitialized==undefined||a.isInitialized==false){return;}if(j=="filterable"){a.listBoxContainer.jqxListBox({filterable:h});}if(j=="filterHeight"){a.listBoxContainer.jqxListBox({filterHeight:h});}if(j=="filterPlaceHolder"){a.listBoxContainer.jqxListBox({filterPlaceHolder:h});}if(j=="filterDelay"){a.listBoxContainer.jqxListBox({filterDelay:h});}if(j=="enableSelection"){a.listBoxContainer.jqxListBox({enableSelection:h});}if(j=="enableHover"){a.listBoxContainer.jqxListBox({enableHover:h});}if(j=="autoOpen"){a._updateHandlers();}if(j=="emptyString"){a.listBox.emptyString=a.emptyString;}if(j=="itemHeight"){a.listBoxContainer.jqxListBox({itemHeight:h});}if(j=="renderer"){a.listBoxContainer.jqxListBox({renderer:h});}if(j=="rtl"){if(h){a.dropdownlistArrow.css("float","left");a.dropdownlistContent.css("float","right");}else{a.dropdownlistArrow.css("float","right");a.dropdownlistContent.css("float","left");}a.listBoxContainer.jqxListBox({rtl:a.rtl});}if(j=="source"){a.listBoxContainer.jqxListBox({source:a.source});a.listBox.selectedIndex=-1;a.listBox.selectIndex(this.selectedIndex);a.renderSelection();if(h==null){a.clear();}}if(j=="displayMember"||j=="valueMember"){a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember});a.renderSelection();}if(j=="placeHolder"){a.renderSelection();}if(j=="theme"&&h!=null){a.listBoxContainer.jqxListBox({theme:h});a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup"));b.jqx.utilities.setTheme(g,h,a.host);}if(j=="autoDropDownHeight"){a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight});if(a.autoDropDownHeight){a.container.height(a.listBoxContainer.height()+25);}else{a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25);}a.listBox._arrange();a.listBox._updatescrollbars();}if(j=="searchMode"){a.listBoxContainer.jqxListBox({searchMode:a.searchMode});}if(j=="incrementalSearch"){a.listBoxContainer.jqxListBox({incrementalSearch:a.incrementalSearch});}if(j=="incrementalSearchDelay"){a.listBoxContainer.jqxListBox({incrementalSearchDelay:a.incrementalSearchDelay});}if(j=="dropDownHeight"){if(!a.autoDropDownHeight){a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25);}}if(j=="dropDownWidth"||j=="scrollBarSize"){var i=a.width;if(a.dropDownWidth!="auto"){i=a.dropDownWidth;}a.listBoxContainer.jqxListBox({width:i,scrollBarSize:a.scrollBarSize});a.container.width(parseInt(i)+25);}if(j=="width"||j=="height"){if(h!=g){this.refresh();if(j=="width"){if(a.dropDownWidth=="auto"){var i=a.host.width();a.listBoxContainer.jqxListBox({width:i});a.container.width(parseInt(i)+25);}}}}if(j=="checkboxes"){a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes});}if(j=="selectedIndex"){if(a.listBox!=null){a.listBox.selectIndex(parseInt(h));a.renderSelection();}}}});})(jqxBaseFramework);