(function(b){b.jqx.jqxWidget("jqxPanel","",{});b.extend(b.jqx._jqxPanel.prototype,{defineInstance:function(){var a={width:null,height:null,disabled:false,scrollBarSize:b.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:false,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:false,events:["layout"]};b.extend(true,this,a);return a;},createInstance:function(a){this.render();},render:function(){var a=this;if(b.jqx.utilities.scrollBarSize!=15){this.scrollBarSize=b.jqx.utilities.scrollBarSize;}this.host.addClass(this.toThemeProperty("jqx-panel"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));var l=b("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton){throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");}if(!this.host.jqxScrollBar){throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");}var k=this.host.children();this._rtl=false;if(k.length>0&&k.css("direction")=="rtl"){this.rtl=true;this._rtl=true;}this.host.wrapInner(l);var h=this.host.find("#verticalScrollBar");h[0].id=this.element.id+"verticalScrollBar";this.vScrollBar=h.jqxScrollBar({vertical:true,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var i=this.host.find("#horizontalScrollBar");i[0].id=this.element.id+"horizontalScrollBar";this.hScrollBar=i.jqxScrollBar({vertical:false,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#panelContent");this.wrapper=this.host.find("#panelWrapper");this.content.addClass(this.toThemeProperty("jqx-widget-content"));this.wrapper[0].id=this.wrapper[0].id+this.element.id;this.content[0].id=this.content[0].id+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","inherit");this.hScrollBar.css("visibility","inherit");this.vScrollInstance=b.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=b.data(this.hScrollBar[0],"jqxScrollBar").instance;var j=this;this.propertyChangeMap.disabled=function(f,d,e,c){j.vScrollBar.jqxScrollBar({disabled:j.disabled});j.hScrollBar.jqxScrollBar({disabled:j.disabled});};this.vScrollBar.jqxScrollBar({disabled:this.disabled});this.hScrollBar.jqxScrollBar({disabled:this.disabled});this._addHandlers();if(this.width==null){this.width=this.content.width();}if(this.height==null){this.height=this.content.height();}this._arrange();this.contentWidth=j.content[0].scrollWidth;this.contentHeight=j.content[0].scrollHeight;if(this.autoUpdate){j._autoUpdate();}this.propertyChangeMap.autoUpdate=function(f,d,e,c){if(j.autoUpdate){j._autoUpdate();}else{clearInterval(j.autoUpdateId);j.autoUpdateId=null;}};this.addHandler(b(window),"unload",function(){if(j.autoUpdateId!=null){clearInterval(j.autoUpdateId);j.autoUpdateId=null;j.destroy();}});this._updateTouchScrolling();this._render();},hiddenParent:function(){return b.jqx.isHidden(this.host);},_updateTouchScrolling:function(){var a=this;if(this.touchMode==true){b.jqx.mobile.setMobileSimulator(this.element);}var d=this.isTouchDevice();if(d){b.jqx.mobile.touchScroll(this.element,a.vScrollInstance.max,function(c,g){if(a.vScrollBar.css("visibility")!="hidden"){var h=a.vScrollInstance.value;a.vScrollInstance.setPosition(h+g);}if(a.hScrollBar.css("visibility")!="hidden"){var h=a.hScrollInstance.value;a.hScrollInstance.setPosition(h+c);}},this.element.id,this.hScrollBar,this.vScrollBar);this._arrange();}this.vScrollBar.jqxScrollBar({touchMode:this.touchMode});this.hScrollBar.jqxScrollBar({touchMode:this.touchMode});},isTouchDevice:function(){var a=b.jqx.mobile.isTouchDevice();if(this.touchMode==true){a=true;}else{if(this.touchMode==false){a=false;}}if(a&&this.touchModeStyle!=false){this.scrollBarSize=b.jqx.utilities.touchScrollBarSize;}return a;},append:function(a){if(a!=null){this.content.append(a);this._arrange();}},setcontent:function(a){this.content[0].innerHTML=a;this._arrange();var d=this;setTimeout(function(){d._arrange();},100);},prepend:function(a){if(a!=null){this.content.prepend(a);this._arrange();}},clearcontent:function(){this.content.text("");this.content.children().remove();this._arrange();},remove:function(a){if(a!=null){b(a).remove();this._arrange();}},_autoUpdate:function(){var a=this;this.autoUpdateId=setInterval(function(){var g=a.content[0].scrollWidth;var h=a.content[0].scrollHeight;var f=false;if(a.contentWidth!=g){a.contentWidth=g;f=true;}if(a.contentHeight!=h){a.contentHeight=h;f=true;}if(f){a._arrange();}},this.autoUpdateInterval);},_addHandlers:function(){var a=this;this.addHandler(this.vScrollBar,"valueChanged",function(d){a._render(a);});this.addHandler(this.hScrollBar,"valueChanged",function(d){a._render(a);});this.addHandler(this.host,"mousewheel",function(d){a.wheel(d,a);});this.addHandler(this.wrapper,"scroll",function(d){if(a.wrapper[0].scrollTop!=0){a.wrapper[0].scrollTop=0;}if(a.wrapper[0].scrollLeft!=0){a.wrapper[0].scrollLeft=0;}});this.addHandler(this.host,"mouseleave",function(d){a.focused=false;});this.addHandler(this.host,"focus",function(d){a.focused=true;});this.addHandler(this.host,"blur",function(d){a.focused=false;});this.addHandler(this.host,"mouseenter",function(d){a.focused=true;});b.jqx.utilities.resize(this.host,function(){if(b.jqx.isHidden(a.host)){return;}a._arrange(false);});},resize:function(d,a){this.width=d;this.height=a;this._arrange(false);},_removeHandlers:function(){var a=this;this.removeHandler(this.vScrollBar,"valueChanged");this.removeHandler(this.hScrollBar,"valueChanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.wrapper,"scroll");this.removeHandler(b(window),"resize."+this.element.id);},wheel:function(g,h){var f=0;if(g.originalEvent&&b.jqx.browser.msie&&g.originalEvent.wheelDelta){f=g.originalEvent.wheelDelta/120;}if(!g){g=window.event;}if(g.wheelDelta){f=g.wheelDelta/120;}else{if(g.detail){f=-g.detail/3;}}if(f){var a=h._handleDelta(f);if(!a){if(g.preventDefault){g.preventDefault();}}if(!a){return a;}else{return false;}}if(g.preventDefault){g.preventDefault();}g.returnValue=false;},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false;}var a=this.vScrollInstance;if(a.value+a.largestep<=a.max){a.setPosition(a.value+a.largestep);return true;}else{if(a.value+a.largestep!=a.max){a.setPosition(a.max);return true;}}return false;},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false;}var a=this.vScrollInstance;if(a.value-a.largestep>=a.min){a.setPosition(a.value-a.largestep);return true;}else{if(a.value-a.largestep!=a.min){a.setPosition(a.min);return true;}}return false;},_handleDelta:function(e){if(this.focused){var f=this.vScrollInstance.value;if(e<0){this.scrollDown();}else{this.scrollUp();}var a=this.vScrollInstance.value;if(f!=a){return false;}}return true;},_render:function(f){if(f==undefined){f=this;}var a=f.vScrollInstance.value;var e=f.hScrollInstance.value;if(this.rtl){if(this.hScrollBar[0].style.visibility!="hidden"){if(this._rtl==false){e=f.hScrollInstance.max-e;}else{e=-f.hScrollInstance.value;}}}f.content.css({left:-e+"px",top:-a+"px"});},scrollTo:function(d,a){if(d==undefined||a==undefined){return;}this.vScrollInstance.setPosition(a);this.hScrollInstance.setPosition(d);},getScrollHeight:function(){return this.vScrollInstance.max;},getVScrollPosition:function(){return this.vScrollInstance.value;},getScrollWidth:function(){return this.hScrollInstance.max;},getHScrollPosition:function(){return this.hScrollInstance.value;},_getScrollSize:function(){var a=this.scrollBarSize;if(isNaN(a)){a=parseInt(a);if(isNaN(a)){a="17px";}else{a=a+"px";}}if(this.isTouchDevice()){a=b.jqx.utilities.touchScrollBarSize;}a=parseInt(a);return a;},_getScrollArea:function(){var f=0;this.content.css("margin-right","0px");this.content.css("max-width","9999999px");if(b.jqx.browser.msie&&b.jqx.browser.version<10){f=parseInt(this.content.css("left"));this.content.css("left",0);}this.content.css("overflow","auto");if(this.rtl){this.content.css("direction","rtl");}var a=parseInt(this.content[0].scrollWidth);b.each(this.content.children(),function(){a=Math.max(a,this.scrollWidth);a=Math.max(a,b(this).outerWidth());});if(b.jqx.browser.msie&&b.jqx.browser.version<10){this.content.css("left",f);}var e=parseInt(this.content[0].scrollHeight);this.content.css("overflow","visible");if(b.jqx.browser.msie&&b.jqx.browser.version<9){var e=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var e=parseInt(this.content[0].scrollHeight);var a=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var e=parseInt(this.content[0].scrollHeight);break;}}if(this.rtl){this.content.css("direction","ltr");}return{width:a,height:e};},_arrange:function(r){if(r!==false){if(this.width!=null){this.host.width(this.width);}if(this.height!=null){this.host.height(this.height);}}var x=this._getScrollSize();var v=this.host.width();var n=this.host.height();var u=this._getScrollArea();var w=u.width;var o=u.height;var q=o-parseInt(Math.round(this.host.height()));var s=w-parseInt(Math.round(this.host.width()));if(this.horizontalScrollBarMax!=undefined){s=this.horizontalScrollBarMax;}if(this.verticalScrollBarMax!=undefined){q=this.verticalScrollBarMax;}var p=function(d,c){var e=5;if(c>e){d.vScrollBar.jqxScrollBar({max:c});d.vScrollBar.css("visibility","inherit");}else{d.vScrollBar.jqxScrollBar("setPosition",0);d.vScrollBar.css("visibility","hidden");}};var a=function(c,d){if(d>0){if(b.jqx.browser.msie&&b.jqx.browser.version<8){if(d-10<=x){c.hScrollBar.css("visibility","hidden");c.hScrollBar.jqxScrollBar("setPosition",0);}else{c.hScrollBar.jqxScrollBar({max:d+4});c.hScrollBar.css("visibility","inherit");}}else{c.hScrollBar.jqxScrollBar({max:d+4});c.hScrollBar.css("visibility","inherit");}}else{c.hScrollBar.css("visibility","hidden");c.hScrollBar.jqxScrollBar("setPosition",0);}};switch(this.sizeMode){case"wrap":this.host.width(w);this.host.height(o);this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");return;case"horizontalWrap":case"horizontalwrap":this.host.width(w);this.hScrollBar.css("visibility","hidden");p(this,q);this._arrangeScrollbars(x,w,n);return;case"verticalWrap":case"verticalwrap":this.host.height(o);this.vScrollBar.css("visibility","hidden");a(this,s);this._arrangeScrollbars(x,v,n);return;}p(this,q);var t=2;if(this.vScrollBar.css("visibility")!="hidden"){if(this.horizontalScrollBarMax==undefined){if((!this.isTouchDevice()&&s>0)||(s>0)){s+=x+t;}}}a(this,s);if(this.hScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar({max:q+x+t});}this._arrangeScrollbars(x,v,n);},_arrangeScrollbars:function(r,p,a){var k=this.vScrollBar[0].style.visibility!="hidden";var n=this.hScrollBar[0].style.visibility!="hidden";var l=2;var m=2;this.hScrollBar.height(r);this.hScrollBar.css({top:a-r-l-m+"px",left:"0px"});this.hScrollBar.width(p-l+"px");this.vScrollBar.width(r);this.vScrollBar.height(parseInt(a)-l+"px");this.vScrollBar.css({left:parseInt(p)-parseInt(r)-l-m+"px",top:"0px"});if(this.rtl){this.vScrollBar.css({left:"0px"});var q=k?parseInt(r)+"px":0;if(this.content.children().css("direction")!="rtl"){var o=false;if(b.jqx.browser.msie&&b.jqx.browser.version<8){o=true;}if(!o){this.content.css("padding-left",q);}}}else{if(this.vScrollBar.css("visibility")!="hidden"){this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());}}if((this.vScrollBar.css("visibility")!="hidden")&&(this.hScrollBar.css("visibility")!="hidden")){this.bottomRight.css("visibility","inherit");this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))});this.bottomRight.width(parseInt(r)+3);this.bottomRight.height(parseInt(r)+3);if(this.rtl){this.bottomRight.css({left:"0px"});this.hScrollBar.css({left:r+m+"px"});}this.hScrollBar.width(p-(1*r)-l-m+"px");this.vScrollBar.height(parseInt(a)-l-r-m+"px");}else{this.bottomRight.css("visibility","hidden");}this.hScrollInstance.refresh();this.vScrollInstance.refresh();},destroy:function(){clearInterval(this.autoUpdateId);this.autoUpdateId=null;this.autoUpdate=false;b.jqx.utilities.resize(this.host,null,true);this._removeHandlers();this.removeHandler(b(window),"unload");this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.host.remove();},_raiseevent:function(h,k,i){if(this.isInitialized!=undefined&&this.isInitialized==true){var l=this.events[h];var j=new b.Event(l);j.previousValue=k;j.currentValue=i;j.owner=this;var a=this.host.trigger(j);return a;}},beginUpdateLayout:function(){this.updating=true;},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this.hScrollInstance.value=0;this._arrange();this._render();},propertyChangedHandler:function(h,g,a,f){if(!h.isInitialized){return;}if(g=="rtl"){this.vScrollBar.jqxScrollBar({rtl:f});this.hScrollBar.jqxScrollBar({rtl:f});h._arrange();}if(!h.updating){if(g=="scrollBarSize"||g=="width"||g=="height"){if(a!=f){h._arrange();}}}if(g=="touchMode"){if(f!="auto"){h._updateTouchScrolling();}}if(g=="theme"){h.host.removeClass();h.host.addClass(this.toThemeProperty("jqx-panel"));h.host.addClass(this.toThemeProperty("jqx-widget"));h.host.addClass(this.toThemeProperty("jqx-widget-content"));h.host.addClass(this.toThemeProperty("jqx-rc-all"));h.vScrollBar.jqxScrollBar({theme:this.theme});h.hScrollBar.jqxScrollBar({theme:this.theme});h.bottomRight.removeClass();h.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright"));h.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));h.content.removeClass();h.content.addClass(this.toThemeProperty("jqx-widget-content"));}},invalidate:function(){if(b.jqx.isHidden(this.host)){return;}this.refresh();},refresh:function(a){this._arrange();}});})(jqxBaseFramework);