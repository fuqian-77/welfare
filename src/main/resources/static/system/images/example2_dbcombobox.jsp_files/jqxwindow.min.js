(function(f){f.jqx.jqxWidget("jqxWindow","",{});f.extend(f.jqx._jqxWindow.prototype,{defineInstance:function(){var a={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:true,disabled:false,autoOpen:true,keyboardCloseKey:"esc",title:"",content:"",draggable:true,resizable:true,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:false,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:0.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:false,Cancel:false,None:true},collapsed:false,showCollapseButton:false,collapseAnimationDuration:150,collapseButtonSize:16,rtl:false,keyboardNavigation:true,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:true,restricter:null,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:null,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:false,_isDragging:false,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:true,modalBackgroundZIndex:12990,modalZIndex:18000,zIndex:9001,_touchEvents:{mousedown:f.jqx.mobile.getTouchEventName("touchstart"),mouseup:f.jqx.mobile.getTouchEventName("touchend"),mousemove:f.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:f.jqx.mobile.getTouchEventName("touchstart")}};f.extend(true,this,a);return a;},createInstance:function(){this.host.attr("role","dialog");this.host.removeAttr("data-bind");this.host.detach();f(document.body).append(this.host);var b=this;var a=function(){var p=parseInt(f(b.restricter).css("padding-top"));var q=parseInt(f(b.restricter).css("padding-left"));var o=parseInt(f(b.restricter).css("padding-bottom"));var d=parseInt(f(b.restricter).css("padding-right"));var n=f(b.restricter).coord();b.dragArea={left:q+n.left,top:p+n.top,width:1+d+f(b.restricter).width(),height:1+o+f(b.restricter).height()};};if(this.restricter){a();}if(this.restricter){this.addHandler(f(window),"resize."+this.element.id,function(){a();});this.addHandler(f(window),"orientationchanged."+this.element.id,function(){a();});this.addHandler(f(window),"orientationchange."+this.element.id,function(){a();});}this._isTouchDevice=f.jqx.mobile.isTouchDevice();this._validateProperties();this._createStructure();this._refresh();if(!this.autoOpen){this.host.css("display","none");}if(f.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"));}if(!this.isModal){this._fixWindowZIndex();}this._setStartupSettings();this._positionWindow();this._raiseEvent(0);if(this.autoOpen){this._performLayout();var c=this;if(this.isModal){this._fixWindowZIndex("modal-show");}if(c.initContent){c.initContent();c._contentInitialized=true;}this._raiseEvent(7);this._raiseEvent(9);}},refresh:function(){this._performLayout();},_setStartupSettings:function(){if(this.disabled){this.disable();}if(this.collapsed){this.collapsed=false;this.collapse(0);}if(!this.autoOpen){this.hide(null,0.001,true);this._visible=false;}if(this.title!==null&&this.title!==""){this.setTitle(this.title);}if(this.content!==null&&this.content!==""){this.setContent(this.content);}this.title=this._headerContentWrapper.html();this.content=this._content.html();},_fixWindowZIndex:function(b){var s=f.data(document.body,"jqxwindows-list")||[],a=this.zIndex,p;if(!this.isModal){if(this._indexOf(this.host,s)<0){s.push(this.host);}f.data(document.body,"jqxwindows-list",s);if(s.length>1){var r=s[s.length-2];a=parseInt(r.css("z-index"),10)+1;}}else{if(s){s=this._removeFromArray(this.host,s);f.data(document.body,"jqxwindows-list",s);}var q=f.data(document.body,"jqxwindows-modallist");if(!q){if(b=="modal-show"){var d=new Array();d.push(this.host);f.data(document.body,"jqxwindows-modallist",d);q=d;}else{f.data(document.body,"jqxwindows-modallist",new Array());q=new Array();}}else{if(b=="modal-show"){q.push(this.host);}else{var o=q.indexOf(this.host);if(o!=-1){q.splice(o,1);}}}a=this.modalZIndex;var c=this;f.each(q,function(i){if(this.data()){if(this.data().jqxWindow){var k=this.data().jqxWindow.instance;k._modalBackground.css("z-index",a);k.host.css("z-index",a+1);a+=2;}}});f.data(document.body,"jqxwindow-modal",this.host);return;}this.host.css("z-index",a);this._sortByStyle("z-index",s);},_validateProperties:function(){try{this._validateSize();this._validateAnimationProperties();this._validateInteractionProperties();this._validateModalProperties();if(!this.position){throw new Error(this._invalidArgumentExceptions.invalidPosition);}if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);}if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize);}}catch(a){alert(a);}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1){throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);}if(this.isModal&&!this._singleModalCheck()){throw new Error(this._invalidArgumentExceptions.invalidIsModal);}},_validateSize:function(){this._validateSizeLimits();if(this.height!=="auto"&&isNaN(parseInt(this.height))){throw new Error(this._invalidArgumentExceptions.invalidHeight);}if(this.width!=="auto"&&isNaN(parseInt(this.width))){throw new Error(this._invalidArgumentExceptions.invalidWidth);}if(this.height!=="auto"&&this.height<this.minHeight){this.height=this.minHeight;}if(this.width<this.minWidth){this.width=this.minWidth;}if(this.height!=="auto"&&this.height>this.maxHeight){this.height=this.maxHeight;}if(this.width>this.maxWidth){this.width=this.maxWidth;}if(this.dragArea===null){return;}if(this.dragArea&&((this.dragArea.height!==null&&this.host.height()>this.dragArea.height)||(parseInt(this.height,10)>this.dragArea.height))||(this.dragArea.width!==null&&this.width>this.dragArea.width)||(this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)){}},_validateSizeLimits:function(){if(this.maxHeight==null){this.maxHeight=9999;}if(this.minWidth==null){this.minWidth=0;}if(this.maxWidth==null){this.maxWidth=9999;}if(this.minHeight==null){this.minHeight=0;}if(isNaN(parseInt(this.minHeight))){throw new Error(this._invalidArgumentExceptions.invalidMinHeight);}if(isNaN(parseInt(this.maxHeight))){throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);}if(isNaN(parseInt(this.minWidth))){throw new Error(this._invalidArgumentExceptions.invalidMinWidth);}if(isNaN(parseInt(this.maxWidth))){throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);}if(this.minHeight>this.maxHeight){throw new Error(this._invalidArgumentExceptions.invalidMinHeight);}if(this.minWidth>this.maxWidth){throw new Error(this._invalidArgumentExceptions.invalidMinWidth);}},_validateAnimationProperties:function(){if(this.animationType!=="fade"&&this.animationType!=="slide"&&this.animationType!=="combined"&&this.animationType!=="none"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType);}if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);}if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration);}},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&this.keyCode!=="esc"){throw new Error(this._invalidArgumentExceptions.invalidKeyCode);}if(this.dragArea!==null&&(typeof this.dragArea.width==="undefined"||typeof this.dragArea.height==="undefined"||typeof this.dragArea.left==="undefined"||typeof this.dragArea.top==="undefined")){throw new Error(this._invalidArgumentExceptions.invalidDragArea);}if(!this.dialogResult||(!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)){throw new Error(this._invalidArgumentExceptions.invalidDialogResult);}if(this.closeButtonAction!=="hide"&&this.closeButtonAction!=="close"){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction);}},_singleModalCheck:function(){var b=f.data(document.body,"jqxwindows-list")||[],a=b.length;while(a){a-=1;if(f(b[a].attr("id")).length>0){if(f(b[a].attr("id")).jqxWindow("isModal")){return false;}}}return true;},_createStructure:function(){var a=this.host.children("DIV");if(a.length===1){this._header=f("<div>"+this.host.attr("caption")+"</div>");this.host.prepend(this._header);this.host.attr("caption","");this._content=f(a[0]);}else{if(a.length===2){this._header=f(a[0]);this._content=f(a[1]);}else{throw new Error("Invalid structure!");}}},_refresh:function(){this._render();this._addStyles();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initializeResize();},_render:function(){this._addHeaderWrapper();this._addCloseButton();this._addCollapseButton();this._removeModal();this._makeModal();},_addHeaderWrapper:function(){if(!this._headerContentWrapper){this._header.wrapInner('<div style="float:left;"></div>');this._headerContentWrapper=this._header.children(0);if(this.headerHeight!==null){this._header.height(this.headerHeight);}}},_addCloseButton:function(){if(!this._closeButton){this._closeButtonWrapper=f('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>');this._closeButton=f('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');this._closeButtonWrapper.append(this._closeButton);this._header.append(this._closeButtonWrapper);}},_addCollapseButton:function(){if(!this._collapseButton){this._collapseButtonWrapper=f('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>');this._collapseButton=f('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>');this._collapseButtonWrapper.append(this._collapseButton);this._header.append(this._collapseButtonWrapper);}},_removeModal:function(){if(!this.isModal&&typeof this._modalBackground==="object"&&this._modalBackground!==null&&this._modalBackground.length>=1){f("."+this.toThemeProperty("jqx-window-modal")).remove();this._modalBackground=null;}},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus();},10);}catch(b){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var a=f.data(document.body,"jqxwindows-list");if(a){this._removeFromArray(this.host,a);f.data(document.body,"jqxwindows-list",a);}this._modalBackground=f("<div></div>");this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal"));this._setModalBackgroundStyles();f(document.body).append(this._modalBackground);this.addHandler(this._modalBackground,this._getEvent("click"),function(){return false;});var b=this;var c=function(l,d){var m=f(l).parents().get();for(j=0;j<m.length;j++){if(f(m[j]).is(d)){return true;}}return false;};this.addHandler(this._modalBackground,"mouseup",function(d){b._stopResizing(b);d.preventDefault();});this.addHandler(this._modalBackground,"mousedown",function(d){var k=b._getTabbables();if(k.length>0){k[0].focus(1);setTimeout(function(){k[0].focus(1);},100);}d.preventDefault();return false;});this.addHandler(f(document),"keydown.window"+this.element.id,function(n){if(n.keyCode!==9){return;}var q=f.data(document.body,"jqxwindows-modallist");if(q.length>1){if(q[q.length-1][0]!=b.element){return;}}var o=b._getTabbables();var d=null;var p=null;if(o.length>0){d=o[0];p=o[o.length-1];}if(n.target==b.element){return;}if(d==null){return;}if(!c(n.target,b.host)){d.focus(1);return false;}if(n.target===p&&!n.shiftKey){d.focus(1);return false;}else{if(n.target===d&&n.shiftKey){p.focus(1);return false;}}});}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-window"));this.host.addClass(this.toThemeProperty("jqx-popup"));if(f.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"));}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-window-header"));this._content.addClass(this.toThemeProperty("jqx-window-content"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-disableselect"));this._header.addClass(this.toThemeProperty("jqx-rc-t"));this._content.addClass(this.toThemeProperty("jqx-rc-b"));if(!this.host.attr("tabindex")){this.element.tabIndex=0;this.host.children().css("tab-index",0);}this.host.attr("hideFocus","true").css("outline","none");},_performHeaderLayout:function(){this._handleHeaderButtons();this._header.css("position","relative");if(this.rtl){this._headerContentWrapper.css("direction","rtl");this._headerContentWrapper.css("float","right");}else{this._headerContentWrapper.css("direction","ltr");this._headerContentWrapper.css("float","left");}this._performHeaderCloseButtonLayout();this._performHeaderCollapseButtonLayout();this._centerElement(this._headerContentWrapper,this._header,"y","margin");if(this.headerHeight){this._centerElement(this._closeButtonWrapper,this._header,"y","margin");this._centerElement(this._collapseButtonWrapper,this._header,"y","margin");}},_handleHeaderButtons:function(){if(!this._closeButtonWrapper){return;}if(!this.showCloseButton){this._closeButtonWrapper.css("visibility","hidden");}else{this._closeButtonWrapper.css("visibility","visible");this._closeButtonWrapper.width(this.closeButtonSize);this._closeButtonWrapper.height(this.closeButtonSize);}if(!this.showCollapseButton){this._collapseButtonWrapper.css("visibility","hidden");}else{this._collapseButtonWrapper.css("visibility","visible");this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize);}},_performHeaderCloseButtonLayout:function(){if(!this._closeButtonWrapper){return;}var a=parseInt(this._header.css("padding-right"),10);if(!isNaN(a)){this._closeButtonWrapper.width(this._closeButton.width());if(!this.rtl){this._closeButtonWrapper.css("margin-right",a);this._closeButtonWrapper.css("margin-left","0px");}else{this._closeButtonWrapper.css("margin-left",a);this._closeButtonWrapper.css("margin-right","0px");}}if(!this.rtl){this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""});}else{this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""});}},_performHeaderCollapseButtonLayout:function(){if(!this._closeButtonWrapper){return;}var a=parseInt(this._header.css("padding-right"),10);if(!isNaN(a)){this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize);if(!this.rtl){this._collapseButtonWrapper.css("margin-right",a);this._collapseButtonWrapper.css("margin-left","0px");}else{this._collapseButtonWrapper.css("margin-left",a);this._collapseButtonWrapper.css("margin-right","0px");}}if(!this.rtl){this._collapseButtonWrapper.css({position:"absolute",right:(this.showCloseButton)?this._closeButton.outerWidth(true):0,left:""});}else{this._collapseButtonWrapper.css({position:"absolute",left:(this.showCloseButton)?this._closeButton.outerWidth(true):0,right:""});}this._centerElement(this._collapseButton,this._collapseButton.parent(),"y");},_performWidgetLayout:function(){var a;if(this.width!=="auto"){this.host.css("width",this.width);}if(!this.collapsed){if(this.height!=="auto"){this.host.height(this.height);}else{this.host.height(this.host.height());}this.host.css("min-height",this.minHeight);}this._setChildrenLayout();a=this._validateMinSize();this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth});if(!a){this._setChildrenLayout();}},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(true)-this._header.width()));this._content.width(this.host.width()-(this._content.outerWidth(true)-this._content.width()));this._content.height(this.host.height()-this._header.outerHeight(true)-(this._content.outerHeight(true)-this._content.height()));},_validateMinSize:function(){var c=true;if(this.minHeight<this._header.height()){this.minHeight=this._header.height();c=false;}var a=this._header.children(0).outerWidth(true),d=this._header.children(1).outerWidth(true),b=a+d;if(this.minWidth<100){this.minWidth=Math.min(b,100);c=false;}return c;},_centerElement:function(a,c,d,b){if(typeof c.left==="number"&&typeof c.top==="number"&&typeof c.height==="number"&&typeof c.width==="number"){this._centerElementInArea(a,c,d);}else{this._centerElementInParent(a,c,d,b);}},_centerElementInParent:function(u,c,r,t){r=r.toLowerCase();if(t){t+="-";}else{t="";}if(r.indexOf("y")>=0){var s=u.outerHeight(true),p=c.height(),q=(Math.max(0,p-s))/2;u.css(t+"top",q+"px");}if(r.indexOf("x")>=0){var a=u.outerWidth(true);var b=c.width();var d=(Math.max(0,b-a))/2;u.css(t+"left",d+"px");}},_centerElementInArea:function(r,s,p){p=p.toLowerCase();if(p.indexOf("y")>=0){var q=r.outerHeight(true);var d=s.height;var o=(d-q)/2;r.css("top",o+s.top+"px");}if(p.indexOf("x")>=0){var a=r.outerWidth(true);var b=s.width;var c=(b-a)/2;r.css("left",c+s.left+"px");}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown"));this.removeHandler(this._header,this._getEvent("mousemove"));this.removeHandler(this._header,"focus");this.removeHandler(f(document),this._getEvent("mousemove")+"."+this.host.attr("id"));this.removeHandler(f(document),this._getEvent("mouseup")+"."+this.host.attr("id"));this.removeHandler(this.host,"keydown");this.removeHandler(this._closeButton,this._getEvent("click"));this.removeHandler(this._closeButton,this._getEvent("mouseenter"));this.removeHandler(this._closeButton,this._getEvent("mouseleave"));this.removeHandler(this._collapseButton,this._getEvent("click"));this.removeHandler(this._collapseButton,this._getEvent("mouseenter"));this.removeHandler(this._collapseButton,this._getEvent("mouseleave"));this.removeHandler(this.host,this._getEvent("mousedown"));this.removeHandler(f(this.okButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(f(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(this._header,this._getEvent("mouseenter"));this.removeHandler(this._header,this._getEvent("mouseleave"));this.removeHandler(this.host,"resizing",this._windowResizeHandler);},_removeFromArray:function(c,a){var b=this._indexOf(c,a);if(b>=0){return a.splice(this._indexOf(c,a),1);}else{return a;}},_sortByStyle:function(o,b){for(var d=0;d<b.length;d++){for(var n=b.length-1;n>d;n--){var a=b[n],c=b[n-1],i;if(parseInt(a.css(o),10)<parseInt(c.css(o),10)){i=a;b[n]=c;b[n-1]=i;}}}},_initializeResize:function(){if(this.resizable){var a=this;this.initResize({target:this.host,alsoResize:a._content,maxWidth:a.maxWidth,minWidth:a.minWidth,maxHeight:a.maxHeight,minHeight:a.minHeight,indicatorSize:10,resizeParent:a.dragArea});}},_removeResize:function(){this.removeResize();},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a];}else{return a;}},_addEventHandlers:function(){this._addDragDropHandlers();this._addCloseHandlers();this._addCollapseHandlers();this._addFocusHandlers();this._documentResizeHandlers();this._closeButtonHover();this._collapseButtonHover();this._addDialogButtonsHandlers();this._addHeaderHoverEffect();this._addResizeHandlers();var a=this;this.addHandler(this._header,this._getEvent("mousemove"),function(b){a._addHeaderCursorHandlers(a);});},_addResizeHandlers:function(){var a=this;this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this});},_windowResizeHandler:function(a){var b=a.data.self;b._header.width(b.host.width()-(b._header.outerWidth(true)-b._header.width()));b.width=a.args.width;b.height=a.args.height;},_addHeaderHoverEffect:function(){var a=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){f(this).addClass(a.toThemeProperty("jqx-window-header-hover"));});this.addHandler(this._header,this._getEvent("mouseleave"),function(){f(this).removeClass(a.toThemeProperty("jqx-window-header-hover"));});},_addDialogButtonsHandlers:function(){if(this.okButton){this.addHandler(f(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"});}if(this.cancelButton){this.addHandler(f(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"});}},_documentResizeHandlers:function(){var a=this;if(this.isModal){this.addHandler(f(window),"resize.window"+this.element.id,function(){if(typeof a._modalBackground==="object"&&a._modalBackground!==null){if(a.isOpen()){a._modalBackground.hide();}if(!a.restricter){a._modalBackground.width(a._getDocumentSize().width);a._modalBackground.height(a._getDocumentSize().height);}else{a._modalBackground.css("left",a.dragArea.left);a._modalBackground.css("top",a.dragArea.top);a._modalBackground.width(a.dragArea.width);a._modalBackground.height(a.dragArea.height);}if(a.isOpen()){a._modalBackground.show();}}});}},_setDialogResultHandler:function(a){var b=a.data.self;b._setDialogResult(a.data.result);b.closeWindow();},_setDialogResult:function(a){this.dialogResult.OK=false;this.dialogResult.None=false;this.dialogResult.Cancel=false;a=a.toLowerCase();switch(a){case"ok":this.dialogResult.OK=true;break;case"cancel":this.dialogResult.Cancel=true;break;default:this.dialogResult.None=true;}},_getDocumentSize:function(){var c=f.jqx.browser.msie&&f.jqx.browser.version<9;var b=c?4:0;var a=b;if(document.body.scrollHeight>document.body.clientHeight&&c){b=this._SCROLL_WIDTH;}if(document.body.scrollWidth>document.body.clientWidth&&c){a=this._SCROLL_WIDTH;}return{width:f(document).width()-b,height:f(document).height()-a};},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"));});this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"));});},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"));});this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"));});},_setModalBackgroundStyles:function(){if(this.isModal){this._modalBackground.fadeTo(0,this.modalOpacity);this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex});if(!this.autoOpen){this._modalBackground.css("display","none");}}},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){if(!a.isModal){a.bringToFront();}});},_indexOf:function(b,a){for(var c=0;c<a.length;c++){if(a[c][0]===b[0]){return c;}}return -1;},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),function(b){return a._closeWindow(b);});if(this.keyboardCloseKey!=="none"){if(typeof this.keyboardCloseKey!=="number"&&this.keyboardCloseKey.toLowerCase()==="esc"){this.keyboardCloseKey=27;}}this.addHandler(this.host,"keydown",function(b){if(b.keyCode===a.keyboardCloseKey&&a.keyboardCloseKey!=null&&a.keyboardCloseKey!="none"){a._closeWindow(b);}else{a._handleKeys(b);}},{self:this});this.addHandler(this.host,"keyup",function(k){if(!a.keyboardNavigation){return;}if(a._moved){var b=a.host.coord();var c=b.left;var d=b.top;a._raiseEvent(3,c,d,c,d);a._moved=false;}});},_handleKeys:function(v){if(!this.keyboardNavigation){return;}if(!this._headerFocused){return;}if(f(document.activeElement).ischildof(this._content)){return;}var w=v.ctrlKey;var c=v.keyCode;var q=this.host.coord();var r=q.left;var d=q.top;var u=this._getDraggingArea();var t=this.host.width();var b=this.host.height();var a=true;var s=10;switch(c){case 37:if(!w){if(this.draggable){if(r-s>=0){this.move(r-s,d);}}}else{if(this.resizable){this.resize(t-s,b);}}a=false;break;case 38:if(!w){if(this.draggable){if(d-s>=0){this.move(r,d-s);}}}else{if(this.resizable){this.resize(t,b-s);}}a=false;break;case 39:if(!w){if(this.draggable){if(r+t+s<=u.width){this.move(r+s,d);}}}else{if(this.resizable){this.resize(t+s,b);}}a=false;break;case 40:if(!w){if(this.draggable){if(d+b+s<=u.height){this.move(r,d+s);}}}else{if(this.resizable){this.resize(t,b+s);}}a=false;break;}if(!a){if(v.preventDefault){v.preventDefault();}if(v.stopPropagation){v.stopPropagation();}}return a;},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){if(!a.collapsed){a.collapse();}else{a.expand();}});},_closeWindow:function(a){this.closeWindow();return false;},_addHeaderCursorHandlers:function(a){if(a.resizeArea&&a.resizable&&!a.collapsed){a._header.css("cursor",a._resizeWrapper.css("cursor"));return;}else{if(a.draggable){a._header.css("cursor","move");return;}}a._header.css("cursor","default");if(a._resizeWrapper&&a._resizeWrapper.length>0){a._resizeWrapper.css("cursor","default");}},_addDragDropHandlers:function(){if(this.draggable){var d=this;this.addHandler(this.host,"focus",function(){d._headerFocused=true;});this.addHandler(this.host,"blur",function(){d._headerFocused=false;});this.addHandler(this._header,"focus",function(){d._headerFocused=true;return false;});this.addHandler(this._header,this._getEvent("mousedown"),function(k){d._headerMouseDownHandler(d,k);return true;});this.addHandler(this._header,"dragstart",function(k){if(k.preventDefault){k.preventDefault();}return false;});this.addHandler(this._header,this._getEvent("mousemove"),function(k){return d._headerMouseMoveHandler(d,k);});this.addHandler(f(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(k){return d._dragHandler(d,k);});this.addHandler(f(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(k){return d._dropHandler(d,k);});try{if(document.referrer!=""||window.frameElement){var a=null;if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){a=document.referrer;}}if(a&&a.indexOf(document.location.host)!=-1){var b=function(k){d._dropHandler(d,k);};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",b,false);}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",b);}}}}}catch(c){}}},_headerMouseDownHandler:function(d,c){if(!d.isModal){d.bringToFront();}if(d._resizeDirection==null){var b=f.jqx.mobile.getTouches(c);var a=b[0];var k=f.jqx.position(c);d._mousePosition.x=k.left;d._mousePosition.y=k.top;d._mouseDown=true;d._isDragging=false;}},_headerMouseMoveHandler:function(n,c){if(n._mouseDown&&!n._isDragging){var b=f.jqx.mobile.getTouches(c);var a=b[0];var d=a.pageX,m=a.pageY;var o=f.jqx.position(c);d=o.left;m=o.top;if((d+3<n._mousePosition.x||d-3>n._mousePosition.x)||(m+3<n._mousePosition.y||m-3>n._mousePosition.y)){n._isDragging=true;n._mousePosition={x:d,y:m};n._windowPosition={x:n.host.coord().left,y:n.host.coord().top};f(document.body).addClass(n.toThemeProperty("jqx-disableselect"));}if(n._isTouchDevice){c.preventDefault();return true;}return false;}if(n._isDragging){if(n._isTouchDevice){c.preventDefault();return true;}return false;}return true;},_dropHandler:function(m,b){var n=true;if(m._isDragging&&!m.isResizing&&!m._resizeDirection){var o=parseInt(m.host.css("left"),10),a=parseInt(m.host.css("top"),10),c=(m._isTouchDevice)?0:b.pageX,d=(m._isTouchDevice)?0:b.pageY;m.enableResize=m._enableResizeBackup;m._enableResizeBackup="undefined";m._raiseEvent(3,o,a,c,d);n=false;if(b.preventDefault!="undefined"){b.preventDefault();}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true;}if(b.stopPropagation!="undefined"){b.stopPropagation();}}m._isDragging=false;m._mouseDown=false;f(document.body).removeClass(m.toThemeProperty("jqx-disableselect"));return n;},_dragHandler:function(b,v){if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var c=(b._isTouchDevice)?v.originalEvent.which:v.which;if(typeof b._enableResizeBackup==="undefined"){b._enableResizeBackup=b.enableResize;}b.enableResize=false;if(c===0&&f.jqx.browser.msie&&f.jqx.browser.version<8){return b._dropHandler(b,v);}var r=f.jqx.mobile.getTouches(v);var s=r[0];var d=f.jqx.position(v);var t=d.left,u=d.top,w=t-b._mousePosition.x,x=u-b._mousePosition.y,y=b._windowPosition.x+w,a=b._windowPosition.y+x;b.move(y,a,v);v.preventDefault();return false;}return true;},_validateCoordinates:function(o,a,c,b){var d=this._getDraggingArea();o=(o<d.left)?d.left:o;a=(a<d.top)?d.top:a;var n=this.host.outerWidth(true);var m=this.host.outerHeight(true);if(o+n>=d.width+d.left-2*b){o=d.width+d.left-n-b;}if(a+m>=d.height+d.top-c){a=d.height+d.top-m-c;}return{x:o,y:a};},_performLayout:function(){this._performHeaderLayout();this._performWidgetLayout();},_parseDragAreaAttributes:function(){if(this.dragArea!==null){this.dragArea.height=parseInt(this.dragArea.height,10);this.dragArea.width=parseInt(this.dragArea.width,10);this.dragArea.top=parseInt(this.dragArea.top,10);this.dragArea.left=parseInt(this.dragArea.left,10);}},_positionWindow:function(){this._parseDragAreaAttributes();if(this.position instanceof Array&&this.position.length===2&&typeof this.position[0]==="number"&&typeof this.position[1]==="number"){this.host.css({left:this.position[0],top:this.position[1]});}else{if(this.position instanceof Object){if(this.position.left){this.host.offset(this.position);}else{if(this.position.x!==undefined&&this.position.y!=undefined){this.host.css({left:this.position.x,top:this.position.y});}else{if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var a=this.position.center.coord();var b=parseInt(this.host.css("left"));var c=parseInt(this.host.css("top"));this.host.css({left:b+a.left,top:c+a.top});}}}}else{this._positionFromLiteral();}}},_getDraggingArea:function(){var a={};a.left=((this.dragArea&&this.dragArea.left)?this.dragArea.left:0);a.top=((this.dragArea&&this.dragArea.top)?this.dragArea.top:0);a.width=((this.dragArea&&this.dragArea.width)?this.dragArea.width:this._getDocumentSize().width);a.height=((this.dragArea&&this.dragArea.height)?this.dragArea.height:this._getDocumentSize().height);return a;},_positionFromLiteral:function(){if(!(this.position instanceof Array)){this.position=this.position.split(",");}var b=this.position.length,a=this._getDraggingArea();while(b){b-=1;this.position[b]=this.position[b].replace(/ /g,"");switch(this.position[b]){case"top":this.host.css("top",a.top);break;case"left":this.host.css("left",a.left);break;case"bottom":this.host.css("top",a.height-this.host.height()+a.top);break;case"right":this.host.css("left",a.left+a.width-this.host.width());break;default:if(!this.dragArea){a=f(window);}this._centerElement(this.host,a,"xy");break;}}},_raiseEvent:function(b){var c=this._events[b],a=f.Event(c),d={};if(b===2||b===3){d.x=arguments[1];d.y=arguments[2];d.pageX=arguments[3];d.pageY=arguments[4];}if(c==="closed"||c==="close"){d.dialogResult=this.dialogResult;}a.args=d;return this.host.trigger(a);},destroy:function(){this.removeHandler(f(window),"resize.window"+this.element.id);this._removeEventHandlers();this._destroy();},_destroy:function(){if(this.restricter){this.removeHandler(f(window),"resize."+this.element.id);this.removeHandler(f(window),"orientationchanged."+this.element.id);this.removeHandler(f(window),"orientationchange."+this.element.id);}this.host.remove();if(this._modalBackground!==null){this._modalBackground.remove();}},_toClose:function(a,b){return((a&&b[0]===this.element)||(b[0]!==this.element&&typeof b[0]==="object"));},propertyChangedHandler:function(d,c,a,b){this._validateProperties();switch(c){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh();this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers();this._addEventHandlers();break;case"disabled":if(b){this.disable();}else{this.disabled=true;this.enable();}break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(b);this.title=b;break;case"content":this.setContent(b);break;case"draggable":this._removeEventHandlers();this._addEventHandlers();this._initializeResize();break;case"resizable":this.enableResize=b;if(b){this._initializeResize();}else{this._removeResize();}break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":if(b){this._addDialogButtonsHandlers();}else{this.removeHandler(this.okButton);}break;case"cancelButton":if(b){this._addDialogButtonsHandlers();}else{this.removeHandler(this.cancelButton);}break;case"collapsed":if(b){if(!a){this.collapsed=false;this.collapse(0);}}else{if(a){this.collapsed=true;this.expand(0);}}case"theme":f.jqx.utilities.setTheme(a,b,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":d._performLayout();d._removeResize();d._initializeResize();return;default:return;}},collapse:function(c){if(!this.collapsed&&!this.host.is(":animated")){if(this.host.css("display")=="none"){return;}var k=this,b=this._header.outerHeight(true),a=parseInt(this._header.css("border-bottom-width"),10),d=parseInt(this._header.css("margin-bottom"),10),c=!isNaN(parseInt(c))?c:this.collapseAnimationDuration;if(!isNaN(a)){b-=2*a;}if(!isNaN(d)){b+=d;}this._heightBeforeCollapse=this.host.height();this._minHeightBeforeCollapse=this.host.css("min-height");this.host.css("min-height",b);this.host.animate({height:b},c,function(){k.collapsed=true;k._collapseButton.addClass(k.toThemeProperty("jqx-window-collapse-button-collapsed"));k._collapseButton.addClass(k.toThemeProperty("jqx-icon-arrow-down"));k._content.css("display","none");k._raiseEvent(5);k._raiseEvent(9);f.jqx.aria(k,"aria-expanded",false);});}},expand:function(a){if(this.collapsed&&!this.host.is(":animated")){var b=this,a=!isNaN(parseInt(a))?a:this.collapseAnimationDuration;this.host.animate({height:this._heightBeforeCollapse},a,function(){b.collapsed=false;b.host.css("min-height",b._minHeightBeforeCollapse);b._collapseButton.removeClass(b.toThemeProperty("jqx-window-collapse-button-collapsed"));b._collapseButton.removeClass(b.toThemeProperty("jqx-icon-arrow-down"));b._content.css("display","block");b._raiseEvent(6);b._performWidgetLayout();b._raiseEvent(9);f.jqx.aria(b,"aria-expanded",true);});}},closeAll:function(a){var a=true;var b=f.data(document.body,"jqxwindows-list"),c=b.length,d=f.data(document.body,"jqxwindow-modal")||[];while(c){c-=1;if(this._toClose(a,b[c])){b[c].jqxWindow("closeWindow","close");b.splice(c,1);}}if(this._toClose(a,d)){d.jqxWindow("closeWindow","close");f.data(document.body,"jqxwindow-modal",[]);}f.data(document.body,"jqxwindows-list",b);},setTitle:function(a){f.jqx.utilities.html(this._headerContentWrapper,a);this.title=a;this._performLayout();},setContent:function(b){this._contentInitialized=false;var c=this._content,a=false;while(!a){c.css("height","auto");c.css("width","auto");if(c.is(".jqx-window")){a=true;}else{c=c.parent();}}f.jqx.utilities.html(this._content,b);this._performLayout();},disable:function(){this.disabled=true;this._removeEventHandlers();this._header.addClass(this.toThemeProperty("jqx-window-header-disabled"));this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this._content.addClass(this.toThemeProperty("jqx-window-content-disabled"));this.host.addClass(this.toThemeProperty("jqx-window-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._removeResize();},enable:function(){if(this.disabled){this._addEventHandlers();this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled"));this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled"));this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this.host.removeClass(this.toThemeProperty("jqx-window-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=false;this._initializeResize();}},isOpen:function(){return this._visible;},closeWindow:function(a){var b=this;a=(typeof a==="undefined")?this.closeButtonAction:a;this.hide(function(){if(a==="close"){b._destroy();}});},bringToFront:function(){var i=f.data(document.body,"jqxwindows-list");if(this.isModal){i=f.data(document.body,"jqxwindows-modallist");this._fixWindowZIndex("modal-hide");this._fixWindowZIndex("modal-show");return;}var a=i[i.length-1],b=parseInt(a.css("z-index"),10),d=this._indexOf(this.host,i);for(var m=i.length-1;m>d;m-=1){var c=parseInt(i[m].css("z-index"),10)-1;i[m].css("z-index",c);}this.host.css("z-index",b);this._sortByStyle("z-index",i);},hide:function(a,b,d){if(this.closing){var c=this.closing();if(c==false){return;}}b=b||this.closeAnimationDuration;switch(this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(b,function(){if(a instanceof Function){a();}});case"slide":this.host.slideUp(b,function(){if(a instanceof Function){a();}});case"combined":this.host.hide(b,function(){if(a instanceof Function){a();}});}this._visible=false;if(this.isModal){this._modalBackground.hide();this._fixWindowZIndex("modal-hide");}if(d!==true){this._raiseEvent(1);this._raiseEvent(8);}},open:function(a,b){this.show(a,b);},close:function(a,b,c){this.hide(a,b,c);},show:function(a,b){this._setDialogResult("none");b=b||this.showAnimationDuration;switch(this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(b,function(){if(a instanceof Function){a();}});break;case"slide":this.host.slideDown(b,function(){if(a instanceof Function){a();}});break;case"combined":this.host.show(b,function(){if(a instanceof Function){a();}});break;}if(this.isModal){this._modalBackground.show();this._fixWindowZIndex("modal-show");}var c=this;if(!this._visible){if(b>150&&this.animationType!="none"){setTimeout(function(){if(!c._contentInitialized){if(c.initContent){c.initContent();c._contentInitialized=true;}}c._raiseEvent(7);c._raiseEvent(9);},b-150);}else{if(!c._contentInitialized){if(c.initContent){c.initContent();c._contentInitialized=true;}}this._raiseEvent(7);c._raiseEvent(9);}}this._visible=true;this._performLayout();var d=function(){if(!c._isTouchDevice){c._content.focus();}};d();setTimeout(function(){d();},100);},_getTabbables:function(){var a=this._content.find("*");var b=new Array();f.each(a,function(){if(g(this)){b[b.length]=this;}});return b;},move:function(a,b,y,v){var w=0,x=0,d,t,u,a=parseInt(a,10),b=parseInt(b,10);if(f.jqx.browser.msie){if(f(window).width()>f(document).width()&&!this.dragArea){x=this._SCROLL_WIDTH;}if(f(window).height()<f(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea){w=this._SCROLL_WIDTH;}}d=this._validateCoordinates(a,b,x,w);if(parseInt(this.host.css("left"),10)!==d.x||parseInt(this.host.css("top"),10)!==d.y){if(y){var r=f.jqx.mobile.getTouches(y);var s=r[0];var c=f.jqx.position(y);t=c.left;u=c.top;}if(t==undefined){t=a;}if(u==undefined){u=b;}if(v!==false){this._raiseEvent(2,d.x,d.y,t,u);}}this.element.style.left=d.x+"px";this.element.style.top=d.y+"px";this._moved=true;}});function h(d,m){var a=d.nodeName.toLowerCase();if("area"===a){var b=d.parentNode,c=b.name,l;if(!d.href||!c||b.nodeName.toLowerCase()!=="map"){return false;}l=f("img[usemap=#"+c+"]")[0];return !!l&&e(l);}return(/input|select|textarea|button|object/.test(a)?!d.disabled:"a"==a?d.href||m:m)&&e(d);}function e(a){return !f(a).parents().andSelf().filter(function(){return f.css(this,"visibility")==="hidden"||f.expr.filters.hidden(this);}).length;}function g(a){var c=f.attr(a,"tabindex"),b=isNaN(c);return(b||c>=0)&&h(a,!b);}}(jqxBaseFramework));(function(c){var d=(function(a){return{resizeConfig:function(){this.resizeTarget=null;this.resizeIndicatorSize=5;this.resizeTargetChildren=null;this.isResizing=false;this.resizeArea=false;this.minWidth=1;this.maxWidth=100;this.minHeight=1;this.maxHeight=100;this.resizeParent=null;this.enableResize=true;this._cursorBackup;this._resizeEvents=["resizing","resized","resize"];this._resizeMouseDown=false;this._resizeCurrentMode=null;this._mouseResizePosition={};this._resizeMethods=null;this._SCROLL_WIDTH=21;},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var b=a(this.resizeTarget.children(".jqx-resize"));b.detach();var g=b.children();this._removeResizeEventListeners();for(var h=0;h<g.length;h+=1){a(g[h]).detach();this.resizeTarget.append(g[h]);}b.remove();}},initResize:function(b){this.resizeConfig();this.resizeTarget=a(b.target);this.resizeIndicatorSize=b.indicatorSize||10;this.maxWidth=b.maxWidth||100;this.minWidth=b.minWidth||1;this.maxHeight=b.maxHeight||100;this.minHeight=b.minHeight||1;this.resizeParent=b.resizeParent;this._parseResizeParentProperties();this._validateResizeProperties();this._validateResizeTargetDimensions();this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,b.alsoResize);this._refreshResize();this._cursorBackup=this.resizeTarget.css("cursor");if(this._cursorBackup==="auto"){this._cursorBackup="default";}},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth;this.resizeTarget.minWidth=((3*this.resizeIndicatorSize>this.minWidth)?3*this.resizeIndicatorSize:this.minWidth);this.resizeTarget.maxHeight=this.maxHeight;this.resizeTarget.minHeight=((3*this.resizeIndicatorSize>this.minHeight)?3*this.resizeIndicatorSize:this.minHeight);},_parseResizeParentProperties:function(){if(this.resizeParent){this.resizeParent.left=parseInt(this.resizeParent.left,10);this.resizeParent.top=parseInt(this.resizeParent.top,10);this.resizeParent.width=parseInt(this.resizeParent.width,10);this.resizeParent.height=parseInt(this.resizeParent.height,10);}},_getChildren:function(k,n,l,b,o){this.resizeTargetChildren=a(o);this.resizeTargetChildren.toArray();var m=this.resizeTargetChildren.length;while(m){m-=1;this.resizeTargetChildren[m]=a(this.resizeTargetChildren[m]);}},_refreshResize:function(){this._renderResize();this._performResizeLayout();this._removeResizeEventListeners();this._addResizeEventHandlers();},_renderResize:function(){this.resizeTarget.wrapInner(a("<div></div>"));this._resizeWrapper=this.resizeTarget.children(0);this._resizeWrapper.addClass("jqx-resize");this._resizeWrapper.addClass("jqx-rc-all");this._resizeWrapper.css("z-index",8000);},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height());this._resizeWrapper.width(this.resizeTarget.width());},_removeResizeEventListeners:function(){var b=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+b);this.removeHandler(this._resizeWrapper,"mousedown.resize"+b);this.removeHandler(a(document),"mousemove.resize"+b);this.removeHandler(a(document),"mouseup.resize"+b);},_addResizeEventHandlers:function(){var b=this.resizeTarget.attr("id");var k=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+b,function(e){k._resizeCursorChangeHandler(k,e);});this.addHandler(this._resizeWrapper,"mousedown.resize."+b,function(e){k._resizeMouseDownHandler(k,e);});this.addHandler(a(document),"mousemove.resize."+b,function(e){return k._resizeHandler(k,e);});this.addHandler(a(document),"mouseup.resize."+b,function(e){k._stopResizing(k,e);});try{if(document.referrer!=""||window.frameElement){var h=function(e){k._stopResizing(k,e);};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",h,false);}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",h);}}}}catch(i){}},_stopResizing:function(f,b){if(f.enableResize){if(f.isResizing){f._raiseResizeEvent(1);}f._resizeMouseDown=false;f.isResizing=false;f._resizeDirection=null;if(f.resizeTarget){f.resizeTarget.removeClass("jqx-disableselect");}}if(f._cursorBackup=="undefined"){f._cursorBackup="default";}if(f._resizeWrapper){f._resizeWrapper.css("cursor",f._cursorBackup);}},_resizeHandler:function(f,b){if(f.enableResize&&!f.collapsed){if(f.isResizing&&f._resizeDirection){if(b.which===0&&a.jqx.browser.msie&&a.jqx.browser.version<9){f._stopResizing(b);}f._performResize(b.pageX,b.pageY);return false;}else{return f._resizeCaptureCursor(b.pageX,b.pageY);}}},_resizeCaptureCursor:function(b,f){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if((b+3<this._mouseResizePosition.x||b-3>this._mouseResizePosition.x)||(f+3<this._mouseResizePosition.y||f-3>this._mouseResizePosition.y)){this._changeCursor(b-parseInt(this.resizeTarget.css("left")),f-parseInt(this.resizeTarget.css("top")));this._mouseResizePosition={x:b,y:f};this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this.resizeTarget.addClass("jqx-disableselect");return false;}}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width();this.resizeTarget.lastHeight=this.resizeTarget.height();this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10);this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10);this._resizeBackupChildrenSize();},_resizeBackupChildrenSize:function(){var f=this.resizeTargetChildren.length,b;while(f){f-=1;b=this.resizeTargetChildren[f];this.resizeTargetChildren[f].lastWidth=b.width();this.resizeTargetChildren[f].lastHeight=b.height();}},_performResize:function(b,h){var i=b-this._mouseResizePosition.x,k=h-this._mouseResizePosition.y;if(this._resizeDirection){this._resize(this.resizeTarget,i,k);}},_resizeCursorChangeHandler:function(f,b){if(f.enableResize&&!f.collapsed){if(!f.isResizing){f._changeCursor(b.pageX-parseInt(f.resizeTarget.css("left")),b.pageY-parseInt(f.resizeTarget.css("top")));}}},_resizeMouseDownHandler:function(f,b){if(f.enableResize){if(f._resizeDirection!==null){f._resizeMouseDown=true;f._mouseResizePosition.x=b.pageX;f._mouseResizePosition.y=b.pageY;b.preventDefault();}}},_validateResizeProperties:function(){try{if(!this.resizeTarget||this.resizeTarget.length!==1){throw new Error(this._resizeExceptions.invalidTarget);}if(this.minHeight<0||isNaN(parseInt(this.minHeight))){throw new Error(this._resizeExceptions.invalidMinHeight);}if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight))){throw new Error(this._resizeExceptions.invalidMaxHeight);}if(this.minWidth<0||isNaN(parseInt(this.minWidth))){throw new Error(this._resizeExceptions.invalidMinWidth);}if(this.maxWidth<0||isNaN(parseInt(this.maxWidth))){throw new Error(this._resizeExceptions.invalidMaxWidth);}if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize))){throw new Error(this._resizeExceptions.invalidIndicatorSize);}if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth){throw new Error(this._resizeExceptions.invalidSize);}}catch(b){alert(b);}},_changeCursor:function(f,b){if(this.isResizing||this._resizeMouseDown){return;}this.resizeArea=true;if(f<=this.resizeIndicatorSize&&f>=0&&b<=this.resizeIndicatorSize&&b>0){this._resizeWrapper.css("cursor","nw-resize");this._resizeDirection="topleft";}else{if(b<=this.resizeIndicatorSize&&b>0&&f>=this.resizeTarget.width()-this.resizeIndicatorSize){this._resizeWrapper.css("cursor","ne-resize");this._resizeDirection="topright";}else{if(b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&f<=this.resizeIndicatorSize&&f>=0){this._resizeWrapper.css("cursor","sw-resize");this._resizeDirection="bottomleft";}else{if(b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&f>=this.resizeTarget.width()-this.resizeIndicatorSize&&f<this.resizeTarget.width()){this._resizeWrapper.css("cursor","se-resize");this._resizeDirection="bottomright";}else{if(f<=this.resizeIndicatorSize&&f>=0){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="left";}else{if(b<=this.resizeIndicatorSize&&b>0){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="top";}else{if(b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="bottom";}else{if(f>=this.resizeTarget.width()-this.resizeIndicatorSize&&f<this.resizeTarget.width()){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="right";}else{this._resizeWrapper.css("cursor",this._cursorBackup);this._resizeDirection=null;this.resizeArea=false;}}}}}}}}},_prepareResizeMethods:function(b){this._resizeMethods=[];if(b.indexOf("left")>=0){this._resizeMethods.push(this._resizeLeft);}if(b.indexOf("top")>=0){this._resizeMethods.push(this._resizeTop);}if(b.indexOf("right")>=0){this._resizeMethods.push(this._resizeRight);}if(b.indexOf("bottom")>=0){this._resizeMethods.push(this._resizeBottom);}},_validateResize:function(i,m,b,k,l){if(b==="horizontal"||b==="both"){return this._validateWidth(i,k,l);}else{if(b==="vertical"||b==="both"){return this._validateHeight(m,k,l);}}return{result:false,fix:0};},_getParent:function(){if(this.resizeParent!==null&&this.resizeParent!=="undefined"&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left){return this.resizeParent;}return{left:0,top:0,width:a(document).width(),height:a(document).height()};},_validateHeight:function(q,m,n){var b=0,r=2,s=false,o=q,p=this._getParent();if(a(window).width()>a(document).width()&&a.jqx.browser.msie&&p.height===a(document).height()){b=this._SCROLL_WIDTH;}if(n==="bottom"&&(q+m.position().top+b+r>p.height+p.top)){return{fix:p.height-m.position().top-b-r+p.top,result:false};}if(n==="top"&&m.lastHeight-q+m.y<p.top){return{fix:q+(m.lastHeight-q+m.y)-p.top,result:false};}if(q<m.minHeight){return{fix:m.minHeight,result:false};}if(q>m.maxHeight){return{fix:m.maxHeight,result:false};}return{result:true,fix:q};},_validateWidth:function(m,n,o){var b=0,r=2,s=false,p=m,q=this._getParent();if(a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&q.width===a(document).width()){b=this._SCROLL_WIDTH;}if(o==="right"&&(m+n.position().left+b+r>q.width+q.left)){return{fix:q.width-n.position().left-b-r+q.left,result:false};}if(o==="left"&&(n.lastWidth-m+n.x<q.left)){return{fix:m+(n.lastWidth-m+n.x)-q.left,result:false};}if(m<n.minWidth){return{fix:n.minWidth,result:false};}if(m>n.maxWidth){return{fix:n.maxWidth,result:false};}return{result:true,fix:m};},_resize:function(m,p,q){var b=this._resizeDirection;var i=this._resizeMethods.length;for(var n=0;n<i;n++){if(this._resizeMethods[n] instanceof Function){var o={element:m,x:p,y:q,self:this};this._resizeMethods[n](o);}}this._performResizeLayout();},resize:function(i,m){if(this.resizable){var k=i-this.host.width();var l=m-this.host.height();var b="right";if(l!=0){b="bottom";}this._resizeDirection=b;this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this._resize(this.resizeTarget,k,l);this.isResizing=false;}},_setResizeChildrenSize:function(l,k){var b=this.resizeTargetChildren.length;while(b){b--;if(k==="width"){var i=this.resizeTargetChildren[b].lastWidth-(this.resizeTarget.lastWidth-l);if(i<this.resizeTarget.maxWidth&&i>0){this.resizeTargetChildren[b].width(i);}}else{var m=this.resizeTargetChildren[b].lastHeight-(this.resizeTarget.lastHeight-l);if(m<this.resizeTarget.maxHeight&&m>0){this.resizeTargetChildren[b].height(m);}}}},_resizeRight:function(g){var b=g.element.lastWidth+g.x,h=g.self._validateResize(b,0,"horizontal",g.element,"right");if(!h.result){b=h.fix;}if(g.element.width()!==b){g.self._setResizeChildrenSize(b,"width");g.element.width(b);g.self._raiseResizeEvent(0);}return b;},_resizeLeft:function(h){var b=h.element.lastWidth-h.x,i=h.self._validateResize(b,0,"horizontal",h.element,"left"),k=h.element.x+h.x;if(!i.result){k=h.element.x+(h.element.lastWidth-i.fix);b=i.fix;return;}if(h.element.width()!==b){h.self._setResizeChildrenSize(b,"width");h.element.width(b);h.element.css("left",k);h.self._raiseResizeEvent(0);}return b;},_resizeBottom:function(b){var g=b.element.lastHeight+b.y,h=b.self._validateResize(0,g,"vertical",b.element,"bottom");if(!h.result){g=h.fix;}if(b.element.height()!==g){b.self._setResizeChildrenSize(g,"height");b.element.height(g);b.self._raiseResizeEvent(0);}return g;},_resizeTop:function(h){var i=h.element.lastHeight-h.y,k=h.self._validateResize(0,i,"vertical",h.element,"top"),b=h.element.y+h.y;if(!k.result){b=h.element.y+(h.element.lastHeight-k.fix);i=k.fix;return;}if(h.element.height()!==i){h.self._setResizeChildrenSize(i,"height");h.element.height(i);h.element.css("top",b);h.self._raiseResizeEvent(0);}return i;},_raiseResizeEvent:function(k){var l=this._resizeEvents[k],i=a.Event(l),m={};m.width=parseInt(this.resizeTarget[0].style.width);m.height=parseInt(this.resizeTarget[0].style.height);i.args=m;if(k==0){var l=this._resizeEvents[2],b=a.Event(l);b.args=m;this.resizeTarget.trigger(b);}return this.resizeTarget.trigger(i);}};}(jqxBaseFramework));c.extend(c.jqx._jqxWindow.prototype,d);}(jqxBaseFramework));